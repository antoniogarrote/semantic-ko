(function(){var A={"extends":function(c,b){b.prototype=new c},stackCounterLimit:1E3,stackCounter:0};A.recur=function(c){A.stackCounter===A.stackCounterLimit?(A.stackCounter=0,setTimeout(c,0)):(A.stackCounter++,c())};A.shuffle=function(c){for(var b,d,j=c.length;j;b=parseInt(Math.random()*j),d=c[--j],c[j]=c[b],c[b]=d);return c};A.include=function(c,b,d){for(var j=c.length-1;j>=0;j--){var e=!1,e=d==null?c[j]===b:d(c[j],b)===0;if(e===!0)return!0}return!1};A.remove=function(c,b){for(var d=[],j=0;j<c.length;j++)c[j]!==
b&&d.push(c[j]);return d};A.repeat=function(c,b,d,j,e){arguments.length===4&&(e={});c<b?(e._i=c,d(function(h,d){A.recur(function(){A.repeat(c+1,b,h,j,d)})},e)):j(e)};Utilsmeanwhile=function(c,b,d,j){arguments.length===3&&(j={});j._stack_counter==null&&(j._stack_counter=0);c===!0?b(function(b,h,c){c._stack_counter%40==39?(c._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(b,h,d,c)},0)):(c._stack_counter+=1,Utilsmeanwhile(b,h,d,c))},j):d(j)};A.seq=function(){var c=arguments;return function(b){A.repeat(0,
c.length,function(b,j){var e=arguments.callee;c[j._i](function(){b(e,j)})},function(){b()})}};A.partition=function(c,b){for(var d=c.length%b,j=[],e=0;e<d;e++)j.push(null);d=[];for(e=0;e<c.length;e++)j.push(c[e]),j.length%b==0&&(d.push(j),j=[]);return d};A.keys=function(c){var b=[],d;for(d in c)b.push(d);return b};A.iso8601=function(c){function b(b){return b<10?"0"+b:b}return c.getUTCFullYear()+"-"+b(c.getUTCMonth()+1)+"-"+b(c.getUTCDate())+"T"+b(c.getUTCHours())+":"+b(c.getUTCMinutes())+":"+b(c.getUTCSeconds())+
"Z"};A.parseStrictISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,d=new Date(c[1],0,1);if(c[3])d.setMonth(c[3]-1);else throw"missing ISO8061 component";if(c[5])d.setDate(c[5]);else throw"missing ISO8061 component";if(c[7])d.setHours(c[7]);else throw"missing ISO8061 component";if(c[8])d.setMinutes(c[8]);else throw"missing ISO8061 component";if(c[10])d.setSeconds(c[10]);else throw"missing ISO8061 component";
c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};A.parseISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,d=new Date(c[1],0,1);c[3]&&d.setMonth(c[3]-1);c[5]&&d.setDate(c[5]);c[7]&&d.setHours(c[7]);c[8]&&d.setMinutes(c[8]);c[10]&&
d.setSeconds(c[10]);c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};A.parseISO8601Components=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),b,d,j,e,h,m,f,r;b=Number(c[1]);d=c[3]-1;j=Number(c[5]);e=Number(c[7]);h=Number(c[8]);m=Number(c[10]);
c[12]&&(f=Number("0."+c[12])*1E3);c[13]==="Z"?r=0:c[14]?(r=0,c[17]&&(r=Number(c[17])),r+=Number(c[15])*60,r*=c[14]=="-"?-1:1):c[14]==null&&c[11]&&(r=Number(c[12])*60);return{year:isNaN(b)?null:b,month:isNaN(d)?null:d,date:isNaN(j)?null:j,hours:isNaN(e)?null:e,minutes:isNaN(h)?null:h,seconds:isNaN(m)?null:m,millisecs:isNaN(f)?null:f,timezone:isNaN(r)?null:r}};A.compareDateComponents=function(c,b){var d=A.parseISO8601Components(c),j=A.parseISO8601Components(b);return d.timezone==null&&j.timezone==null||
d.timezone!=null&&j.timezone!=null?(da=A.parseISO8601(c),db=A.parseISO8601(b),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):d.timezone!=null&&j.timezone==null?(da=A.parseISO8601(c),db=A.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta<tb+d?-1:ta>tb&&ta>tb-d?1:null):(da=A.parseISO8601(c),db=A.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta+d<tb?-1:ta>tb&&ta+d>tb?1:null)};A.lexicalFormLiteral=function(c,b){var d=c.value,j=c.lang,e=c.type,h=null;d!=null&&
e!=null&&typeof e!="string"?(d=e.value,d!=null?h='"'+c.value+'"^^<'+d+">":(d=e.suffix,e=b.namespaces[e.prefix],c.type=e+d,h='"'+c.value+'"^^<'+e+d+">")):h=j==null&&e==null?'"'+d+'"':e==null?'"'+d+'"@'+j:'"'+c.value+'"^^<'+e+">";return h};A.lexicalFormBaseUri=function(c,b){var d=null;if(c.value==null){var j=c.suffix,e=b.namespaces[c.prefix];e!=null&&(d=e+j)}else d=c.value;if(d===null)return null;else d.indexOf(":")==-1&&(d=(b.base||"")+d);return d};A.lexicalFormTerm=function(c,b){if(c.token==="uri")return{uri:A.lexicalFormBaseUri(c,
b)};else if(c.token==="literal")return{literal:A.lexicalFormLiteral(c,b)};else if(c.token==="blank"){var d="_:"+b.blank;b.blank+=1;return{blank:d}}else callback(!1,"Token of kind "+c.token+" cannot transformed into its lexical form")};A.normalizeUnicodeLiterals=function(c){for(var b=c.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],d={},j=0;j<b.length;j++)d[b[j]]==null&&(d[b[j]]=!0,c=c.replace(RegExp("\\"+b[j],"g"),eval("'"+b[j]+"'")));return c};A.hashTerm=function(c){try{if(c==null)return"";if(c.token===
"uri")return"u"+c.value;else if(c.token==="blank")return"b"+c.value;else if(c.token==="literal")return l="l"+c.value,l+=c.type||"",l+=c.lang||"",l}catch(b){if(typeof c==="object"){var d="";for(p in c)d=d+p+c[p];return d}return c}};var H={};H._repeat=function(c,b,d,j,e){c<b?(e._i=c,d(function(h,d){H._repeat(c+1,b,h,j,d)},e)):j(e)};H.Tree=function(c,b){if(arguments.length!=0){this.order=c;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var d=this;this._diskWrite(this.root,function(c){d.root=
c;d._updateRootNode(d.root,function(){d.comparator=function(b,h){return b<h?-1:b>h?1:0};d.merger=null;b!=null&&b(d)})})}};H.Tree.prototype._allocateNode=function(){return new H.Node};H.Tree.prototype._diskWrite=function(c,b){b(c)};H.Tree.prototype._diskRead=function(c,b){b(c)};H.Tree.prototype._diskDelete=function(c,b){b()};H.Tree.prototype._updateRootNode=function(c,b){b(c)};H.Tree.prototype.search=function(c,b,d){this.__search(this,c,this.root,b,d)};H.Tree.prototype.__search=function(c,b,d,j,e){for(var h=
0;h<d.numberActives&&c.comparator(b,d.keys[h].key)===1;)h++;h<d.numberActives&&c.comparator(d.keys[h].key,b)===0?e!=null&&e==!0?j(!0):j(d.keys[h].data):d.isLeaf===!0?j(null):c._diskRead(d.children[h],function(h){c.__search(c,b,h,j,e)})};H.Tree.prototype.walk=function(c){this.__walk(this,this.root,c,function(){})};H.Tree.prototype.__walk=function(c,b,d,j){if(b.isLeaf){for(var e=0;e<b.numberActives;e++)d(b.keys[e]);return j()}else{var h=b.numberActives,m=function(h,e){c._diskRead(b.children[e._i],function(j){c.__walk(c,
j,d,function(){c._diskRead(b.keys[e._i],function(b){d(b);h(m,e)})})})};H._repeat(0,h,m,function(){c._diskRead(b.children[h],function(b){c.__walk(c,b,d,function(){j()})})},{})}};H.Tree.prototype.walkNodes=function(c){this.__walkNodes(this,root,c,function(){})};H.Tree.prototype.__walkNodes=function(c,b,d,j){if(b.isLeaf)return d(b),j();else{d(b);var e=b.numberActives,h=function(e,j){c._diskRead(b.children[j._i],function(b){c.__walkNodes(c,b,d,function(){e(h,j)})})};H._repeat(0,e,h,function(){c._diskRead(b.children[e],
function(b){c.__walkNodes(c,b,d,function(){})})},{})}};H.Tree.prototype._splitChild=function(c,b,d,j){var e=this._allocateNode();e.isLeaf=d.isLeaf;e.level=d.level;e.numberActives=this.order-1;var h=d.keys[this.order-1];d.keys[this.order-1]=null;for(var m=0;m<this.order-1;m++)e.keys[m]=d.keys[m+this.order],d.keys[m+this.order]=null,d.isLeaf||(e.children[m]=d.children[m+this.order],d.children[m+this.order]=null);d.isLeaf||(e.children[m]=d.children[m+this.order],d.children[m+this.order]=null);d.numberActives=
this.order-1;for(m=c.numberActives+1;m>b+1;m--)c.children[m]=c.children[m-1];c.children[b+1]=e;for(m=c.numberActives;m>b;m--)c.keys[m]=c.keys[m-1];c.keys[b]=h;c.numberActives++;var f=this;this._diskWrite(e,function(h){f._diskWrite(c,function(c){c.children[b+1]=h;f._diskWrite(d,function(){return j(c)})})})};H.Tree.prototype.insert=function(c,b,d){if(this.root.numberActives===2*this.order-1){var j=this._allocateNode();j.isLeaf=!1;j.level=this.root.level+1;j.numberActives=0;j.children[0]=this.root;var e=
this;this._splitChild(j,0,this.root,function(h){j=h;e.root=j;e._updateRootNode(j,function(h){e._insertNonFull(h,c,b,d)})})}else this._insertNonFull(this.root,c,b,d)};H.Tree.prototype._insertNonFull=function(c,b,d,j){this.__insertNonFull(this,c,c.numberActives-1,b,d,j)};H.Tree.prototype.__insertNonFull=function(c,b,d,j,e,h){if(b.isLeaf){for(;d>=0&&c.comparator(j,b.keys[d].key)===-1;)b.keys[d+1]=b.keys[d],d--;b.keys[d+1]={key:j,data:e};b.numberActives++;c._diskWrite(b,function(b){return h(b)})}else{for(;d>=
0&&c.comparator(j,b.keys[d].key)===-1;)d--;d++;c._diskRead(b.children[d],function(f){f.numberActives===2*c.order-1?c._splitChild(b,d,f,function(){c.comparator(j,b.keys[d].key)===1&&d++;c._diskRead(b.children[d],function(b){d=b.numberActives-1;c.__insertNonFull(c,b,d,j,e,h)})}):c._diskRead(b.children[d],function(b){d=b.numberActives-1;c.__insertNonFull(c,b,d,j,e,h)})})}};H.Tree.prototype["delete"]=function(c,b){H.Tree.prototype.__deleteSearchNode(this,c,this.root,b)};H.Tree.prototype.__deleteSearchNode=
function(c,b,d,j){i=0;if(d.numberActives===0)return j(!1);for(;i<d.numberActives&&c.comparator(b,d.keys[i].key)===1;)i++;idx=i;if(i<d.numberActives&&c.comparator(b,d.keys[i].key)===0)return c.__deleteNodeFound(c,b,d,j);if(d.isLeaf===!0)return j(!1);parent=d;c._diskRead(d.children[i],function(d){if(d===null)return j(!1);var h=!1,f=!1,o=null,r=null;idx===parent.numberActives?(f=!0,r=parent.children[idx-1],o=parent.children[idx-1]):idx===0?(h=!0,o=parent.children[1],r=parent.children[1]):(r=parent.children[idx-
1],o=parent.children[idx+1]);c._diskRead(r,function(r){c._diskRead(o,function(o){f===!0&&(o=null);h===!0&&(r=null);d.numberActives===c.order-1&&parent!=null?o!=null&&o.numberActives>c.order-1?c._moveKey(parent,i,-1,function(){c.__deleteSearchNode(c,b,d,j)}):r!=null&&r.numberActives>c.order-1?c._moveKey(parent,i,1,function(){c.__deleteSearchNode(c,b,d,j)}):r!=null&&r.numberActives===c.order-1?c._mergeSiblings(parent,i,-1,function(h){c.__deleteSearchNode(c,b,h,j)}):o!=null&&o.numberActives===c.order-
1&&c._mergeSiblings(parent,i,1,function(h){c.__deleteSearchNode(c,b,h,j)}):c.__deleteSearchNode(c,b,d,j)})})})};H.Tree.prototype.__deleteNodeFound=function(c,b,d,j){if(d.isLeaf&&d.numberActives>c.order-1)return c._deleteKeyFromNode(d,idx,function(){j(!0)}),!0;if(d.isLeaf&&d===c.root)return c._deleteKeyFromNode(d,idx,function(){j(!0)}),!0;d.isLeaf===!1&&c._diskRead(d.children[idx],function(e){e.numberActives>c.order-1?c._getMaxKeyPos(c,e,function(h){b=h.node.keys[h.index];d.keys[idx]=b;c._diskWrite(d,
function(h){h=e;b=b.key;c.__deleteSearchNode(c,b,h,j)})}):c._diskRead(d.children[idx+1],function(h){h.numberActives>c.order-1?c._getMinKeyPos(c,h,function(e){b=e.node.keys[e.index];d.keys[idx]=b;c._diskWrite(d,function(d){d=h;b=b.key;c.__deleteSearchNode(c,b,d,j)})}):e.numberActives===c.order-1&&h.numberActives===c.order-1&&c._mergeNodes(e,d.keys[idx],h,function(h){d.children[idx]=h;idx++;for(var e=idx;e<d.numberActives;e++)d.children[e]=d.children[e+1],d.keys[e-1]=d.keys[e];d.children[e]=null;d.keys[e-
1]=null;d.numberActives--;if(d.numberActives===0&&c.root===d)c.root=h;c._diskWrite(d,function(){c.__deleteSearchNode(c,b,h,j)})})})});d.isLeaf&&d.numberActives>c.order-1&&c._deleteKeyFromNode(d,idx,function(d){c.__deleteSearchNode(c,b,d,j)})};H.Tree.prototype._moveKey=function(c,b,d,j){d===1&&b--;var e=this;e._diskRead(c.children[b],function(h){e._diskRead(c.children[b+1],function(f){if(d==-1){h.keys[h.numberActives]=c.keys[b];h.children[h.numberActives+1]=f.children[0];f.children[0]=null;h.numberActives++;
c.keys[b]=f.keys[0];for(var o=1;o<f.numberActives;o++)f.keys[o-1]=f.keys[o],f.children[o-1]=f.children[o];f.children[f.numberActives-1]=f.children[f.numberActives];f.numberActives--}else{f.children[f.numberActives+1]=f.children[f.numberActives];for(o=f.numberActives;o>0;o--)f.children[o]=f.children[o-1],f.keys[o]=f.keys[o-1];f.keys[0]=null;f.children[0]=null;f.children[0]=h.children[h.numberActives];f.keys[0]=c.keys[b];f.numberActives++;h.children[h.numberActives]=null;c.keys[b]=h.keys[h.numberActives-
1];h.keys[h.numberActives-1]=null;h.numberActives--}e._diskWrite(h,function(){e._diskWrite(f,function(){e._diskWrite(c,function(b){return j(b)})})})})})};H.Tree.prototype._mergeSiblings=function(c,b,d,j){var e,h,f;b===c.numberActives?(b--,d=c.children[c.numberActives-1],f=c.children[c.numberActives]):(d=c.children[b],f=c.children[b+1]);var o=this;o._diskRead(d,function(d){o._diskRead(f,function(f){var m=o._allocateNode();m.isLeaf=d.isLeaf;m.level=d.level;for(h=0;h<o.order-1;h++)m.keys[h]=d.keys[h],
m.children[h]=d.children[h];m.keys[o.order-1]=c.keys[b];m.children[o.order-1]=d.children[o.order-1];for(h=0;h<o.order-1;h++)m.keys[h+o.order]=f.keys[h],m.children[h+o.order]=f.children[h];m.children[2*o.order-1]=f.children[o.order-1];c.children[b]=m;for(h=b;h<c.numberActives;h++)c.keys[h]=c.keys[h+1],c.children[h+1]=c.children[h+2];m.numberActives=d.numberActives+f.numberActives+1;c.numberActives--;for(e=c.numberActives;e<2*o.order-1;e++)c.keys[e]=null;if(c.numberActives===0&&o.root===c)o.root=m,
m.isLeaf=m.level?!1:!0;o._diskWrite(m,function(b){o._diskWrite(c,function(){o._diskDelete(d,function(){o._diskDelete(f,function(){if(o.root===b)o._updateRootNode(o.root,function(){return j(b)});else return j(b)})})})})})})};H.Tree.prototype._deleteKeyFromNode=function(c,b,d){var j=2*this.order-1;if(c.numberActives<j)j=c.numberActives;if(c.isLeaf===!1)return!1;for(;b<j-1;b++)c.keys[b]=c.keys[b+1];c.keys.pop();c.numberActives--;this._diskWrite(c,function(b){return d(b)})};H.Tree.prototype._mergeNodes=
function(c,b,d,j){var e,h;e=this._allocateNode();e.isLeaf=!0;for(h=0;h<c.numberActives;h++)e.keys[h]=c.keys[h],e.children[h]=c.children[h];e.children[c.numberActives]=c.children[c.numberActives];e.keys[c.numberActives]=b;for(h=0;h<d.numberActives;h++)e.keys[h+c.numberActives+1]=d.keys[h],e.children[h+c.numberActives+1]=d.children[h];e.children[2*this.order-1]=d.children[d.numberActives];e.numberActives=c.numberActives+d.numberActives+1;e.isLeaf=c.isLeaf;e.level=c.level;var f=this;this._diskWrite(e,
function(b){f._diskDelete(c,function(){f._diskDelete(d,function(){return j(b)})})})};H.Tree.prototype.audit=function(c){var b=[],d=[],j=this,e=function(h){for(var e=0;e<d.length;e++)if(j.comparator(d[e],h)===0){var f=" !!! duplicated key "+h;c===!0&&console.log(f);b.push(f)}},h=null,j=this;this.walkNodes(function(f){c===!0&&(console.log("--- Node at "+f.level+" level"),console.log(" - leaf? "+f.isLeaf),console.log(" - num actives? "+f.numberActives),console.log(" - keys: "));for(var o=f.numberActives;o<
f.keys.length;o++)f.keys[o]!=null&&c===!0&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(o=f.numberActives+1;o<f.children.length;o++)f.children[o]!=null&&c===!0&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(f.isLeaf===!1)for(o=0;o<f.numberActives;o++){var r=this._diskRead(f.children[o]).keys[this._diskRead(f.children[o]).numberActives-1].key,u=this._diskRead(f.children[o+1]).keys[0].key;c===!0&&
console.log("   "+f.keys[o].key+"("+r+","+u+")");if(j.comparator(f.keys[o].key,r)===-1){var w=" !!! value max left "+r+" > key "+f.keys[o].key;c===!0&&console.log(w);b.push(w)}j.comparator(f.keys[o].key,u)===1&&(w=" !!! value min right "+u+" < key "+f.keys[o].key,c===!0&&console.log(w),b.push(w));e(f.keys[o].key);d.push(f.keys[o].key)}else{h===null?h=f.level:h!=f.level&&(w=" !!! Leaf node with wrong level value",c===!0&&console.log(w),b.push(w));for(o=0;o<f.numberActives;o++)c===!0&&console.log(" "+
f.keys[o].key),e(f.keys[o].key),d.push(f.keys[o].key)}f!=j.root&&(f.numberActives>2*j.order-1&&(c===!0&&(w=" !!!! MAX num keys restriction violated "),console.log(w),b.push(w)),f.numberActives<j.order-1&&(c===!0&&(w=" !!!! MIN num keys restriction violated "),console.log(w),b.push(w)))});return b};H.Tree.prototype._getMaxKeyPos=function(c,b,d){var j={};if(b===null)return d(null);if(b.isLeaf===!0)return j.node=b,j.index=b.numberActives-1,d(j);else j.node=b,j.index=b.numberActives-1,c._diskRead(b.children[b.numberActives],
function(b){return c._getMaxKeyPos(c,b,d)})};H.Tree.prototype._getMinKeyPos=function(c,b,d){var j={};b===null&&d(null);if(b.isLeaf===!0)return j.node=b,j.index=0,d(j);else j.node=b,j.index=0,c._diskRead(b.children[0],function(b){return c._getMinKeyPos(c,b,d)})};H.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};var V={NodeKey:function(c,b){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.order=b}};V.NodeKey.prototype.comparator=
function(c){for(var b=0;b<this.order.length;b++){var d=this.order[b];if(c[d]==null)break;else if(this[d]<c[d])return-1;else if(this[d]>c[d])return 1}return 0};V.Pattern=function(c){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.indexKey=[];this.keyComponents={};for(var b=[],d=[],c=["subject","predicate","object","graph"],j=0;j<c.length;j++)typeof this[c[j]]==="string"?(d.push(c[j]),this.keyComponents[c[j]]=null):(b.push(c[j]),this.keyComponents[c[j]]=
this[c[j]],this.indexKey.push(c[j]));this.order=b.concat(d);this.key=new V.NodeKey(this.keyComponents,this.order)};var ea={Tree:function(c,b){if(arguments!=0)this.componentOrder=c.componentOrder,H.Tree.call(this,c.order,function(c){c.comparator=function(b,e){for(var h=0;h<c.componentOrder.length;h++){var f=c.componentOrder[h],o=b[f],f=e[f];if(o<f)return-1;else if(o>f)return 1}return 0};c.rangeComparator=function(b,e){for(var h=0;h<c.componentOrder.length;h++){var f=c.componentOrder[h];if(e[f]==null||
b[f]==null)break;else if(b[f]<e[f])return-1;else if(b[f]>e[f])return 1}return 0};b(c)})}};A["extends"](H.Tree,ea.Tree);ea.Tree.prototype.insert=function(c,b){H.Tree.prototype.insert.call(this,c,null,function(c){b(c)})};ea.Tree.prototype.search=function(c,b){H.Tree.prototype.search.call(this,c,function(c){b(c)},!0)};ea.Tree.prototype.range=function(c,b){this._rangeTraverse(this,this.root,c,b)};ea.Tree.prototype._rangeTraverse=function(c,b,d,j){var e=d.key,h=[],f=[b];Utilsmeanwhile(f.length>0,function(b,
d){for(var j=arguments.callee,w=f.shift(),x=0;x<w.numberActives&&c.rangeComparator(w.keys[x].key,e)===-1;)x++;if(w.isLeaf===!0){for(var C=x;C<w.numberActives&&c.rangeComparator(w.keys[C].key,e)===0;)h.push(w.keys[C].key),C++;f.length===0?b(!1,j,d):b(!0,j,d)}else c._diskRead(w.children[x],function(C){f.push(C);Utilsmeanwhile(!0,function(b,d){var j=arguments.callee;d.idxMax<w.numberActives&&c.rangeComparator(w.keys[d.idxMax].key,e)===0?(h.push(w.keys[d.idxMax].key),d.idxMax++,c._diskRead(w.children[d.idxMax],
function(h){f.push(h);b(!0,j,d)})):b(!1,j,d)},function(){f.length===0?b(!1,j,d):b(!0,j,d)},{idxMax:x})})},function(){j(h)})};var fa={QuadBackend:function(c,b){if(arguments!=0){this.indexMap={};this.treeOrder=c.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate",
"object"],OS:["object","subject","predicate","graph"]};var d=this;A.repeat(0,this.indices.length,function(b,c){var h=d.indices[c._i],f=arguments.callee;new ea.Tree({order:d.treeOrder,componentOrder:d.componentOrders[h]},function(o){d.indexMap[h]=o;b(f,c)})},function(){b(d)})}}};fa.QuadBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,d=0;d<b.length;d++)for(var j=b[d],e=this.componentOrders[j],h=0;h<e.length;h++){if(A.include(c,e[h])===!1)break;if(h==c.length-1)return j}return"SPOG"};
fa.QuadBackend.prototype.index=function(c,b){var d=this;A.repeat(0,this.indices.length,function(b,e){var h=arguments.callee;d.indexMap[d.indices[e._i]].insert(c,function(){b(h,e)})},function(){b(!0)})};fa.QuadBackend.prototype.range=function(c,b){this.indexMap[this._indexForPattern(c)].range(c,function(c){b(c)})};fa.QuadBackend.prototype.search=function(c,b){this.indexMap[this.indices[0]].search(c,function(c){b(c!=null)})};fa.QuadBackend.prototype["delete"]=function(c,b){var d=this;A.repeat(0,this.indices.length,
function(b,e){var h=arguments.callee;d.indexMap[d.indices[e._i]]["delete"](c,function(){b(h,e)})},function(){b(d)})};var S={Lexicon:function(c){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};this.oidCounter=1;this.knownGraphs=
{};c!=null&&c(this)}};S.Lexicon.prototype.registerGraph=function(c,b){c!=this.defaultGraphOid&&(this.knownGraphs[c]=!0);b(!0)};S.Lexicon.prototype.registeredGraphs=function(c,b){var d=[],j;for(j in this.knownGraphs)c===!0?d.push(this.OIDToUri["u"+j]):d.push(j);b(!0,d)};S.Lexicon.prototype.registerUri=function(c,b){if(c===this.defaultGraphUri)b(this.defaultGraphOid);else{if(this.uriToOID[c]==null){var d=this.oidCounter;this.oidCounter++;this.uriToOID[c]=[d,0];this.OIDToUri["u"+d]=c}else{var j=this.uriToOID[c],
d=j[0];this.uriToOID[c]=[d,j[1]+1]}b(d)}};S.Lexicon.prototype.resolveUri=function(c,b){if(c===this.defaultGraphUri)b(this.defaultGraphOid);else{var d=this.uriToOID[c];d!=null?b(d[0]):b(-1)}};S.Lexicon.prototype.registerBlank=function(c,b){var d=this.oidCounter;this.oidCounter++;d=""+d;this.OIDToBlank[d]=!0;b(d)};S.Lexicon.prototype.resolveBlank=function(c,b){var d=this.oidCounter;this.oidCounter++;b(""+d)};S.Lexicon.prototype.registerLiteral=function(c,b){if(this.literalToOID[c]==null){var d=this.oidCounter;
this.oidCounter++;this.literalToOID[c]=[d,0];this.OIDToLiteral["l"+d]=c}else{var j=this.literalToOID[c],d=j[0];this.literalToOID[c]=[d,j[1]+1]}b(d)};S.Lexicon.prototype.resolveLiteral=function(c,b){var d=this.literalToOID[c];d!=null?b(d[0]):b(-1)};S.Lexicon.prototype.parseLiteral=function(c){var b=c.lastIndexOf("@");if(b!=-1&&c[b-1]==='"'){var d=c.substring(1,b-1),c=c.substring(b+1,c.length);return{token:"literal",value:d,lang:c}}b=c.lastIndexOf("^^");if(b!=-1&&c[b-1]==='"'&&c[b+2]==="<"&&c[c.length-
1]===">")return d=c.substring(1,b-1),c=c.substring(b+3,c.length-1),{token:"literal",value:d,type:c};d=c.substring(1,c.length-1);return{token:"literal",value:d}};S.Lexicon.prototype.parseUri=function(c){return{token:"uri",value:c}};S.Lexicon.prototype.retrieve=function(c,b){try{if(c===this.defaultGraphOid)b({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var d=this.OIDToUri["u"+c];if(d)b(this.parseUri(d));else{var j=this.OIDToLiteral["l"+c];if(j)b(this.parseLiteral(j));
else if(this.OIDToBlank[""+c])b({token:"blank",value:"_:"+c});else throw"Null value for OID";}}}catch(e){throw console.log("error in lexicon retrieving OID:"),console.log(c),e.message&&console.log(e.message),e.stack&&console.log(e.stack),Error("Unknown retrieving OID in lexicon:"+c);}};S.Lexicon.prototype.unregister=function(c,b,d){try{this.unregisterTerm(c.subject.token,b.subject),this.unregisterTerm(c.predicate.token,b.predicate),this.unregisterTerm(c.object.token,b.object),c.graph!=null&&this.unregisterTerm(c.graph.token,
b.graph),d(!0)}catch(j){console.log("Error unregistering quad"),console.log(j.message),d(!1)}};S.Lexicon.prototype.unregisterTerm=function(c,b){if(c==="uri"){if(b!=this.defaultGraphOid){var d="u"+b,j=this.OIDToUri[d],e=this.uriToOID[j],h=e[1];if(""+e[0]===""+b)h===0?(delete this.OIDToUri[d],delete this.uriToOID[j],delete this.knownGraphs[b]):this.uriToOID[j]=[b,h-1];else throw"Not matching OID : "+b+" vs "+e[0];}}else if(c==="literal")if(this.oidCounter++,d="l"+b,j=this.OIDToLiteral[d],e=this.literalToOID[j],
h=e[1],""+e[0]===""+b)h===0?(delete this.OIDToLiteral[d],delete this.literalToOID[j]):this.literalToOID[j]=[b,h-1];else throw"Not matching OID : "+b+" vs "+e[0];else c==="blank"&&delete this.OIDToBlank[""+b]};var Y={};Y.load=function(c,b,d){jQuery.ajax({url:c,headers:{Accepts:b},success:function(b,c,h){if((""+h.status)[0]=="2"){for(var c=h.getAllResponseHeaders().split("\n"),h={},f=0;f<c.length;f++){var o=c[f].split(":");h[o[0]]=o[1]}d(!0,{headers:h,data:b})}},error:function(c){(""+c.status)[0]==
"3"?redirection==0?d(!1,500):(c=c.getAllResponseHeaders().Location||c.getAllResponseHeaders().location,c!=null?Y.load(c,b,d,redirection-1):d(!1,500)):d(!1,c.statusCode())}})};var ha={};(new Date).getTime();ha.parser=function(){var c={innerParse:function(b,c){function j(b){var h=b.charCodeAt(0);if(h<=255)var b="x",c=2;else b="u",c=4;var b="\\"+b,d=h.toString(16).toUpperCase(),h=d;c-=d.length;for(d=0;d<c;d++)h="0"+h;return b+h}function e(b){return'"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,
"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function h(b){k<ia||(k>ia&&(ia=k,Fa=[]),Fa.push(b))}function f(){var c="statement@"+k,d=y[c];if(d)return k=d.nextPos,d.result;for(var d=k,B=[],e=F();e!==null;)B.push(e),e=F();if(B!==null)if(e=o(),e!==null){for(var j=[],m=F();m!==null;)j.push(m),m=F();if(j!==null)if(b.substr(k,1)==="."?(m=".",k+=1):(m=null,s&&h('"."')),m!==null){for(var r=[],u=F();u!==null;)r.push(u),u=F();r!==null?B=[B,e,j,m,r]:(B=null,k=d)}else B=null,k=d;else B=null,k=
d}else B=null,k=d;else B=null,k=d;d=B!==null?B[1]:null;if(d===null){d=k;B=[];for(e=F();e!==null;)B.push(e),e=F();if(B!==null)if(e=w(),e!==null){j=[];for(m=F();m!==null;)j.push(m),m=F();j!==null?B=[B,e,j]:(B=null,k=d)}else B=null,k=d;else B=null,k=d;d=B!==null?B[1]:null;if(d===null){d=F();if(d!==null)for(B=[];d!==null;)B.push(d),d=F();else B=null;d=B!==null?B:null}}y[c]={nextPos:k,result:d};return d}function o(){var b="directive@"+k,h=y[b];if(h)return k=h.nextPos,h.result;h=u();h===null&&(h=r(),h=
h!==null?h:null);y[b]={nextPos:k,result:h};return h}function r(){var c="base@"+k,d=y[c];if(d)return k=d.nextPos,d.result;for(var d=k,B=[],e=F();e!==null;)B.push(e),e=F();if(B!==null)if(b.substr(k,5)==="@base"?(e="@base",k+=5):(e=null,s&&h('"@base"')),e!==null){var j=F();if(j!==null)for(var f=[];j!==null;)f.push(j),j=F();else f=null;f!==null?(j=va(),j!==null?B=[B,e,f,j]:(B=null,k=d)):(B=null,k=d)}else B=null,k=d;else B=null,k=d;d=B!==null?function(b){base={token:"base"};base.value=b;return base}(B[3]):
null;y[c]={nextPos:k,result:d};return d}function u(){var c="prefixID@"+k,d=y[c];if(d)return k=d.nextPos,d.result;for(var d=k,B=[],e=F();e!==null;)B.push(e),e=F();if(B!==null)if(b.substr(k,7)==="@prefix"?(e="@prefix",k+=7):(e=null,s&&h('"@prefix"')),e!==null){var j=F();if(j!==null)for(var f=[];j!==null;)f.push(j),j=F();else f=null;if(f!==null)if(j=Ga(),j=j!==null?j:"",j!==null){if(b.substr(k,1)===":"){var m=":";k+=1}else m=null,s&&h('":"');if(m!==null){for(var o=[],r=F();r!==null;)o.push(r),r=F();
o!==null?(r=va(),r!==null?B=[B,e,f,j,m,o,r]:(B=null,k=d)):(B=null,k=d)}else B=null,k=d}else B=null,k=d;else B=null,k=d}else B=null,k=d;else B=null,k=d;d=B!==null?function(b,h){prefix={token:"prefix"};prefix.prefix=b;prefix.local=h;return prefix}(B[3],B[6]):null;y[c]={nextPos:k,result:d};return d}function w(){var c="TriplesBlock@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=k,e=x();if(e!==null){for(var j=k,f=[],m=F();m!==null;)f.push(m),m=F();if(f!==null)if(b.substr(k,1)==="."?(m=".",
k+=1):(m=null,s&&h('"."')),m!==null){var o=w(),o=o!==null?o:"";o!==null?f=[f,m,o]:(f=null,k=j)}else f=null,k=j;else f=null,k=j;j=f!==null?f:"";j!==null?e=[e,j]:(e=null,k=B)}else e=null,k=B;B=e!==null?function(b,h){var c=b.triplesContext;typeof h==="object"&&h.length!=null&&h[2].triplesContext!=null&&(c=c.concat(h[2].triplesContext));return{token:"triples",triplesContext:c}}(e[0],e[1]):null;(s=d)&&B===null&&h("[54] TriplesBlock");y[c]={nextPos:k,result:B};return B}function x(){var b="TriplesSameSubject@"+
k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;for(var d=k,e=[],j=F();j!==null;)e.push(j),j=F();if(e!==null)if(j=ea(),j!==null){for(var f=[],m=F();m!==null;)f.push(m),m=F();f!==null?(m=C(),m!==null?e=[e,j,f,m]:(e=null,k=d)):(e=null,k=d)}else e=null,k=d;else e=null,k=d;d=e!==null?function(b,h){var c=h.triplesContext;if(h.pairs)for(var d=0;d<h.pairs.length;d++){var k=h.pairs[d],B=null;b.token&&b.token==="triplesnodecollection"?(B={subject:b.chainSubject[0],predicate:k[0],object:k[1]},c.push(B),
c=c.concat(b.triplesContext)):(B={subject:b,predicate:k[0],object:k[1]},c.push(B))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=b;return d}(e[1],e[3]):null;if(d===null){d=k;e=[];for(j=F();j!==null;)e.push(j),j=F();if(e!==null)if(j=V(),j!==null){f=[];for(m=F();m!==null;)f.push(m),m=F();f!==null?(m=A(),m!==null?e=[e,j,f,m]:(e=null,k=d)):(e=null,k=d)}else e=null,k=d;else e=null,k=d;d=e!==null?function(b,h){var c=b.triplesContext,d=b.chainSubject;if(h.pairs)for(var k=0;k<h.pairs.length;k++){var B=
h.pairs[k];if(b.token==="triplesnodecollection")for(var e=0;e<d.length;e++){var j=d[e];if(j.triplesContext!=null){var f={subject:j.chainSubject,predicate:B[0],object:B[1]};c.concat(j.triplesContext)}else f={subject:d[e],predicate:B[0],object:B[1]},c.push(f)}else f={subject:d,predicate:B[0],object:B[1]},c.push(f)}k={token:"triplessamesubject"};k.triplesContext=c;k.chainSubject=d;return k}(e[1],e[3]):null;d=d!==null?d:null}(s=c)&&d===null&&h("[66] TriplesSameSubject");y[b]={nextPos:k,result:d};return d}
function C(){var c="PropertyListNotEmpty@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=k,e=G();if(e!==null){for(var j=[],f=F();f!==null;)j.push(f),f=F();if(j!==null)if(f=D(),f!==null){for(var m=[],o=k,r=[],u=F();u!==null;)r.push(u),u=F();if(r!==null)if(b.substr(k,1)===";"?(u=";",k+=1):(u=null,s&&h('";"')),u!==null){for(var x=[],w=F();w!==null;)x.push(w),w=F();if(x!==null){var w=k,C=G();if(C!==null){for(var A=[],M=F();M!==null;)A.push(M),M=F();A!==null?(M=D(),M!==null?C=[C,A,M]:(C=null,
k=w)):(C=null,k=w)}else C=null,k=w;w=C!==null?C:"";w!==null?r=[r,u,x,w]:(r=null,k=o)}else r=null,k=o}else r=null,k=o;else r=null,k=o;for(;r!==null;){m.push(r);o=k;r=[];for(u=F();u!==null;)r.push(u),u=F();if(r!==null)if(b.substr(k,1)===";"?(u=";",k+=1):(u=null,s&&h('";"')),u!==null){x=[];for(w=F();w!==null;)x.push(w),w=F();if(x!==null){w=k;C=G();if(C!==null){A=[];for(M=F();M!==null;)A.push(M),M=F();A!==null?(M=D(),M!==null?C=[C,A,M]:(C=null,k=w)):(C=null,k=w)}else C=null,k=w;w=C!==null?C:"";w!==null?
r=[r,u,x,w]:(r=null,k=o)}else r=null,k=o}else r=null,k=o;else r=null,k=o}m!==null?e=[e,j,f,m]:(e=null,k=B)}else e=null,k=B;else e=null,k=B}else e=null,k=B;B=e!==null?function(b,h,c){token={token:"propertylist"};for(var d=[],k=[],B=0;B<h.length;B++)h[B].triplesContext!=null?(d=d.concat(h[B].triplesContext),h[B].token==="triplesnodecollection"&&h[B].chainSubject.length!=null?k.push([b,h[B].chainSubject[0]]):k.push([b,h[B].chainSubject])):k.push([b,h[B]]);for(B=0;B<c.length;B++)for(var h=c[B][3],b=h[0],
h=h[2]||[],e=0;e<h.length;e++)h[e].triplesContext!=null?(d=d.concat(h[e].triplesContext),k.push([b,h[e].chainSubject])):k.push([b,h[e]]);token.pairs=k;token.triplesContext=d;return token}(e[0],e[2],e[3]):null;(s=d)&&B===null&&h("[67] PropertyListNotEmpty");y[c]={nextPos:k,result:B};return B}function A(){var b="PropertyList@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=C(),d=d!==null?d:"";(s=c)&&d===null&&h("[68] PropertyList");y[b]={nextPos:k,result:d};return d}function D(){var c="ObjectList@"+
k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=k,e=ma();if(e!==null){for(var j=[],f=F();f!==null;)j.push(f),f=F();if(j!==null){var f=[],m=k;if(b.substr(k,1)===","){var o=",";k+=1}else o=null,s&&h('","');if(o!==null){for(var r=[],u=F();u!==null;)r.push(u),u=F();r!==null?(u=ma(),u!==null?o=[o,r,u]:(o=null,k=m)):(o=null,k=m)}else o=null,k=m;for(;o!==null;)if(f.push(o),m=k,b.substr(k,1)===","?(o=",",k+=1):(o=null,s&&h('","')),o!==null){r=[];for(u=F();u!==null;)r.push(u),u=F();r!==null?(u=ma(),
u!==null?o=[o,r,u]:(o=null,k=m)):(o=null,k=m)}else o=null,k=m;f!==null?e=[e,j,f]:(e=null,k=B)}else e=null,k=B}else e=null,k=B;B=e!==null?function(b,h){var c=[];c.push(b);for(var d=0;d<h.length;d++)for(var k=0;k<h[d].length;k++)typeof h[d][k]=="object"&&h[d][k].token!=null&&c.push(h[d][k]);return c}(e[0],e[2]):null;(s=d)&&B===null&&h("[69] ObjectList");y[c]={nextPos:k,result:B};return B}function G(){var c="Verb@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=Pb();B===null&&(b.substr(k,1)===
"a"?(B="a",k+=1):(B=null,s&&h('"a"')),B=B!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null,B=B!==null?B:null);(s=d)&&B===null&&h("[71] Verb");y[c]={nextPos:k,result:B};return B}function R(){var b="VerbPath@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=I(),d=d!==null?d:null;(s=c)&&d===null&&h("[75]");y[b]={nextPos:k,result:d};return d}function I(){var c="PathAlternative@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=
k,e=H();if(e!==null){var j=[],f=k;if(b.substr(k,1)==="|"){var m="|";k+=1}else m=null,s&&h('"|"');if(m!==null){var o=H();o!==null?m=[m,o]:(m=null,k=f)}else m=null,k=f;for(;m!==null;)j.push(m),f=k,b.substr(k,1)==="|"?(m="|",k+=1):(m=null,s&&h('"|"')),m!==null?(o=H(),o!==null?m=[m,o]:(m=null,k=f)):(m=null,k=f);j!==null?e=[e,j]:(e=null,k=B)}else e=null,k=B;(s=d)&&e===null&&h("[78] PathAlternative");y[c]={nextPos:k,result:e};return e}function H(){var c="PathSequence@"+k,d=y[c];if(d)return k=d.nextPos,
d.result;d=s;s=!1;var B=k,e=na();if(e!==null){var j=[],f=k;if(b.substr(k,1)==="/"){var m="/";k+=1}else m=null,s&&h('"/"');if(m!==null){var o=na();o!==null?m=[m,o]:(m=null,k=f)}else m=null,k=f;for(;m!==null;)j.push(m),f=k,b.substr(k,1)==="/"?(m="/",k+=1):(m=null,s&&h('"/"')),m!==null?(o=na(),o!==null?m=[m,o]:(m=null,k=f)):(m=null,k=f);j!==null?e=[e,j]:(e=null,k=B)}else e=null,k=B;(s=d)&&e===null&&h("[79] PathSequence");y[c]={nextPos:k,result:e};return e}function Eb(){var b="PathElt@"+k,c=y[b];if(c)return k=
c.nextPos,c.result;c=s;s=!1;var d=k,e=Q();if(e!==null){var j=L(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,k=d)}else e=null,k=d;(s=c)&&e===null&&h("[88] PathElt");y[b]={nextPos:k,result:e};return e}function na(){var c="PathEltOrInverse@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var B=Eb();if(B===null){B=k;if(b.substr(k,1)==="^"){var e="^";k+=1}else e=null,s&&h('"^"');if(e!==null){var j=Eb();j!==null?e=[e,j]:(e=null,k=B)}else e=null,k=B;B=e!==null?e:null}(s=d)&&B===null&&h("[81] PathEltOrInverse");
y[c]={nextPos:k,result:B};return B}function L(){var c="PathMod@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;if(b.substr(k,1)==="*"){var B="*";k+=1}else B=null,s&&h('"*"');if(B===null&&(b.substr(k,1)==="?"?(B="?",k+=1):(B=null,s&&h('"?"')),B===null&&(b.substr(k,1)==="+"?(B="+",k+=1):(B=null,s&&h('"+"')),B===null))){B=k;if(b.substr(k,1)==="{"){var e="{";k+=1}else e=null,s&&h('"{"');if(e!==null){var j=k,f=$();if(f!==null){var m=k;if(b.substr(k,1)===","){var o=",";k+=1}else o=null,s&&h('","');
if(o!==null){if(b.substr(k,1)==="}"){var r="}";k+=1}else r=null,s&&h('"}"');if(r===null){var r=k,u=$();if(u!==null){if(b.substr(k,1)==="}"){var w="}";k+=1}else w=null,s&&h('"}"');w!==null?u=[u,w]:(u=null,k=r)}else u=null,k=r;r=u!==null?u:null}r!==null?o=[o,r]:(o=null,k=m)}else o=null,k=m;o!==null?m=o:(b.substr(k,1)==="}"?(m="}",k+=1):(m=null,s&&h('"}"')),m=m!==null?m:null);m!==null?f=[f,m]:(f=null,k=j)}else f=null,k=j;f!==null?j=f:(j=k,b.substr(k,1)===","?(f=",",k+=1):(f=null,s&&h('","')),f!==null?
(m=$(),m!==null?(b.substr(k,1)==="}"?(o="}",k+=1):(o=null,s&&h('"}"')),o!==null?f=[f,m,o]:(f=null,k=j)):(f=null,k=j)):(f=null,k=j),j=f!==null?f:null);j!==null?e=[e,j]:(e=null,k=B)}else e=null,k=B;B=e!==null?e:null}(s=d)&&B===null&&h("[82] PathMod");y[c]={nextPos:k,result:B};return B}function Q(){var c="PathPrimary@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=oa();if(e===null&&(b.substr(k,1)==="a"?(e="a",k+=1):(e=null,s&&h('"a"')),e===null)){e=k;if(b.substr(k,1)==="!"){var j="!";k+=1}else j=
null,s&&h('"!"');if(j!==null){var f=O();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;if(j!==null)e=j;else{e=k;b.substr(k,1)==="("?(j="(",k+=1):(j=null,s&&h('"("'));if(j!==null)if(f=I(),f!==null){if(b.substr(k,1)===")"){var m=")";k+=1}else m=null,s&&h('")"');m!==null?j=[j,f,m]:(j=null,k=e)}else j=null,k=e;else j=null,k=e;e=j!==null?j:null}}(s=d)&&e===null&&h("[83] PathPrimary");y[c]={nextPos:k,result:e};return e}function O(){var c="PathNegatedPropertySet@"+k,d=y[c];if(d)return k=d.nextPos,d.result;
d=S();if(d===null){d=k;if(b.substr(k,1)==="("){var e="(";k+=1}else e=null,s&&h('"("');if(e!==null){var j=k,f=S();if(f!==null){var m=[],o=k;if(b.substr(k,1)==="|"){var r="|";k+=1}else r=null,s&&h('"|"');if(r!==null){var u=S();u!==null?r=[r,u]:(r=null,k=o)}else r=null,k=o;for(;r!==null;)m.push(r),o=k,b.substr(k,1)==="|"?(r="|",k+=1):(r=null,s&&h('"|"')),r!==null?(u=S(),u!==null?r=[r,u]:(r=null,k=o)):(r=null,k=o);m!==null?f=[f,m]:(f=null,k=j)}else f=null,k=j;j=f!==null?f:"";j!==null?(b.substr(k,1)===
")"?(f=")",k+=1):(f=null,s&&h('")"')),f!==null?e=[e,j,f]:(e=null,k=d)):(e=null,k=d)}else e=null,k=d;d=e!==null?e:null}y[c]={nextPos:k,result:d};return d}function S(){var c="PathOneInPropertySet@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=oa();if(e===null&&(b.substr(k,1)==="a"?(e="a",k+=1):(e=null,s&&h('"a"')),e===null)){e=k;if(b.substr(k,1)==="^"){var j="^";k+=1}else j=null,s&&h('"^"');if(j!==null){var f=oa();f===null&&(b.substr(k,1)==="a"?(f="a",k+=1):(f=null,s&&h('"a"')),f=f!==null?
f:null);f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j:null}(s=d)&&e===null&&h("[85] PathOneInPropertySet");y[c]={nextPos:k,result:e};return e}function V(){var b="TriplesNode@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=ca(),d=d!==null?function(b){triplesContext=[];chainSubject=[];for(var h=null,c=0;c<b.length;c++)W++,h=null,b[c].chainSubject==null&&b[c].triplesContext==null?h=b[c]:(h=b[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),h={subject:{token:"blank",
label:"_:"+W},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:h},c==0&&chainSubject.push(h.subject),triplesContext.push(h),h=c===b.length-1?{subject:{token:"blank",label:"_:"+W},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+W},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(W+1)}},triplesContext.push(h);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(d):null;d===null&&(d=X(),d=d!==null?d:null);(s=c)&&d===null&&h("[87] TriplesNode");y[b]={nextPos:k,result:d};return d}function X(){var c="BlankNodePropertyList@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;for(var e=k,j=[],f=F();f!==null;)j.push(f),f=F();
if(j!==null)if(b.substr(k,1)==="["?(f="[",k+=1):(f=null,s&&h('"["')),f!==null){for(var m=[],o=F();o!==null;)m.push(o),o=F();if(m!==null)if(o=C(),o!==null){for(var r=[],u=F();u!==null;)r.push(u),u=F();if(r!==null)if(b.substr(k,1)==="]"?(u="]",k+=1):(u=null,s&&h('"]"')),u!==null){for(var w=[],x=F();x!==null;)w.push(x),x=F();w!==null?j=[j,f,m,o,r,u,w]:(j=null,k=e)}else j=null,k=e;else j=null,k=e}else j=null,k=e;else j=null,k=e}else j=null,k=e;else j=null,k=e;e=j!==null?function(b){W++;for(var h={token:"blank",
label:""+W},c=[],d=0;d<b.pairs.length;d++){var k=b.pairs[d],e={};e.subject=h;e.predicate=k[0];e.object=k[1];c.push(e)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:b.triplesContext.concat(c),chainSubject:h}}(j[3]):null;(s=d)&&e===null&&h("[88] BlankNodePropertyList");y[c]={nextPos:k,result:e};return e}function ca(){var c="Collection@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;for(var e=k,j=[],f=F();f!==null;)j.push(f),f=F();if(j!==null)if(b.substr(k,1)==="("?(f="(",
k+=1):(f=null,s&&h('"("')),f!==null){for(var m=[],o=F();o!==null;)m.push(o),o=F();if(m!==null){var r=ma();if(r!==null)for(o=[];r!==null;)o.push(r),r=ma();else o=null;if(o!==null){for(var r=[],u=F();u!==null;)r.push(u),u=F();if(r!==null)if(b.substr(k,1)===")"?(u=")",k+=1):(u=null,s&&h('")"')),u!==null){for(var w=[],x=F();x!==null;)w.push(x),x=F();w!==null?j=[j,f,m,o,r,u,w]:(j=null,k=e)}else j=null,k=e;else j=null,k=e}else j=null,k=e}else j=null,k=e}else j=null,k=e;else j=null,k=e;e=j!==null?j[3]:null;
(s=d)&&e===null&&h("[89] Collection");y[c]={nextPos:k,result:e};return e}function ma(){var b="GraphNode@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;for(var d=k,e=[],j=F();j!==null;)e.push(j),j=F();if(e!==null)if(j=ea(),j!==null){for(var f=[],m=F();m!==null;)f.push(m),m=F();f!==null?e=[e,j,f]:(e=null,k=d)}else e=null,k=d;else e=null,k=d;if(e!==null)d=e;else{d=k;e=[];for(j=F();j!==null;)e.push(j),j=F();if(e!==null)if(j=V(),j!==null){f=[];for(m=F();m!==null;)f.push(m),m=F();f!==null?e=[e,j,
f]:(e=null,k=d)}else e=null,k=d;else e=null,k=d;d=e!==null?e:null}d=d!==null?d[1]:null;(s=c)&&d===null&&h("[90] GraphNode");y[b]={nextPos:k,result:d};return d}function ea(){var b="VarOrTerm@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=pa();d===null&&(d=fa(),d=d!==null?d:null);(s=c)&&d===null&&h("[91] VarOrTerm");y[b]={nextPos:k,result:d};return d}function Pb(){var b="VarOrIRIref@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=pa();d===null&&(d=oa(),d=d!==null?d:null);(s=c)&&
d===null&&h("[92] VarOrIRIref");y[b]={nextPos:k,result:d};return d}function pa(){var b="Var@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=Na();d===null&&(d=Oa(),d=d!==null?d:null);d=d!==null?function(b){var h={token:"var"};h.value=b;return h}(d):null;(s=c)&&d===null&&h("[93] Var");y[b]={nextPos:k,result:d};return d}function fa(){var b="GraphTerm@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=oa();d===null&&(d=Y(),d===null&&(d=ha(),d===null&&(d=$a(),d===null&&(d=Pa(),d===null&&
(d=ab(),d=d!==null?d:null)))));(s=c)&&d===null&&h("[94] GraphTerm");y[b]={nextPos:k,result:d};return d}function Y(){var c="RDFLiteral@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=bb();if(j!==null){var f=Qa();if(f===null){f=k;if(b.substr(k,2)==="^^"){var m="^^";k+=2}else m=null,s&&h('"^^"');if(m!==null){var o=oa();o!==null?m=[m,o]:(m=null,k=f)}else m=null,k=f;f=m!==null?m:null}f=f!==null?f:"";f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b,h){return typeof h===
"string"&&h.length>0?{token:"literal",value:b.value,lang:h.slice(1),type:null}:typeof h==="object"?(h.shift(),{token:"literal",value:b.value,lang:null,type:h[0]}):{token:"literal",value:b.value,lang:null,type:null}}(j[0],j[1]):null;(s=d)&&e===null&&h("[112] RDFLiteral");y[c]={nextPos:k,result:e};return e}function ha(){var b="NumericLiteral@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=cb();d===null&&(d=eb(),d===null&&(d=fb(),d=d!==null?d:null));(s=c)&&d===null&&h("[113] NumericLiteral");
y[b]={nextPos:k,result:d};return d}function cb(){var b="NumericLiteralUnsigned@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=Ha();d===null&&(d=T(),d===null&&(d=$(),d=d!==null?d:null));(s=c)&&d===null&&h("[114] NumericLiteralUnsigned");y[b]={nextPos:k,result:d};return d}function eb(){var b="NumericLiteralPositive@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=gb();d===null&&(d=Ra(),d===null&&(d=wa(),d=d!==null?d:null));(s=c)&&d===null&&h("[115] NumericLiteralPositive");y[b]=
{nextPos:k,result:d};return d}function fb(){var b="NumericLiteralNegative@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=hb();d===null&&(d=ib(),d===null&&(d=jb(),d=d!==null?d:null));(s=c)&&d===null&&h("[116] NumericLiteralNegative");y[b]={nextPos:k,result:d};return d}function $a(){var c="BooleanLiteral@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;if(b.substr(k,4)==="true"){var e="true";k+=4}else e=null,s&&h('"true"');e=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",
value:!0}:null;e===null&&(b.substr(k,5)==="false"?(e="false",k+=5):(e=null,s&&h('"false"')),e=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null,e=e!==null?e:null);(s=d)&&e===null&&h("[117] BooleanLiteral");y[c]={nextPos:k,result:e};return e}function bb(){var b="String@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=Sa(),d=d!==null?{token:"string",value:d}:null;d===null&&(d=Ta(),d=d!==null?{token:"string",value:d}:null,d===null&&(d=kb(),
d=d!==null?{token:"string",value:d}:null,d===null&&(d=xa(),d=d!==null?{token:"string",value:d}:null,d=d!==null?d:null)));(s=c)&&d===null&&h("[118] String");y[b]={nextPos:k,result:d};return d}function oa(){var b="IRIref@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=va(),d=d!==null?{token:"uri",prefix:null,suffix:null,value:d}:null;d===null&&(d=lb(),d=d!==null?d:null,d=d!==null?d:null);(s=c)&&d===null&&h("[119] IRIref");y[b]={nextPos:k,result:d};return d}function lb(){var b="PrefixedName@"+
k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=Ua(),d=d!==null?{token:"uri",prefix:d[0],suffix:d[1],value:null}:null;d===null&&(d=ya(),d=d!==null?{token:"uri",prefix:d,suffix:"",value:null}:null,d=d!==null?d:null);(s=c)&&d===null&&h("[120] PrefixedName");y[b]={nextPos:k,result:d};return d}function Pa(){var b="BlankNode@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=Va(),d=d!==null?{token:"blank",label:d}:null;d===null&&(za()!==null?(W++,d={token:"blank",label:""+W}):d=null,d=
d!==null?d:null);(s=c)&&d===null&&h("[121] BlankNode");y[b]={nextPos:k,result:d};return d}function va(){var c="IRI_REF@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="<"){var j="<";k+=1}else j=null,s&&h('"<"');if(j!==null){var f=[];if(b.substr(k).match(/^[^<>"{} | ^\\]/)!==null){var m=b.charAt(k);k++}else m=null,s&&h('[^<>"{} | ^\\\\]');for(;m!==null;)f.push(m),b.substr(k).match(/^[^<>"{} | ^\\]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h('[^<>"{} | ^\\\\]'));f!==null?
(b.substr(k,1)===">"?(m=">",k+=1):(m=null,s&&h('">"')),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?j[1].join(""):null;(s=d)&&e===null&&h("[122] IRI_REF");y[c]={nextPos:k,result:e};return e}function ya(){var c="PNAME_NS@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=Ga(),j=j!==null?j:"";if(j!==null){if(b.substr(k,1)===":"){var f=":";k+=1}else f=null,s&&h('":"');f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j[0]:null;(s=d)&&e===null&&h("[123] PNAME_NS");
y[c]={nextPos:k,result:e};return e}function Ua(){var b="PNAME_LN@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=k,e=ya();if(e!==null){var j=Aa();j!==null?e=[e,j]:(e=null,k=d)}else e=null,k=d;d=e!==null?[e[0],e[1]]:null;(s=c)&&d===null&&h("[124] PNAME_LN");y[b]={nextPos:k,result:d};return d}function Va(){var c="BLANK_NODE_LABEL@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,2)==="_:"){var j="_:";k+=2}else j=null,s&&h('"_:"');if(j!==null){var f=Aa();f!==null?
j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j[1]:null;(s=d)&&e===null&&h("[125] BLANK_NODE_LABEL");y[c]={nextPos:k,result:e};return e}function Na(){var c="VAR1@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="?"){var j="?";k+=1}else j=null,s&&h('"?"');if(j!==null){var f=Ba();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j[1]:null;(s=d)&&e===null&&h("[126] VAR1");y[c]={nextPos:k,result:e};return e}function Oa(){var c="VAR2@"+k,d=y[c];if(d)return k=d.nextPos,
d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="$"){var j="$";k+=1}else j=null,s&&h('"$"');if(j!==null){var f=Ba();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j[1]:null;(s=d)&&e===null&&h("[127] VAR2");y[c]={nextPos:k,result:e};return e}function Qa(){var c="LANGTAG@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="@"){var j="@";k+=1}else j=null,s&&h('"@"');if(j!==null){if(b.substr(k).match(/^[a-zA-Z]/)!==null){var f=b.charAt(k);k++}else f=null,s&&h("[a-zA-Z]");
if(f!==null)for(var m=[];f!==null;)m.push(f),b.substr(k).match(/^[a-zA-Z]/)!==null?(f=b.charAt(k),k++):(f=null,s&&h("[a-zA-Z]"));else m=null;if(m!==null){var f=[],o=k;if(b.substr(k,1)==="-"){var r="-";k+=1}else r=null,s&&h('"-"');if(r!==null){if(b.substr(k).match(/^[a-zA-Z0-9]/)!==null){var u=b.charAt(k);k++}else u=null,s&&h("[a-zA-Z0-9]");if(u!==null)for(var w=[];u!==null;)w.push(u),b.substr(k).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(k),k++):(u=null,s&&h("[a-zA-Z0-9]"));else w=null;w!==null?r=[r,
w]:(r=null,k=o)}else r=null,k=o;for(;r!==null;)if(f.push(r),o=k,b.substr(k,1)==="-"?(r="-",k+=1):(r=null,s&&h('"-"')),r!==null){b.substr(k).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(k),k++):(u=null,s&&h("[a-zA-Z0-9]"));if(u!==null)for(w=[];u!==null;)w.push(u),b.substr(k).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(k),k++):(u=null,s&&h("[a-zA-Z0-9]"));else w=null;w!==null?r=[r,w]:(r=null,k=o)}else r=null,k=o;f!==null?j=[j,m,f]:(j=null,k=e)}else j=null,k=e}else j=null,k=e;e=j!==null?j[2].length===0?("@"+
j[1].join("")).toLowerCase():("@"+j[1].join("")+"-"+j[2][0][1].join("")).toLowerCase():null;(s=d)&&e===null&&h("[128] LANGTAG");y[c]={nextPos:k,result:e};return e}function $(){var c="INTEGER@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;if(b.substr(k).match(/^[0-9]/)!==null){var e=b.charAt(k);k++}else e=null,s&&h("[0-9]");if(e!==null)for(var j=[];e!==null;)j.push(e),b.substr(k).match(/^[0-9]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[0-9]"));else j=null;e=j!==null?function(b){lit={token:"literal",
lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=aa(b);return lit}(j):null;(s=d)&&e===null&&h("[129] INTEGER");y[c]={nextPos:k,result:e};return e}function T(){var c="DECIMAL@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k).match(/^[0-9]/)!==null){var j=b.charAt(k);k++}else j=null,s&&h("[0-9]");if(j!==null)for(var f=[];j!==null;)f.push(j),b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&h("[0-9]"));else f=null;if(f!==null)if(b.substr(k,
1)==="."?(j=".",k+=1):(j=null,s&&h('"."')),j!==null){var m=[];if(b.substr(k).match(/^[0-9]/)!==null){var o=b.charAt(k);k++}else o=null,s&&h("[0-9]");for(;o!==null;)m.push(o),b.substr(k).match(/^[0-9]/)!==null?(o=b.charAt(k),k++):(o=null,s&&h("[0-9]"));m!==null?f=[f,j,m]:(f=null,k=e)}else f=null,k=e;else f=null,k=e;e=f!==null?function(b,h,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=aa([b,h,c]);return lit}(f[0],f[1],f[2]):null;if(e===null){e=k;b.substr(k,
1)==="."?(f=".",k+=1):(f=null,s&&h('"."'));if(f!==null){b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&h("[0-9]"));if(j!==null)for(m=[];j!==null;)m.push(j),b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&h("[0-9]"));else m=null;m!==null?f=[f,m]:(f=null,k=e)}else f=null,k=e;e=f!==null?function(b,h){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=aa([b,h]);return lit}(f[0],f[1]):null;e=e!==null?e:null}(s=d)&&e===null&&h("[130] DECIMAL");
y[c]={nextPos:k,result:e};return e}function Ha(){var c="DOUBLE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k).match(/^[0-9]/)!==null){var j=b.charAt(k);k++}else j=null,s&&h("[0-9]");if(j!==null)for(var f=[];j!==null;)f.push(j),b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&h("[0-9]"));else f=null;if(f!==null)if(b.substr(k,1)==="."?(j=".",k+=1):(j=null,s&&h('"."')),j!==null){var m=[];if(b.substr(k).match(/^[0-9]/)!==null){var o=b.charAt(k);k++}else o=
null,s&&h("[0-9]");for(;o!==null;)m.push(o),b.substr(k).match(/^[0-9]/)!==null?(o=b.charAt(k),k++):(o=null,s&&h("[0-9]"));m!==null?(o=Ia(),o!==null?f=[f,j,m,o]:(f=null,k=e)):(f=null,k=e)}else f=null,k=e;else f=null,k=e;e=f!==null?function(b,h,c,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,h,c,d]);return lit}(f[0],f[1],f[2],f[3]):null;if(e===null){e=k;b.substr(k,1)==="."?(f=".",k+=1):(f=null,s&&h('"."'));if(f!==null){b.substr(k).match(/^[0-9]/)!==
null?(m=b.charAt(k),k++):(m=null,s&&h("[0-9]"));if(m!==null)for(j=[];m!==null;)j.push(m),b.substr(k).match(/^[0-9]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[0-9]"));else j=null;j!==null?(m=Ia(),m!==null?f=[f,j,m]:(f=null,k=e)):(f=null,k=e)}else f=null,k=e;e=f!==null?function(b,h,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,h,c]);return lit}(f[0],f[1],f[2]):null;if(e===null){e=k;b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&
h("[0-9]"));if(j!==null)for(f=[];j!==null;)f.push(j),b.substr(k).match(/^[0-9]/)!==null?(j=b.charAt(k),k++):(j=null,s&&h("[0-9]"));else f=null;f!==null?(j=Ia(),j!==null?f=[f,j]:(f=null,k=e)):(f=null,k=e);e=f!==null?function(b,h){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,h]);return lit}(f[0],f[1]):null;e=e!==null?e:null}}(s=d)&&e===null&&h("[131] DOUBLE");y[c]={nextPos:k,result:e};return e}function wa(){var c="INTEGER_POSITIVE@"+k,d=y[c];if(d)return k=
d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="+"){var j="+";k+=1}else j=null,s&&h('"+"');if(j!==null){var f=$();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[132] INTEGER_POSITIVE");y[c]={nextPos:k,result:e};return e}function Ra(){var c="DECIMAL_POSITIVE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="+"){var j="+";k+=1}else j=null,s&&h('"+"');if(j!==null){var f=T();f!==
null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[133] DECIMAL_POSITIVE");y[c]={nextPos:k,result:e};return e}function gb(){var c="DOUBLE_POSITIVE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="+"){var j="+";k+=1}else j=null,s&&h('"+"');if(j!==null){var f=Ha();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[134] DOUBLE_POSITIVE");
y[c]={nextPos:k,result:e};return e}function jb(){var c="INTEGER_NEGATIVE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="-"){var j="-";k+=1}else j=null,s&&h('"-"');if(j!==null){var f=$();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[135] INTEGER_NEGATIVE");y[c]={nextPos:k,result:e};return e}function ib(){var c="DECIMAL_NEGATIVE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;
var e=k;if(b.substr(k,1)==="-"){var j="-";k+=1}else j=null,s&&h('"-"');if(j!==null){var f=T();f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[136] DECIMAL_NEGATIVE");y[c]={nextPos:k,result:e};return e}function hb(){var c="DOUBLE_NEGATIVE@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="-"){var j="-";k+=1}else j=null,s&&h('"-"');if(j!==null){var f=Ha();f!==null?j=[j,f]:(j=null,k=e)}else j=
null,k=e;e=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(s=d)&&e===null&&h("[137] DOUBLE_NEGATIVE");y[c]={nextPos:k,result:e};return e}function Ia(){var c="EXPONENT@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k).match(/^[eE]/)!==null){var j=b.charAt(k);k++}else j=null,s&&h("[eE]");if(j!==null){if(b.substr(k).match(/^[+\-]/)!==null){var f=b.charAt(k);k++}else f=null,s&&h("[+\\-]");f=f!==null?f:"";if(f!==null){if(b.substr(k).match(/^[0-9]/)!==null){var m=
b.charAt(k);k++}else m=null,s&&h("[0-9]");if(m!==null)for(var o=[];m!==null;)o.push(m),b.substr(k).match(/^[0-9]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[0-9]"));else o=null;o!==null?j=[j,f,o]:(j=null,k=e)}else j=null,k=e}else j=null,k=e;e=j!==null?aa([j[0],j[1],j[2]]):null;(s=d)&&e===null&&h("[138] EXPONENT");y[c]={nextPos:k,result:e};return e}function kb(){var c="STRING_LITERAL1@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="'"){var j="'";k+=1}else j=null,s&&
h('"\'"');if(j!==null){var f=[];if(b.substr(k).match(/^[^'\\\n\r]/)!==null){var m=b.charAt(k);k++}else m=null,s&&h("[^'\\\\\\n\\r]");m===null&&(m=ga(),m=m!==null?m:null);for(;m!==null;)f.push(m),b.substr(k).match(/^[^'\\\n\r]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[^'\\\\\\n\\r]")),m===null&&(m=ga(),m=m!==null?m:null);f!==null?(b.substr(k,1)==="'"?(m="'",k+=1):(m=null,s&&h('"\'"')),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?aa(j[1]):null;(s=d)&&e===null&&h("[139] STRING_LITERAL1");
y[c]={nextPos:k,result:e};return e}function xa(){var c="STRING_LITERAL2@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==='"'){var j='"';k+=1}else j=null,s&&h('"\\""');if(j!==null){var f=[];if(b.substr(k).match(/^[^"\\\n\r]/)!==null){var m=b.charAt(k);k++}else m=null,s&&h('[^"\\\\\\n\\r]');m===null&&(m=ga(),m=m!==null?m:null);for(;m!==null;)f.push(m),b.substr(k).match(/^[^"\\\n\r]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h('[^"\\\\\\n\\r]')),m===null&&(m=ga(),m=m!==null?
m:null);f!==null?(b.substr(k,1)==='"'?(m='"',k+=1):(m=null,s&&h('"\\""')),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?aa(j[1]):null;(s=d)&&e===null&&h("[140] STRING_LITERAL2");y[c]={nextPos:k,result:e};return e}function Sa(){var c="STRING_LITERAL_LONG1@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,3)==="'''"){var j="'''";k+=3}else j=null,s&&h("\"'''\"");if(j!==null){var f=[];if(b.substr(k).match(/^[^'\\]/)!==null){var m=b.charAt(k);k++}else m=
null,s&&h("[^'\\\\]");m===null&&(m=ga(),m=m!==null?m:null);for(;m!==null;)f.push(m),b.substr(k).match(/^[^'\\]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[^'\\\\]")),m===null&&(m=ga(),m=m!==null?m:null);f!==null?(b.substr(k,3)==="'''"?(m="'''",k+=3):(m=null,s&&h("\"'''\"")),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?aa(j[1]):null;(s=d)&&e===null&&h("[141] STRING_LITERAL_LONG1");y[c]={nextPos:k,result:e};return e}function Ta(){var c="STRING_LITERAL_LONG2@"+k,d=y[c];if(d)return k=
d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,3)==='"""'){var j='"""';k+=3}else j=null,s&&h('"\\"\\"\\""');if(j!==null){var f=[];if(b.substr(k).match(/^[^"\\]/)!==null){var m=b.charAt(k);k++}else m=null,s&&h('[^"\\\\]');m===null&&(m=ga(),m=m!==null?m:null);for(;m!==null;)f.push(m),b.substr(k).match(/^[^"\\]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h('[^"\\\\]')),m===null&&(m=ga(),m=m!==null?m:null);f!==null?(b.substr(k,3)==='"""'?(m='"""',k+=3):(m=null,s&&h('"\\"\\"\\""')),m!==null?j=[j,f,m]:(j=
null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?aa(j[1]):null;(s=d)&&e===null&&h("[142] STRING_LITERAL_LONG2");y[c]={nextPos:k,result:e};return e}function ga(){var c="ECHAR@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="\\"){var j="\\";k+=1}else j=null,s&&h('"\\\\"');if(j!==null){if(b.substr(k).match(/^[tbnrf"']/)!==null){var f=b.charAt(k);k++}else f=null,s&&h("[tbnrf\"']");f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;(s=d)&&j===null&&h("[143] ECHAR");y[c]={nextPos:k,
result:j};return j}function ab(){var c="NIL@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="("){var j="(";k+=1}else j=null,s&&h('"("');if(j!==null){for(var f=[],m=F();m!==null;)f.push(m),m=F();f!==null?(b.substr(k,1)===")"?(m=")",k+=1):(m=null,s&&h('")"')),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;e=j!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;
(s=d)&&e===null&&h("[144] NIL");y[c]={nextPos:k,result:e};return e}function F(){var c="WS@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;if(b.substr(k).match(/^[ ]/)!==null){var e=b.charAt(k);k++}else e=null,s&&h("[ ]");e===null&&(b.substr(k).match(/^[\t]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\t]")),e===null&&(b.substr(k).match(/^[\r]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\r]")),e===null&&(b.substr(k).match(/^[\n]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\n]")),e===null&&(e=
Ja(),e=e!==null?e:null))));(s=d)&&e===null&&h("[145] WS");y[c]={nextPos:k,result:e};return e}function Ja(){var c="COMMENT@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="#"){var j="#";k+=1}else j=null,s&&h('"#"');if(j!==null){var f=[];if(b.substr(k).match(/^[^\n\r]/)!==null){var m=b.charAt(k);k++}else m=null,s&&h("[^\\n\\r]");for(;m!==null;)f.push(m),b.substr(k).match(/^[^\n\r]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[^\\n\\r]"));f!==null?j=[j,f]:(j=null,k=e)}else j=
null,k=e;(s=d)&&j===null&&h(" COMMENT");y[c]={nextPos:k,result:j};return j}function za(){var c="ANON@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k;if(b.substr(k,1)==="["){var j="[";k+=1}else j=null,s&&h('"["');if(j!==null){for(var f=[],m=F();m!==null;)f.push(m),m=F();f!==null?(b.substr(k,1)==="]"?(m="]",k+=1):(m=null,s&&h('"]"')),m!==null?j=[j,f,m]:(j=null,k=e)):(j=null,k=e)}else j=null,k=e;(s=d)&&j===null&&h("[146] ANON");y[c]={nextPos:k,result:j};return j}function Wa(){var c="PN_CHARS_BASE@"+
k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;if(b.substr(k).match(/^[A-Z]/)!==null){var e=b.charAt(k);k++}else e=null,s&&h("[A-Z]");e===null&&(b.substr(k).match(/^[a-z]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[a-z]")),e===null&&(b.substr(k).match(/^[\xC0-\xD6]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\xC0-\\xD6]")),e===null&&(b.substr(k).match(/^[\xD8-\xF6]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\xD8-\\xF6]")),e===null&&(b.substr(k).match(/^[\xF8-\u02FF]/)!==null?(e=b.charAt(k),
k++):(e=null,s&&h("[\\xF8-\\u02FF]")),e===null&&(b.substr(k).match(/^[\u0370-\u037D]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u0370-\\u037D]")),e===null&&(b.substr(k).match(/^[\u037F-\u1FFF]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u037F-\\u1FFF]")),e===null&&(b.substr(k).match(/^[\u200C-\u200D]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u200C-\\u200D]")),e===null&&(b.substr(k).match(/^[\u2070-\u218F]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u2070-\\u218F]")),e===null&&(b.substr(k).match(/^[\u2C00-\u2FEF]/)!==
null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u2C00-\\u2FEF]")),e===null&&(b.substr(k).match(/^[\u3001-\uD7FF]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u3001-\\uD7FF]")),e===null&&(b.substr(k).match(/^[\uF900-\uFDCF]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\uF900-\\uFDCF]")),e===null&&(b.substr(k).match(/^[\uFDF0-\uFFFD]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\uFDF0-\\uFFFD]")),e===null&&(b.substr(k).match(/^[\u1000-\uEFFF]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u1000-\\uEFFF]")),
e=e!==null?e:null)))))))))))));(s=d)&&e===null&&h("[147] PN_CHARS_BASE");y[c]={nextPos:k,result:e};return e}function ba(){var c="PN_CHARS_U@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=Wa();e===null&&(b.substr(k,1)==="_"?(e="_",k+=1):(e=null,s&&h('"_"')),e=e!==null?e:null);(s=d)&&e===null&&h("[148] PN_CHARS_U");y[c]={nextPos:k,result:e};return e}function Ba(){var c="VARNAME@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=ba();j===null&&(b.substr(k).match(/^[0-9]/)!==null?
(j=b.charAt(k),k++):(j=null,s&&h("[0-9]")),j=j!==null?j:null);if(j!==null){var f=[],m=ba();m===null&&(b.substr(k).match(/^[0-9]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[0-9]")),m===null&&(b.substr(k).match(/^[\xB7]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\xB7]")),m===null&&(b.substr(k).match(/^[\u0300-\u036F]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\u0300-\\u036F]")),m===null&&(b.substr(k).match(/^[\u203F-\u2040]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\u203F-\\u2040]")),m=m!==null?
m:null))));for(;m!==null;)f.push(m),m=ba(),m===null&&(b.substr(k).match(/^[0-9]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[0-9]")),m===null&&(b.substr(k).match(/^[\xB7]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\xB7]")),m===null&&(b.substr(k).match(/^[\u0300-\u036F]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\u0300-\\u036F]")),m===null&&(b.substr(k).match(/^[\u203F-\u2040]/)!==null?(m=b.charAt(k),k++):(m=null,s&&h("[\\u203F-\\u2040]")),m=m!==null?m:null))));f!==null?j=[j,f]:(j=null,k=e)}else j=
null,k=e;e=j!==null?j[0]+j[1].join(""):null;(s=d)&&e===null&&h("[149] VARNAME");y[c]={nextPos:k,result:e};return e}function qa(){var c="PN_CHARS@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=ba();e===null&&(b.substr(k,1)==="-"?(e="-",k+=1):(e=null,s&&h('"-"')),e===null&&(b.substr(k).match(/^[0-9]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[0-9]")),e===null&&(b.substr(k).match(/^[\xB7]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\xB7]")),e===null&&(b.substr(k).match(/^[\u0300-\u036F]/)!==
null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u0300-\\u036F]")),e===null&&(b.substr(k).match(/^[\u203F-\u2040]/)!==null?(e=b.charAt(k),k++):(e=null,s&&h("[\\u203F-\\u2040]")),e=e!==null?e:null)))));(s=d)&&e===null&&h("[150] PN_CHARS");y[c]={nextPos:k,result:e};return e}function Ga(){var c="PN_PREFIX@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=Wa();if(j!==null){var f=[],m=qa();m===null&&(b.substr(k,1)==="."?(m=".",k+=1):(m=null,s&&h('"."')),m=m!==null?m:null);for(;m!==null;)f.push(m),
m=qa(),m===null&&(b.substr(k,1)==="."?(m=".",k+=1):(m=null,s&&h('"."')),m=m!==null?m:null);f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?function(b,c){if(c[c.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return b+c.join("")}(j[0],j[1]):null;(s=d)&&e===null&&h("[151] PN_PREFIX");y[c]={nextPos:k,result:e};return e}function Aa(){var c="PN_LOCAL@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=ba();j===null&&(b.substr(k).match(/^[0-9]/)!==null?(j=
b.charAt(k),k++):(j=null,s&&h("[0-9]")),j=j!==null?j:null);if(j!==null){var f=[],m=qa();m===null&&(b.substr(k,1)==="."?(m=".",k+=1):(m=null,s&&h('"."')),m=m!==null?m:null);for(;m!==null;)f.push(m),m=qa(),m===null&&(b.substr(k,1)==="."?(m=".",k+=1):(m=null,s&&h('"."')),m=m!==null?m:null);f!==null?j=[j,f]:(j=null,k=e)}else j=null,k=e;e=j!==null?j[0]+j[1].join(""):null;(s=d)&&e===null&&h("[152] PN_LOCAL");y[c]={nextPos:k,result:e};return e}function mb(){var c=function(b){b.sort();for(var c=null,h=[],
d=0;d<b.length;d++)b[d]!==c&&(h.push(b[d]),c=b[d]);switch(h.length){case 0:return"end of input";case 1:return h[0];default:return h.slice(0,h.length-1).join(", ")+" or "+h[h.length-1]}}(Fa),h=Math.max(k,ia),h=h<b.length?e(b.charAt(h)):"end of input";return"Expected "+c+" but "+h+" found."}function Xa(){for(var c=1,h=1,d=!1,e=0;e<ia;e++){var j=b.charAt(e);j==="\n"?(d||c++,h=1,d=!1):j==="\r"|j==="\u2028"||j==="\u2029"?(c++,h=1,d=!0):(h++,d=!1)}return{line:c,column:h}}var ja={ANON:za,BLANK_NODE_LABEL:Va,
BlankNode:Pa,BlankNodePropertyList:X,BooleanLiteral:$a,COMMENT:Ja,Collection:ca,DECIMAL:T,DECIMAL_NEGATIVE:ib,DECIMAL_POSITIVE:Ra,DOUBLE:Ha,DOUBLE_NEGATIVE:hb,DOUBLE_POSITIVE:gb,ECHAR:ga,EXPONENT:Ia,GraphNode:ma,GraphTerm:fa,INTEGER:$,INTEGER_NEGATIVE:jb,INTEGER_POSITIVE:wa,IRI_REF:va,IRIref:oa,LANGTAG:Qa,NIL:ab,NumericLiteral:ha,NumericLiteralNegative:fb,NumericLiteralPositive:eb,NumericLiteralUnsigned:cb,ObjectList:D,PNAME_LN:Ua,PNAME_NS:ya,PN_CHARS:qa,PN_CHARS_BASE:Wa,PN_CHARS_U:ba,PN_LOCAL:Aa,
PN_PREFIX:Ga,PathAlternative:I,PathElt:Eb,PathEltOrInverse:na,PathMod:L,PathNegatedPropertySet:O,PathOneInPropertySet:S,PathPrimary:Q,PathSequence:H,PrefixedName:lb,PropertyList:A,PropertyListNotEmpty:C,PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+k,d=y[c];if(d)return k=d.nextPos,d.result;d=s;s=!1;var e=k,j=R();j===null&&(j=pa(),j=j!==null?j:null);if(j!==null){var f=D();if(f!==null){var m=[],o=k;if(b.substr(k,1)===";"){var r=";";k+=1}else r=null,s&&h('";"');if(r!==null){var u=
k,w=R();w===null&&(w=pa(),w=w!==null?w:null);if(w!==null){var x=D();x!==null?w=[w,x]:(w=null,k=u)}else w=null,k=u;u=w!==null?w:"";u!==null?r=[r,u]:(r=null,k=o)}else r=null,k=o;for(;r!==null;)m.push(r),o=k,b.substr(k,1)===";"?(r=";",k+=1):(r=null,s&&h('";"')),r!==null?(u=k,w=R(),w===null&&(w=pa(),w=w!==null?w:null),w!==null?(x=D(),x!==null?w=[w,x]:(w=null,k=u)):(w=null,k=u),u=w!==null?w:"",u!==null?r=[r,u]:(r=null,k=o)):(r=null,k=o);m!==null?j=[j,f,m]:(j=null,k=e)}else j=null,k=e}else j=null,k=e;(s=
d)&&j===null&&h("[73] PropertyListNotEmptyPath");y[c]={nextPos:k,result:j};return j},PropertyListPath:function(){var b="PropertyListPath@"+k,c=y[b];if(c)return k=c.nextPos,c.result;c=s;s=!1;var d=C(),d=d!==null?d:"";(s=c)&&d===null&&h("[74] PropertyListPath");y[b]={nextPos:k,result:d};return d},RDFLiteral:Y,STRING_LITERAL1:kb,STRING_LITERAL2:xa,STRING_LITERAL_LONG1:Sa,STRING_LITERAL_LONG2:Ta,String:bb,TriplesBlock:w,TriplesNode:V,TriplesSameSubject:x,VAR1:Na,VAR2:Oa,VARNAME:Ba,Var:pa,VarOrIRIref:Pb,
VarOrTerm:ea,Verb:G,VerbPath:R,WS:F,base:r,directive:o,prefixID:u,statement:f,turtleDoc:function(){var b="turtleDoc@"+k,c=y[b];if(c)return k=c.nextPos,c.result;for(var c=[],h=f();h!==null;)c.push(h),h=f();c=c!==null?c:null;y[b]={nextPos:k,result:c};return c}};if(c!==void 0){if(ja[c]===void 0)throw Error("Invalid rule name: "+e(c)+".");}else c="turtleDoc";var k=0,s=!0,ia=0,Fa=[],y={},aa=function(b){for(var c="",h=0;h<b.length;h++)c+=typeof b[h]==="string"?b[h]:b[h].join("");return c},W=0,ja=ja[c]();
if(ja===null||k!==b.length)throw ja=Xa(),new this.SyntaxError(mb(),ja.line,ja.column);return ja},toSource:function(){return this._source},SyntaxError:function(b,c,j){this.name="SyntaxError";this.message=b;this.line=c;this.column=j}};c.SyntaxError.prototype=Error.prototype;return c}();ha.parser.parse=function(c,b){for(var d=[],j=ha.parser.innerParse(c),e={},h={namespaces:e,base:"",blankCounter:0},f=0;f<j.length;f++){var o=j[f];if(o.token==="base")h.base=o.value;else if(o.token==="prefix")e[o.prefix]=
o.local;else if(o.token==="triples")for(var r=0;r<o.triplesContext.length;r++){var u=o.triplesContext[r],u={subject:A.lexicalFormTerm(u.subject,h),predicate:A.lexicalFormTerm(u.predicate,h),object:A.lexicalFormTerm(u.object,h),graph:b};d.push(u)}}return d};var Q={parser:{}};Q.parser.parse=function(c,b){var d={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",
foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#","@coerce":{"http://www.w3.org/2001/XMLSchema#anyURI":["http://xmlns.com/foaf/0.1/homepage",
"http://xmlns.com/foaf/0.1/member"],"http://www.w3.org/2001/XMLSchema#integer":"http://xmlns.com/foaf/0.1/age"}},defaultGraph:null,activeSubject:null,inheritedSubject:null,activePredicate:null,inheritedPredicate:null,activeObject:null,activeContext:[],localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},j=[];d.activeContext=d.defaultContext;Q.parser.isArray(c)?Q.parser.parseListOfNodes(c,d,null,null,j,0):Q.parser.parseListOfNodes([c],d,null,null,j,0);for(var d=[],e=0;e<j.length;e++){var h=
j[e];h.graph=b;d.push(h)}return d};Q.parser.parseListOfNodes=function(c,b,d,j,e,h){for(var f=0;f<c.length;f++){var o=c[f];processorState={activeSubject:null,inheritedSubject:d,activePredicate:null,inheritedPredicate:j,activeObject:null,localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]};processorState.activeContext=Q.parser.copyContext(b.activeContext);if(Q.parser.isAssociatveArray(o)){o["@context"]!=null&&(processorState.activeContext=Q.parser.mergeContexts(processorState.activeContext,
o["@context"]));o["@"]!=null?(u=o["@"],processorState.activeSubject=Q.parser.parseIri(u,processorState.activeContext)):(processorState.activeSubject={token:"uri",value:"_:"+h},h++);processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&e.push({subject:processorState.inheritedSubject,predicate:processorState.inheritedPredicate,object:processorState.activeSubject});for(var r in o){var u=o[r];if(r!=="@context"&&r!=="@")processorState.activePredicate=r==="a"?{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:
Q.parser.parseIri(r,processorState.activeContext),typeof u!="object"?(processorState.activeObject=Q.parser.coerceLiteral(u,processorState.activePredicate,processorState.activeContext),e.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:processorState.activeObject})):u.length!=null?Q.parser.parseListOfNodes(u,processorState,processorState.activeSubject,processorState.activePredicate,e,h):u["@iri"]!=null?e.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,
object:Q.parser.parseIri(u)}):u["@literal"]!=null?(u["@language"]?obj={token:"literal",value:u["@literal"],lang:u["@language"]}:(obj=Q.parser.coerceLiteral(u["@literal"]),obj.type=null.type||u["@datatype"]),e.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:obj})):Q.parser.parseListOfNodes([u],processorState,null,null,e)}}else typeof o==="string"&&processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&e.push({subject:processorState.inheritedSubject,
predicate:processorState.inheritedPredicate,object:Q.parser.coerceLiteral(o,processorState.inheritedPredicate,processorState.activeContext)})}};Q.parser.coerceLiteral=function(c,b,d){for(var j in d||{}){var e=d[j];if(c.indexOf(j)===0)return{token:"uri",value:e+(c.split(j+":")[1]||"")};else if(e===c)return{token:"uri",value:e}}for(var h in d["@coerce"]||{})for(j in e=d["@coerce"][h],typeof e==="string"&&(e=[e]),d)for(var f=0;f<e.length;f++){var o=e[f];o.indexOf(j)===0&&(o=o.split(j+":")[1]||"",o=d[j]+
o);if(o===b.value)return h==="http://www.w3.org/2001/XMLSchema#anyURI"||h==="xsd:anyURI"?{token:"uri",value:c}:{token:"literal",value:c,type:h}}return{token:"literal",value:c}};Q.parser.isAssociatveArray=function(c){return typeof c==="object"&&c.length==null};Q.parser.isArray=function(c){return typeof c==="object"&&c.length!=null};Q.parser.copyContext=function(c){var b={},d;for(d in c)if(d==="@coerce"){var j=c[d],e={},h;for(h in j)e[h]=j[h];b[d]=e}else b[d]=c[d];return b};Q.parser.mergeContexts=function(c,
b){for(var d in b)d!=="@coerce"&&(c[d]=b[d]);if(b["@coerce"]!=null){d=b["@coerce"];var j=c["@coerce"]||{},e;for(e in d)if(typeof d[e]==="string")j[Q.parser.parseIri(e,c).value]=Q.parser.parseIri(d[e],c).value;else for(var h=[],f=0;f<d[e].length;f++)h.push(Q.parser.parseIri(d[e][f],c).value);c["@coerce"]=j}return c};Q.parser.copyContextStack=function(c){for(var b=[],d=0;d<c.length;d++){var j=c[d],e={},h;for(h in j)if(h==="@coerce"){var f=j[h],o={},r;for(r in f)if(typeof f[r]==="object"){for(var u=
[],w=0;w<f[r].length;w++)u.push(f[r][w]);o[r]=u}else o[r]=f[r];e[h]=o}else e[h]=j[h];b.push(e)}return b};Q.parser.parseIri=function(c,b){if(typeof c==="object")if(c["@iri"]!=null)c=c["@iri"];else throw"Error processing iri";for(var d in b)if(d=="@base"&&c.indexOf(":")===0)return{token:"uri",value:b[d]+(c.split(":")[1]||"")};else if(c.indexOf(d)===0)return{token:"uri",value:b[d]+(c.split(d+":")[1]||"")};if(c.indexOf(":")===-1&&b["@vocab"]!=null)return{token:"uri",value:b["@vocab"]+c};else if(c.indexOf(":")!=
-1)return{token:"uri",value:c};else throw"Cannot resolve URI: "+c;};Q.parser.parseObject=function(c,b){if(typeof c==="object")if(c["@iri"]!=null)return{token:"uri",value:c["@iri"]};else throw"Error processing iri";else{for(var d in b)if(c.indexOf(d)===0)return{token:"uri",value:b[d]+(c.split(d+":")[1]||"")};return{token:"uri",value:c}}};var ca={RDFLoader:function(c){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":ha.parser,"text/n3":ha.parser,"application/json":Q.parser};
if(c!=null)for(var b in c.parsers)this.parsers[b]=c.parsers[b];if(c&&c.precedences!=null)for(b in this.precedences=c.precedences,c.parsers)A.include(this.precedences,b)||this.precedences.push(b);this.acceptHeaderValue="";for(c=0;c<this.precedences.length;c++)c!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[c]:this.acceptHeaderValue+=this.precedences[c]}};ca.RDFLoader.prototype.registerParser=function(c,b){this.parsers[c]=b;this.precedences.push(c)};ca.RDFLoader.prototype.unregisterParser=
function(c){delete this.parsers[c];for(var b=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=c&&b.push(this.precedences[d]);this.precedences=b};ca.RDFLoader.prototype.setAcceptHeaderPrecedence=function(c){this.precedences=c};ca.RDFLoader.prototype.load=function(c,b,d){var j=this;Y.load(c,this.acceptHeaderValue,function(e,h){if(e==!0){var f=h.headers["Content-Type"]||h.headers["content-type"],o=h.data;if(f!=null){var f=f.split(";")[0],r;for(r in j.parsers)if(r.indexOf("/")!=-1){var u=r.split("/");
if(u[1]==="*"){if(f.indexOf(u[0])!=-1)return j.tryToParse(j.parsers[r],b,o,d)}else if(f.indexOf(r)!=-1)return j.tryToParse(j.parsers[r],b,o,d);else if(f.indexOf(u[1])!=-1)return j.tryToParse(j.parsers[r],b,o,d)}else if(f.indexOf(r)!=-1)return j.tryToParse(j.parsers[r],c,b,d);d(!1,"Unknown media type : "+f)}else console.log("Unknown media type"),console.log(h.headers),d(!1,"Uknown media type")}else d(!1,"Network error: "+h)})};ca.RDFLoader.prototype.loadFromFile=function(c,b,d,j){try{var e=this;fs=
require("fs");fs.readFile(d.split("file:/")[1],function(h,d){if(h)throw h;d=d.toString("utf8");e.tryToParse(c,b,d,j)})}catch(h){j(!1,h)}};ca.RDFLoader.prototype.tryToParse=function(c,b,d,j){try{typeof d==="string"&&(d=A.normalizeUnicodeLiterals(d));var e=c.parse(d,b);e!=null?j(!0,e):j(!1,"parsing error")}catch(h){j(!1,"parsing error with mime type : "+h)}};var X={AbstractQueryTree:function(){}};X.AbstractQueryTree.prototype.parseQueryString=function(c){return nb.parser.parse(c)};X.AbstractQueryTree.prototype.parseExecutableUnit=
function(c){if(c.kind==="select")return this.parseSelect(c);else if(c.kind==="ask")return this.parseSelect(c);else if(c.kind==="modify")return this.parseSelect(c);else if(c.kind==="construct")return this.parseSelect(c);else if(c.kind==="insertdata")return this.parseInsertData(c);else if(c.kind==="deletedata")return this.parseInsertData(c);else if(c.kind==="load")return c;else if(c.kind==="clear")return c;else if(c.kind==="drop")return c;else if(c.kind==="create")return c;else throw Error("unknown executable unit: "+
c.kind);};X.AbstractQueryTree.prototype.parseSelect=function(c){return c==null?(console.log("error parsing query"),null):(c.pattern=this.build(c.pattern,{}),c)};X.AbstractQueryTree.prototype.parseInsertData=function(c){return c==null?(console.log("error parsing query"),null):c};X.AbstractQueryTree.prototype.build=function(c,b){if(c.token==="groupgraphpattern")return this._buildGroupGraphPattern(c,b);else if(c.token==="basicgraphpattern")return{kind:"BGP",value:c.triplesContext};else if(c.token===
"graphunionpattern"){var d=this.build(c.value[0],b),j=this.build(c.value[1],b);return{kind:"UNION",value:[d,j]}}else if(c.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(c.value,b),graph:c.graph};else throw Error("not supported token in query:"+c.token);};X.AbstractQueryTree.prototype._buildGroupGraphPattern=function(c,b){for(var d=c.filters||[],j={kind:"EMPTY_PATTERN"},e=0;e<c.patterns.length;e++){var h=c.patterns[e];h.token==="optionalgraphpattern"?(h=this.build(h.value,b),j=h.kind===
"FILTER"?{kind:"LEFT_JOIN",lvalue:j,rvalue:h.value,filter:h.filter}:{kind:"LEFT_JOIN",lvalue:j,rvalue:h,filter:!0}):(h=this.build(h,b),j=j.kind=="EMPTY_PATTERN"?h:{kind:"JOIN",lvalue:j,rvalue:h})}if(d.length!=0)if(j.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN"&&j.filter===!0)return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind===
"UNION")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="GRAPH")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="BGP")return{kind:"FILTER",filter:d,value:j};else throw Error("Unknow kind of algebra expression: "+j.kind);else return j};X.AbstractQueryTree.prototype.collectBasicTriples=function(c,b){b==null&&(b=[]);if(c.kind==="select")b=this.collectBasicTriples(c.pattern,b);else if(c.kind==="BGP")b=b.concat(c.value);else if(c.kind==="UNION")b=this.collectBasicTriples(c.value[0],b),
b=this.collectBasicTriples(c.value[1],b);else if(c.kind==="GRAPH")b=this.collectBasicTriples(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")b=this.collectBasicTriples(c.lvalue,b),b=this.collectBasicTriples(c.rvalue,b);else if(c.kind==="FILTER")b=this.collectBasicTriples(c.value,b);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return b};var nb={};nb.parser=function(){var c={parse:function(b,c){function j(a){var b=a.charCodeAt(0);if(b<=255)var a="x",c=2;else a="u",c=4;var a=
"\\"+a,g=b.toString(16).toUpperCase(),b=g;c-=g.length;for(g=0;g<c;g++)b="0"+b;return a+b}function e(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function h(b){a<ob||(a>ob&&(ob=a,Fb=[]),Fb.push(b))}function f(){var b="Query@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=o();if(g!==null){var d=w();d===null&&(d=A(),d===null&&(d=D(),d===null&&(d=G(),d=d!==null?d:null)));d!==null?g=[g,d]:(g=null,a=q)}else g=
null,a=q;q=g!==null?{token:"query",kind:"query",prologue:g[0],units:[g[1]]}:null;(n=c)&&q===null&&h("[2] Query");z[b]={nextPos:a,result:q};return q}function o(){var b="Prologue@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=r(),g=g!==null?g:"";if(g!==null){for(var d=[],E=t();E!==null;)d.push(E),E=t();if(d!==null){for(var E=[],e=u();e!==null;)E.push(e),e=u();E!==null?g=[g,d,E]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;q=g!==null?{token:"prologue",base:g[0],prefixes:g[2]}:null;(n=
c)&&q===null&&h("[3] Prologue");z[b]={nextPos:a,result:q};return q}function r(){var c="BaseDecl@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="B"?(e="B",a+=1):(e=null,n&&h('"B"')),e===null&&(b.substr(a,1)==="b"?(e="b",a+=1):(e=null,n&&h('"b"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="A"){var E="A";a+=1}else E=null,n&&h('"A"');E===null&&(b.substr(a,1)==="a"?(E="a",a+=1):(E=null,n&&h('"a"')),E=E!==null?E:
null);if(E!==null){if(b.substr(a,1)==="S"){var j="S";a+=1}else j=null,n&&h('"S"');j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var K="E";a+=1}else K=null,n&&h('"E"');K===null&&(b.substr(a,1)==="e"?(K="e",a+=1):(K=null,n&&h('"e"')),K=K!==null?K:null);if(K!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();f!==null?(k=yb(),k!==null?g=[g,e,E,j,K,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=
q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a){base={token:"base"};base.value=a;return base}(g[6]):null;(n=d)&&q===null&&h("[4] BaseDecl");z[c]={nextPos:a,result:q};return q}function u(){var c="PrefixDecl@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="P"?(e="P",a+=1):(e=null,n&&h('"P"')),e===null&&(b.substr(a,1)==="p"?(e="p",a+=1):(e=null,n&&h('"p"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="R"){var E=
"R";a+=1}else E=null,n&&h('"R"');E===null&&(b.substr(a,1)==="r"?(E="r",a+=1):(E=null,n&&h('"r"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,n&&h('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,n&&h('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="F"){var K="F";a+=1}else K=null,n&&h('"F"');K===null&&(b.substr(a,1)==="f"?(K="f",a+=1):(K=null,n&&h('"f"')),K=K!==null?K:null);if(K!==null){if(b.substr(a,1)==="I"){var f="I";a+=1}else f=null,
n&&h('"I"');f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,n&&h('"i"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="X"){var k="X";a+=1}else k=null,n&&h('"X"');k===null&&(b.substr(a,1)==="x"?(k="x",a+=1):(k=null,n&&h('"x"')),k=k!==null?k:null);if(k!==null){for(var m=[],J=t();J!==null;)m.push(J),J=t();if(m!==null)if(J=zb(),J!==null){for(var o=[],N=t();N!==null;)o.push(N),N=t();o!==null?(N=yb(),N!==null?g=[g,e,E,j,K,f,k,m,J,o,N]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=
null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=b;return prefix}(g[8],g[10]):null;(n=d)&&q===null&&h("[5] PrefixDecl");z[c]={nextPos:a,result:q};return q}function w(){var b="SelectQuery@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=C();if(g!==null){for(var d=[],e=t();e!==null;)d.push(e),e=t();if(d!==null){for(var e=[],j=R();j!==null;)e.push(j),j=R();
if(e!==null){for(var j=[],K=t();K!==null;)j.push(K),K=t();if(j!==null)if(K=L(),K!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(k=na(),k!==null){for(var m=[],J=t();J!==null;)m.push(J),J=t();m!==null?(J=fa(),J!==null?g=[g,d,e,j,K,f,k,m,J]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b,c,g){for(var h={named:[],"default":[]},q=0;q<b.length;q++){var d=b[q];d.kind===
"default"?h["default"].push(d.graph):h.named.push(d.graph)}h.named.length===0&&h["default"].length===0&&h["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=h;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;if(g!=null&&g.limit!=null)b.limit=g.limit;if(g!=null&&g.offset!=null)b.offset=g.offset;if(g!=null&&g.order!=null&&g.order!="")b.order=g.order;if(g!=null&&g.group!=null)b.group=
g.group;return b}(g[0],g[2],g[4],g[6]):null;(n=c)&&q===null&&h("[6] SelectQuery");z[b]={nextPos:a,result:q};return q}function x(){var b="SubSelect@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=C();if(g!==null){var d=L();if(d!==null){var e=na();e!==null?g=[g,d,e]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;(n=c)&&g===null&&h("[7] SubSelect");z[b]={nextPos:a,result:g};return g}function C(){var c="SelectClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=
t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="S"?(e="S",a+=1):(e=null,n&&h('"S"')),e===null&&(b.substr(a,1)==="s"?(e="s",a+=1):(e=null,n&&h('"s"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="E"){var E="E";a+=1}else E=null,n&&h('"E"');E===null&&(b.substr(a,1)==="e"?(E="e",a+=1):(E=null,n&&h('"e"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="L"){var j="L";a+=1}else j=null,n&&h('"L"');j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null);if(j!==
null){if(b.substr(a,1)==="E"){var K="E";a+=1}else K=null,n&&h('"E"');K===null&&(b.substr(a,1)==="e"?(K="e",a+=1):(K=null,n&&h('"e"')),K=K!==null?K:null);if(K!==null){if(b.substr(a,1)==="C"){var f="C";a+=1}else f=null,n&&h('"C"');f===null&&(b.substr(a,1)==="c"?(f="c",a+=1):(f=null,n&&h('"c"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){for(var m=[],J=
t();J!==null;)m.push(J),J=t();if(m!==null){J=a;if(b.substr(a,1)==="D"){var o="D";a+=1}else o=null,n&&h('"D"');o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,n&&h('"d"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var N="I";a+=1}else N=null,n&&h('"I"');N===null&&(b.substr(a,1)==="i"?(N="i",a+=1):(N=null,n&&h('"i"')),N=N!==null?N:null);if(N!==null){if(b.substr(a,1)==="S"){var s="S";a+=1}else s=null,n&&h('"S"');s===null&&(b.substr(a,1)==="s"?(s="s",a+=1):(s=null,n&&h('"s"')),s=s!==
null?s:null);if(s!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,n&&h('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,n&&h('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="I"){var u="I";a+=1}else u=null,n&&h('"I"');u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,n&&h('"i"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var w="N";a+=1}else w=null,n&&h('"N"');w===null&&(b.substr(a,1)==="n"?(w="n",a+=1):(w=null,n&&h('"n"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,
1)==="C"){var x="C";a+=1}else x=null,n&&h('"C"');x===null&&(b.substr(a,1)==="c"?(x="c",a+=1):(x=null,n&&h('"c"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,n&&h('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,n&&h('"t"')),C=C!==null?C:null);C!==null?o=[o,N,s,r,u,w,x,C]:(o=null,a=J)}else o=null,a=J}else o=null,a=J}else o=null,a=J}else o=null,a=J}else o=null,a=J}else o=null,a=J}else o=null,a=J;o!==null?J=o:(J=a,b.substr(a,1)==="R"?(o="R",a+=1):(o=
null,n&&h('"R"')),o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,n&&h('"r"')),o=o!==null?o:null),o!==null?(b.substr(a,1)==="E"?(N="E",a+=1):(N=null,n&&h('"E"')),N===null&&(b.substr(a,1)==="e"?(N="e",a+=1):(N=null,n&&h('"e"')),N=N!==null?N:null),N!==null?(b.substr(a,1)==="D"?(s="D",a+=1):(s=null,n&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,n&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="U"?(r="U",a+=1):(r=null,n&&h('"U"')),r===null&&(b.substr(a,1)==="u"?(r="u",a+=
1):(r=null,n&&h('"u"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="C"?(u="C",a+=1):(u=null,n&&h('"C"')),u===null&&(b.substr(a,1)==="c"?(u="c",a+=1):(u=null,n&&h('"c"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="E"?(w="E",a+=1):(w=null,n&&h('"E"')),w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,n&&h('"e"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="D"?(x="D",a+=1):(x=null,n&&h('"D"')),x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,n&&h('"d"')),x=x!==null?x:null),x!==null?o=[o,
N,s,r,u,w,x]:(o=null,a=J)):(o=null,a=J)):(o=null,a=J)):(o=null,a=J)):(o=null,a=J)):(o=null,a=J)):(o=null,a=J),J=o!==null?o:null);J=J!==null?J:"";if(J!==null){o=[];for(N=t();N!==null;)o.push(N),N=t();if(o!==null){s=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(u=B(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();w!==null?r=[r,u,w]:(r=null,a=s)}else r=null,a=s;else r=null,a=s;if(r!==null)s=r;else{s=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="("?(u="(",
a+=1):(u=null,n&&h('"("')),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(x=P(),x!==null){for(var C=[],y=t();y!==null;)C.push(y),y=t();if(C!==null)if(b.substr(a,1)==="A"?(y="A",a+=1):(y=null,n&&h('"A"')),y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,n&&h('"a"')),y=y!==null?y:null),y!==null){if(b.substr(a,1)==="S"){var A="S";a+=1}else A=null,n&&h('"S"');A===null&&(b.substr(a,1)==="s"?(A="s",a+=1):(A=null,n&&h('"s"')),A=A!==null?A:null);if(A!==null){for(var D=[],M=t();M!==null;)D.push(M),
M=t();if(D!==null)if(M=B(),M!==null){for(var F=[],R=t();R!==null;)F.push(R),R=t();if(F!==null)if(b.substr(a,1)===")"?(R=")",a+=1):(R=null,n&&h('")"')),R!==null){for(var Da=[],G=t();G!==null;)Da.push(G),G=t();Da!==null?r=[r,u,w,x,C,y,A,D,M,F,R,Da]:(r=null,a=s)}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s}else r=null,a=s}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s;s=r!==null?r:null}if(s!==null)for(N=[];s!==null;){N.push(s);s=a;r=
[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(u=B(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();w!==null?r=[r,u,w]:(r=null,a=s)}else r=null,a=s;else r=null,a=s;if(r!==null)s=r;else{s=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,n&&h('"("')),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(x=P(),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();if(C!==null)if(b.substr(a,1)==="A"?(y="A",a+=1):(y=null,n&&h('"A"')),
y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,n&&h('"a"')),y=y!==null?y:null),y!==null)if(b.substr(a,1)==="S"?(A="S",a+=1):(A=null,n&&h('"S"')),A===null&&(b.substr(a,1)==="s"?(A="s",a+=1):(A=null,n&&h('"s"')),A=A!==null?A:null),A!==null){D=[];for(M=t();M!==null;)D.push(M),M=t();if(D!==null)if(M=B(),M!==null){F=[];for(R=t();R!==null;)F.push(R),R=t();if(F!==null)if(b.substr(a,1)===")"?(R=")",a+=1):(R=null,n&&h('")"')),R!==null){Da=[];for(G=t();G!==null;)Da.push(G),G=t();Da!==null?r=[r,u,w,x,C,
y,A,D,M,F,R,Da]:(r=null,a=s)}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s}else r=null,a=s;else r=null,a=s;s=r!==null?r:null}}else N=null;if(N===null){N=a;s=[];for(r=t();r!==null;)s.push(r),r=t();if(s!==null)if(b.substr(a,1)==="*"?(r="*",a+=1):(r=null,n&&h('"*"')),r!==null){u=[];for(w=t();w!==null;)u.push(w),w=t();u!==null?s=[s,r,u]:(s=null,a=N)}else s=null,a=N;else s=null,a=N;N=s!==null?s:null}N!==null?
g=[g,e,E,j,K,f,k,m,J,o,N]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a,b){var c=[];if(b.length===3&&b[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Rb(a)};for(var g=0;g<b.length;g++){var h=b[g];h.length===3?c.push({token:"variable",kind:"var",value:h[1]}):c.push({token:"variable",kind:"aliased",expression:h[3],alias:h[8]})}return{vars:c,
modifier:Rb(a)}}(g[8],g[10]):null;(n=d)&&q===null&&h("[8] SelectClause");z[c]={nextPos:a,result:q};return q}function A(){var c="ConstructQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="C"?(e="C",a+=1):(e=null,n&&h('"C"')),e===null&&(b.substr(a,1)==="c"?(e="c",a+=1):(e=null,n&&h('"c"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="O"){var E="O";a+=1}else E=null,n&&h('"O"');E===null&&(b.substr(a,1)==="o"?
(E="o",a+=1):(E=null,n&&h('"o"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="N"){var j="N";a+=1}else j=null,n&&h('"N"');j===null&&(b.substr(a,1)==="n"?(j="n",a+=1):(j=null,n&&h('"n"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="S"){var K="S";a+=1}else K=null,n&&h('"S"');K===null&&(b.substr(a,1)==="s"?(K="s",a+=1):(K=null,n&&h('"s"')),K=K!==null?K:null);if(K!==null){if(b.substr(a,1)==="T"){var f="T";a+=1}else f=null,n&&h('"T"');f===null&&(b.substr(a,1)==="t"?(f="t",a+=1):(f=null,
n&&h('"t"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,n&&h('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="U"){var m="U";a+=1}else m=null,n&&h('"U"');m===null&&(b.substr(a,1)==="u"?(m="u",a+=1):(m=null,n&&h('"u"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="C"){var o="C";a+=1}else o=null,n&&h('"C"');o===null&&(b.substr(a,1)==="c"?(o="c",a+=1):(o=null,n&&h('"c"')),o=o!==null?
o:null);if(o!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,n&&h('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,n&&h('"t"')),r=r!==null?r:null);if(r!==null){for(var s=[],u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=ab(),u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();if(w!==null){for(var x=[],C=R();C!==null;)x.push(C),C=R();if(x!==null){for(var C=[],y=t();y!==null;)C.push(y),y=t();if(C!==null)if(y=L(),y!==null){for(var B=[],D=t();D!==null;)B.push(D),D=t();B!==null?
(D=na(),D!==null?g=[g,e,E,j,K,f,k,m,o,r,s,u,w,x,C,y,B,D]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a,b,c,g){for(var h={named:[],"default":[]},q=0;q<b.length;q++){var d=b[q];d.kind==="default"?h["default"].push(d.graph):h.named.push(d.graph)}h.named.length===
0&&h["default"].length===0&&h["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=h;b.template=a;b.pattern=c;if(g!=null&&g.limit!=null)b.limit=g.limit;if(g!=null&&g.offset!=null)b.offset=g.offset;if(g!=null&&g.order!=null&&g.order!="")b.order=g.order;return b}(g[11],g[13],g[15],g[17]):null;(n=d)&&q===null&&h("[9] ConstructQuery");z[c]={nextPos:a,result:q};return q}function D(){var c=
"DescribeQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,8)==="DESCRIBE"){var g="DESCRIBE";a+=8}else g=null,n&&h('"DESCRIBE"');if(g!==null){var e=Ea();if(e!==null)for(var E=[];e!==null;)E.push(e),e=Ea();else E=null;E!==null?e=E:(b.substr(a,1)==="*"?(e="*",a+=1):(e=null,n&&h('"*"')),e=e!==null?e:null);if(e!==null){for(var E=[],j=R();j!==null;)E.push(j),j=R();if(E!==null)if(j=L(),j=j!==null?j:"",j!==null){var K=na();K!==null?g=[g,e,E,j,K]:(g=null,a=q)}else g=null,a=
q;else g=null,a=q}else g=null,a=q}else g=null,a=q;(n=d)&&g===null&&h("[10] DescribeQuery");z[c]={nextPos:a,result:g};return g}function G(){var c="AskQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="A"?(e="A",a+=1):(e=null,n&&h('"A"')),e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,n&&h('"a"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="S"){var E="S";a+=1}else E=null,n&&h('"S"');E===null&&(b.substr(a,
1)==="s"?(E="s",a+=1):(E=null,n&&h('"s"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="K"){var j="K";a+=1}else j=null,n&&h('"K"');j===null&&(b.substr(a,1)==="k"?(j="k",a+=1):(j=null,n&&h('"k"')),j=j!==null?j:null);if(j!==null){for(var K=[],f=t();f!==null;)K.push(f),f=t();if(K!==null){for(var f=[],k=R();k!==null;)f.push(k),k=R();if(f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();k!==null?(m=L(),m!==null?g=[g,e,E,j,K,f,k,m]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=
null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a,b){for(var c={named:[],"default":[]},g=0;g<a.length;g++){var h=a[g];h.kind==="default"?c["default"].push(h.graph):c.named.push(h.graph)}c.named.length===0&&c["default"].length===0&&c["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});g={kind:"ask",token:"executableunit"};g.dataset=c;g.pattern=b;return g}(g[5],g[7]):null;(n=d)&&q===null&&h("[11] AskQuery");
z[c]={nextPos:a,result:q};return q}function R(){var c="DatasetClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="F"){var g="F";a+=1}else g=null,n&&h('"F"');g===null&&(b.substr(a,1)==="f"?(g="f",a+=1):(g=null,n&&h('"f"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,n&&h('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="O"){var E="O";a+=1}else E=null,
n&&h('"O"');E===null&&(b.substr(a,1)==="o"?(E="o",a+=1):(E=null,n&&h('"o"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="M"){var j="M";a+=1}else j=null,n&&h('"M"');j===null&&(b.substr(a,1)==="m"?(j="m",a+=1):(j=null,n&&h('"m"')),j=j!==null?j:null);if(j!==null){for(var K=[],f=t();f!==null;)K.push(f),f=t();if(K!==null)if(f=I(),f===null&&(f=H(),f=f!==null?f:null),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();k!==null?g=[g,e,E,j,K,f,k]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=
null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[5]:null;(n=d)&&q===null&&h("[12] DatasetClause");z[c]={nextPos:a,result:q};return q}function I(){var b="DefaultGraphClause@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;for(var q=a,g=[],d=t();d!==null;)g.push(d),d=t();g!==null?(d=U(),d!==null?g=[g,d]:(g=null,a=q)):(g=null,a=q);q=g!==null?{graph:g[1],kind:"default",token:"graphClause"}:null;(n=c)&&q===null&&h("[13] DefaultGraphClause");z[b]={nextPos:a,result:q};return q}function H(){var c=
"NamedGraphClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="N"){var g="N";a+=1}else g=null,n&&h('"N"');g===null&&(b.substr(a,1)==="n"?(g="n",a+=1):(g=null,n&&h('"n"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="A"){var e="A";a+=1}else e=null,n&&h('"A"');e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,n&&h('"a"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="M"){var E="M";a+=1}else E=null,n&&h('"M"');E===null&&(b.substr(a,1)==="m"?(E="m",a+=
1):(E=null,n&&h('"m"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,n&&h('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,n&&h('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,n&&h('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,n&&h('"d"')),f=f!==null?f:null);if(f!==null){for(var k=[],v=t();v!==null;)k.push(v),v=t();k!==null?(v=U(),v!==null?g=[g,e,E,j,f,k,v]:(g=null,a=q)):(g=null,a=q)}else g=null,
a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?{graph:g[6],kind:"named",token:"graphCluase"}:null;(n=d)&&q===null&&h("[14] NamedGraphClause");z[c]={nextPos:a,result:q};return q}function L(){var c="WhereClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=a;if(b.substr(a,1)==="W"){var e="W";a+=1}else e=null,n&&h('"W"');e===null&&(b.substr(a,1)==="w"?(e="w",a+=1):(e=null,n&&h('"w"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="H"){var E="H";a+=
1}else E=null,n&&h('"H"');E===null&&(b.substr(a,1)==="h"?(E="h",a+=1):(E=null,n&&h('"h"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,n&&h('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,n&&h('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="R"){var f="R";a+=1}else f=null,n&&h('"R"');f===null&&(b.substr(a,1)==="r"?(f="r",a+=1):(f=null,n&&h('"r"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var k="E";a+=1}else k=null,n&&h('"E"');
k===null&&(b.substr(a,1)==="e"?(k="e",a+=1):(k=null,n&&h('"e"')),k=k!==null?k:null);k!==null?e=[e,E,j,f,k]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e:"";if(g!==null){e=[];for(E=t();E!==null;)e.push(E),E=t();if(e!==null)if(E=T(),E!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,E,j]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?g[2]:null;(n=d)&&q===null&&h("[16] WhereClause");z[c]={nextPos:a,result:q};return q}
function na(){var b="SolutionModifier@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=Q(),g=g!==null?g:"";if(g!==null){var d=S(),d=d!==null?d:"";if(d!==null){var e=V(),e=e!==null?e:"";if(e!==null){var j=ea(),j=j!==null?j:"";j!==null?g=[g,d,e,j]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b,c){var g={};if(c!=null){if(c.limit!=null)g.limit=c.limit;if(c.offset!=null)g.offset=c.offset}if(a!=null)g.group=a;g.order=b;return g}(g[0],g[2],g[3]):null;(n=
c)&&q===null&&h("[17] SolutionModifier");z[b]={nextPos:a,result:q};return q}function Q(){var c="GroupClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="G"){var g="G";a+=1}else g=null,n&&h('"G"');g===null&&(b.substr(a,1)==="g"?(g="g",a+=1):(g=null,n&&h('"g"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,n&&h('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,
1)==="O"){var j="O";a+=1}else j=null,n&&h('"O"');j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,n&&h('"o"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="U"){var f="U";a+=1}else f=null,n&&h('"U"');f===null&&(b.substr(a,1)==="u"?(f="u",a+=1):(f=null,n&&h('"u"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="P"){var k="P";a+=1}else k=null,n&&h('"P"');k===null&&(b.substr(a,1)==="p"?(k="p",a+=1):(k=null,n&&h('"p"')),k=k!==null?k:null);if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),
v=t();if(m!==null)if(b.substr(a,1)==="B"?(v="B",a+=1):(v=null,n&&h('"B"')),v===null&&(b.substr(a,1)==="b"?(v="b",a+=1):(v=null,n&&h('"b"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="Y"){var o="Y";a+=1}else o=null,n&&h('"Y"');o===null&&(b.substr(a,1)==="y"?(o="y",a+=1):(o=null,n&&h('"y"')),o=o!==null?o:null);if(o!==null){for(var J=[],r=t();r!==null;)J.push(r),r=t();if(J!==null){r=O();if(r!==null)for(var s=[];r!==null;)s.push(r),r=O();else s=null;s!==null?g=[g,e,j,f,k,m,v,o,J,s]:(g=null,a=q)}else g=
null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[9]:null;(n=d)&&q===null&&h("[18] GroupClause");z[c]={nextPos:a,result:q};return q}function O(){var c="GroupCondition@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=ub(),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q;else g=
null,a=q;q=g!==null?g[1]:null;if(q===null){q=a;g=[];for(e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=Sa(),e!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q;else g=null,a=q;q=g!==null?g[1]:null;if(q===null){q=a;g=[];for(e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="("?(e="(",a+=1):(e=null,n&&h('"("')),e!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=P(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==
null){m=a;if(b.substr(a,1)==="A"){var v="A";a+=1}else v=null,n&&h('"A"');v===null&&(b.substr(a,1)==="a"?(v="a",a+=1):(v=null,n&&h('"a"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,n&&h('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,n&&h('"s"')),o=o!==null?o:null);if(o!==null){for(var J=[],r=t();r!==null;)J.push(r),r=t();J!==null?(r=B(),r!==null?v=[v,o,J,r]:(v=null,a=m)):(v=null,a=m)}else v=null,a=m}else v=null,a=m;m=v!==null?v:"";if(m!==null){v=
[];for(o=t();o!==null;)v.push(o),o=t();if(v!==null)if(b.substr(a,1)===")"?(o=")",a+=1):(o=null,n&&h('")"')),o!==null){J=[];for(r=t();r!==null;)J.push(r),r=t();J!==null?g=[g,e,j,f,k,m,v,o,J]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?g[5].length!=0?{token:"aliased_expression",expression:g[3],alias:g[5][3]}:g[3]:null;if(q===null){q=a;g=[];for(e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=
B(),e!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q;else g=null,a=q;q=g!==null?g[1]:null;q=q!==null?q:null}}}(n=d)&&q===null&&h("[19] GroupCondition");z[c]={nextPos:a,result:q};return q}function S(){var c="HavingClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,6)==="HAVING"){var g="HAVING";a+=6}else g=null,n&&h('"HAVING"');if(g!==null){var e=xa();if(e!==null)for(var j=[];e!==null;)j.push(e),e=xa();else j=null;j!==
null?g=[g,j]:(g=null,a=q)}else g=null,a=q;(n=d)&&g===null&&h("[20] HavingClause");z[c]={nextPos:a,result:g};return g}function V(){var c="OrderClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="O"){var g="O";a+=1}else g=null,n&&h('"O"');g===null&&(b.substr(a,1)==="o"?(g="o",a+=1):(g=null,n&&h('"o"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,n&&h('"r"')),e=e!==
null?e:null);if(e!==null){if(b.substr(a,1)==="D"){var j="D";a+=1}else j=null,n&&h('"D"');j===null&&(b.substr(a,1)==="d"?(j="d",a+=1):(j=null,n&&h('"d"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,n&&h('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null);if(k!==null){for(var m=
[],v=t();v!==null;)m.push(v),v=t();if(m!==null)if(b.substr(a,1)==="B"?(v="B",a+=1):(v=null,n&&h('"B"')),v===null&&(b.substr(a,1)==="b"?(v="b",a+=1):(v=null,n&&h('"b"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="Y"){var o="Y";a+=1}else o=null,n&&h('"Y"');o===null&&(b.substr(a,1)==="y"?(o="y",a+=1):(o=null,n&&h('"y"')),o=o!==null?o:null);if(o!==null){for(var J=[],r=t();r!==null;)J.push(r),r=t();if(J!==null){var s=X();if(s!==null)for(r=[];s!==null;)r.push(s),s=X();else r=null;if(r!==null){for(var s=
[],u=t();u!==null;)s.push(u),u=t();s!==null?g=[g,e,j,f,k,m,v,o,J,r,s]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[9]:null;(n=d)&&q===null&&h("[22] OrderClause");z[c]={nextPos:a,result:q};return q}function X(){var c="OrderCondition@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,3)==="ASC"){var g="ASC";a+=3}else g=null,n&&h('"ASC"');
g===null&&(b.substr(a,4)==="DESC"?(g="DESC",a+=4):(g=null,n&&h('"DESC"')),g=g!==null?g:null);if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=sb(),j!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();f!==null?g=[g,e,j,f]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?{direction:g[0],expression:g[2]}:null;if(q===null){q=a;g=xa();g===null&&(g=B(),g=g!==null?g:null);if(g!==null){e=[];for(j=t();j!==null;)e.push(j),j=t();e!==null?g=[g,e]:(g=null,a=q)}else g=
null,a=q;q=g!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(g[0]):null;q=q!==null?q:null}(n=d)&&q===null&&h("[23] OrderCondition");z[c]={nextPos:a,result:q};return q}function ea(){var b="LimitOffsetClauses@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=a,g=ca();if(g!==null){var d=ma(),d=d!==null?d:"";d!==null?g=[g,d]:(g=null,a=q)}else g=null,a=q;g!==null?q=g:(q=a,g=ma(),g!==null?
(d=ca(),d=d!==null?d:"",d!==null?g=[g,d]:(g=null,a=q)):(g=null,a=q),q=g!==null?g:null);q=q!==null?function(a){for(var b={},c=0;c<a.length;c++){var g=a[c];if(g.limit!=null)b.limit=g.limit;else if(g.offset!=null)b.offset=g.offset}return b}(q):null;(n=c)&&q===null&&h("[24] LimitOffsetClauses");z[b]={nextPos:a,result:q};return q}function ca(){var c="LimitClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="L"){var g="L";a+=1}else g=null,n&&h('"L"');g===null&&(b.substr(a,
1)==="l"?(g="l",a+=1):(g=null,n&&h('"l"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="I"){var e="I";a+=1}else e=null,n&&h('"I"');e===null&&(b.substr(a,1)==="i"?(e="i",a+=1):(e=null,n&&h('"i"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="M"){var j="M";a+=1}else j=null,n&&h('"M"');j===null&&(b.substr(a,1)==="m"?(j="m",a+=1):(j=null,n&&h('"m"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="I"){var f="I";a+=1}else f=null,n&&h('"I"');f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):
(f=null,n&&h('"i"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),v=t();if(m!==null)if(v=ra(),v!==null){for(var o=[],J=t();J!==null;)o.push(J),J=t();o!==null?g=[g,e,j,f,k,m,v,o]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?{limit:parseInt(g[6].value)}:
null;(n=d)&&q===null&&h("[25] LimitClause");z[c]={nextPos:a,result:q};return q}function ma(){var c="OffsetClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="O"){var g="O";a+=1}else g=null,n&&h('"O"');g===null&&(b.substr(a,1)==="o"?(g="o",a+=1):(g=null,n&&h('"o"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="F"){var e="F";a+=1}else e=null,n&&h('"F"');e===null&&(b.substr(a,1)==="f"?(e="f",a+=1):(e=null,n&&h('"f"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,
1)==="F"){var j="F";a+=1}else j=null,n&&h('"F"');j===null&&(b.substr(a,1)==="f"?(j="f",a+=1):(j=null,n&&h('"f"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="S"){var f="S";a+=1}else f=null,n&&h('"S"');f===null&&(b.substr(a,1)==="s"?(f="s",a+=1):(f=null,n&&h('"s"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var k="E";a+=1}else k=null,n&&h('"E"');k===null&&(b.substr(a,1)==="e"?(k="e",a+=1):(k=null,n&&h('"e"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var m="T";a+=
1}else m=null,n&&h('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,n&&h('"t"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null)if(o=ra(),o!==null){for(var J=[],r=t();r!==null;)J.push(r),r=t();J!==null?g=[g,e,j,f,k,m,v,o,J]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?{offset:parseInt(g[7].value)}:null;(n=d)&&q===null&&h("[26] OffsetClause");
z[c]={nextPos:a,result:q};return q}function fa(){var c="BindingsClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,8)==="BINDINGS"){var g="BINDINGS";a+=8}else g=null,n&&h('"BINDINGS"');if(g!==null){for(var e=[],j=B();j!==null;)e.push(j),j=B();if(e!==null)if(b.substr(a,1)==="{"?(j="{",a+=1):(j=null,n&&h('"{"')),j!==null){var f=[],k=a;if(b.substr(a,1)==="("){var m="(";a+=1}else m=null,n&&h('"("');if(m!==null){var v=Y();if(v!==null)for(var t=[];v!==null;)t.push(v),v=Y();
else t=null;t!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,n&&h('")"')),v!==null?m=[m,t,v]:(m=null,a=k)):(m=null,a=k)}else m=null,a=k;m!==null?k=m:(k=Ka(),k=k!==null?k:null);for(;k!==null;){f.push(k);k=a;b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("'));if(m!==null){v=Y();if(v!==null)for(t=[];v!==null;)t.push(v),v=Y();else t=null;t!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,n&&h('")"')),v!==null?m=[m,t,v]:(m=null,a=k)):(m=null,a=k)}else m=null,a=k;m!==null?k=m:(k=Ka(),k=k!==null?k:null)}f!==
null?(b.substr(a,1)==="}"?(k="}",a+=1):(k=null,n&&h('"}"')),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?g:"";(n=d)&&q===null&&h("[27] BindingsClause");z[c]={nextPos:a,result:q};return q}function Y(){var c="BindingValue@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=U();q===null&&(q=vb(),q===null&&(q=wb(),q===null&&(q=xb(),q===null&&(b.substr(a,5)==="UNDEF"?(q="UNDEF",a+=5):(q=null,n&&h('"UNDEF"')),q=q!==null?q:null))));(n=
d)&&q===null&&h("[28] BindingValue");z[c]={nextPos:a,result:q};return q}function pa(){var c="Update@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=o();if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=ha(),j!==null){for(var f=a,k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)===";"?(m=";",a+=1):(m=null,n&&h('";"')),m!==null){for(var v=[],r=t();r!==null;)v.push(r),r=t();v!==null?(r=pa(),r=r!==null?r:"",r!==null?k=[k,m,v,r]:(k=null,a=f)):(k=
null,a=f)}else k=null,a=f;else k=null,a=f;f=k!==null?k:"";f!==null?g=[g,e,j,f]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b,c){var g={token:"query",kind:"update"};g.prologue=a;a=[b];c.length!=null&&c[3]!=null&&c[3].units!=null&&(a=a.concat(c[3].units));g.units=a;return g}(g[0],g[2],g[3]):null;(n=d)&&q===null&&h("[30] Update");z[c]={nextPos:a,result:q};return q}function ha(){var b="Update1@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=nb();q===null&&
(q=Qb(),q===null&&(q=cb(),q===null&&(q=eb(),q===null&&(q=fb(),q===null&&(q=$a(),q===null&&(q=bb(),q===null&&(q=oa(),q=q!==null?q:null)))))));(n=c)&&q===null&&h("[31] Update1");z[b]={nextPos:a,result:q};return q}function nb(){var c="Load@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="L"){var g="L";a+=1}else g=null,n&&h('"L"');g===null&&(b.substr(a,1)==="l"?(g="l",a+=1):(g=null,n&&h('"l"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="O"){var e="O";a+=1}else e=
null,n&&h('"O"');e===null&&(b.substr(a,1)==="o"?(e="o",a+=1):(e=null,n&&h('"o"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="A"){var j="A";a+=1}else j=null,n&&h('"A"');j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,n&&h('"a"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,n&&h('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,n&&h('"d"')),f=f!==null?f:null);if(f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=U(),m!==
null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null){o=a;if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,n&&h('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,n&&h('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var s="N";a+=1}else s=null,n&&h('"N"');s===null&&(b.substr(a,1)==="n"?(s="n",a+=1):(s=null,n&&h('"n"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="T"){var u="T";a+=1}else u=null,n&&h('"T"');u===null&&(b.substr(a,1)==="t"?(u="t",a+=1):(u=null,
n&&h('"t"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="O"){var w="O";a+=1}else w=null,n&&h('"O"');w===null&&(b.substr(a,1)==="o"?(w="o",a+=1):(w=null,n&&h('"o"')),w=w!==null?w:null);if(w!==null){for(var x=[],C=t();C!==null;)x.push(C),C=t();x!==null?(C=ya(),C!==null?r=[r,s,u,w,x,C]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o;o=r!==null?r:"";o!==null?g=[g,e,j,f,k,m,v,o]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,
a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;c.destinyGraph=b[5];return c}(g[5],g[7]):null;(n=d)&&q===null&&h("[32] Load");z[c]={nextPos:a,result:q};return q}function Qb(){var c="Clear@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="C"){var g="C";a+=1}else g=null,n&&h('"C"');g===null&&(b.substr(a,1)==="c"?(g="c",a+=1):(g=null,n&&h('"c"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,
1)==="L"){var e="L";a+=1}else e=null,n&&h('"L"');e===null&&(b.substr(a,1)==="l"?(e="l",a+=1):(e=null,n&&h('"l"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,n&&h('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,n&&h('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var f="A";a+=1}else f=null,n&&h('"A"');f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var k="R";a+=
1}else k=null,n&&h('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null);if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),v=t();if(m!==null){v=a;if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,n&&h('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,n&&h('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,n&&h('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,n&&h('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,
1)==="L"){var s="L";a+=1}else s=null,n&&h('"L"');s===null&&(b.substr(a,1)==="l"?(s="l",a+=1):(s=null,n&&h('"l"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,n&&h('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,n&&h('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var w="N";a+=1}else w=null,n&&h('"N"');w===null&&(b.substr(a,1)==="n"?(w="n",a+=1):(w=null,n&&h('"n"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var x="T";a+=
1}else x=null,n&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,n&&h('"t"')),x=x!==null?x:null);x!==null?o=[o,r,s,u,w,x]:(o=null,a=v)}else o=null,a=v}else o=null,a=v}else o=null,a=v}else o=null,a=v}else o=null,a=v;v=o!==null?o:"";if(v!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(r=Ua(),r!==null?g=[g,e,j,f,k,m,v,o,r]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a){var b=
{kind:"clear",token:"executableunit"};b.destinyGraph=a;return b}(g[8]):null;(n=d)&&q===null&&h("[33] Clear");z[c]={nextPos:a,result:q};return q}function cb(){var c="Drop@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,n&&h('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=
null,n&&h('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="O"){var j="O";a+=1}else j=null,n&&h('"O"');j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,n&&h('"o"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="P"){var f="P";a+=1}else f=null,n&&h('"P"');f===null&&(b.substr(a,1)==="p"?(f="p",a+=1):(f=null,n&&h('"p"')),f=f!==null?f:null);if(f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null){m=a;if(b.substr(a,1)==="S"){var v="S";a+=1}else v=null,n&&h('"S"');v===null&&
(b.substr(a,1)==="s"?(v="s",a+=1):(v=null,n&&h('"s"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,n&&h('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,n&&h('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,n&&h('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,n&&h('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var s="E";a+=1}else s=null,n&&h('"E"');s===null&&(b.substr(a,1)==="e"?
(s="e",a+=1):(s=null,n&&h('"e"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="N"){var u="N";a+=1}else u=null,n&&h('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,n&&h('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var w="T";a+=1}else w=null,n&&h('"T"');w===null&&(b.substr(a,1)==="t"?(w="t",a+=1):(w=null,n&&h('"t"')),w=w!==null?w:null);w!==null?v=[v,o,r,s,u,w]:(v=null,a=m)}else v=null,a=m}else v=null,a=m}else v=null,a=m}else v=null,a=m}else v=null,a=m;m=v!==null?
v:"";if(m!==null){v=[];for(o=t();o!==null;)v.push(o),o=t();v!==null?(o=Ua(),o!==null?g=[g,e,j,f,k,m,v,o]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b}(g[7]):null;(n=d)&&q===null&&h("[34] Drop");z[c]={nextPos:a,result:q};return q}function eb(){var c="Create@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,
1)==="C"){var g="C";a+=1}else g=null,n&&h('"C"');g===null&&(b.substr(a,1)==="c"?(g="c",a+=1):(g=null,n&&h('"c"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,n&&h('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,n&&h('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,n&&h('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var f="A";a+=
1}else f=null,n&&h('"A"');f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null){o=
a;if(b.substr(a,1)==="S"){var r="S";a+=1}else r=null,n&&h('"S"');r===null&&(b.substr(a,1)==="s"?(r="s",a+=1):(r=null,n&&h('"s"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="I"){var s="I";a+=1}else s=null,n&&h('"I"');s===null&&(b.substr(a,1)==="i"?(s="i",a+=1):(s=null,n&&h('"i"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="L"){var u="L";a+=1}else u=null,n&&h('"L"');u===null&&(b.substr(a,1)==="l"?(u="l",a+=1):(u=null,n&&h('"l"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)===
"E"){var w="E";a+=1}else w=null,n&&h('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,n&&h('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="N"){var x="N";a+=1}else x=null,n&&h('"N"');x===null&&(b.substr(a,1)==="n"?(x="n",a+=1):(x=null,n&&h('"n"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,n&&h('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,n&&h('"t"')),C=C!==null?C:null);C!==null?r=[r,s,u,w,x,C]:(r=null,a=o)}else r=null,a=o}else r=
null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o;o=r!==null?r:"";if(o!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();r!==null?(s=ya(),s!==null?g=[g,e,j,f,k,m,v,o,r,s]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b}(g[9]):null;(n=d)&&q===null&&h("[35] Create");z[c]={nextPos:a,result:q};return q}
function fb(){var c="InsertData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,n&&h('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,n&&h('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="N"){var e="N";a+=1}else e=null,n&&h('"N"');e===null&&(b.substr(a,1)==="n"?(e="n",a+=1):(e=null,n&&h('"n"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="S"){var j="S";a+=1}else j=null,n&&h('"S"');j===null&&(b.substr(a,1)===
"s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,n&&h('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var m="T";a+=1}else m=null,n&&h('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,
n&&h('"t"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null)if(b.substr(a,1)==="D"?(o="D",a+=1):(o=null,n&&h('"D"')),o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,n&&h('"d"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,n&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,n&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,n&&h('"T"');s===null&&(b.substr(a,1)===
"t"?(s="t",a+=1):(s=null,n&&h('"t"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,n&&h('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,n&&h('"a"')),u=u!==null?u:null);if(u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();w!==null?(x=Na(),x!==null?g=[g,e,j,f,k,m,v,o,r,s,u,w,x]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=
null,a=q}else g=null,a=q;q=g!==null?function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b}(g[12]):null;(n=d)&&q===null&&h("[36] InsertData");z[c]={nextPos:a,result:q};return q}function $a(){var c="DeleteData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,n&&h('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var e="E";a+=1}else e=
null,n&&h('"E"');e===null&&(b.substr(a,1)==="e"?(e="e",a+=1):(e=null,n&&h('"e"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="L"){var j="L";a+=1}else j=null,n&&h('"L"');j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===
null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null)if(b.substr(a,1)==="D"?(o="D",a+=1):(o=null,n&&h('"D"')),o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,n&&h('"d"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=
null,n&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,n&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,n&&h('"T"');s===null&&(b.substr(a,1)==="t"?(s="t",a+=1):(s=null,n&&h('"t"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,n&&h('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,n&&h('"a"')),u=u!==null?u:null);if(u!==null){var w=Na();w!==null?g=[g,e,j,f,k,m,v,o,r,s,u,w]:(g=null,a=q)}else g=
null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b}(g[11]):null;(n=d)&&q===null&&h("[37] DeleteData");z[c]={nextPos:a,result:q};return q}function bb(){var c="DeleteWhere@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,n&&h('"D"');
g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var e="E";a+=1}else e=null,n&&h('"E"');e===null&&(b.substr(a,1)==="e"?(e="e",a+=1):(e=null,n&&h('"e"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="L"){var j="L";a+=1}else j=null,n&&h('"L"');j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,
1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null)if(b.substr(a,1)==="W"?(o="W",a+=1):(o=null,n&&h('"W"')),
o===null&&(b.substr(a,1)==="w"?(o="w",a+=1):(o=null,n&&h('"w"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="H"){var r="H";a+=1}else r=null,n&&h('"H"');r===null&&(b.substr(a,1)==="h"?(r="h",a+=1):(r=null,n&&h('"h"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var s="E";a+=1}else s=null,n&&h('"E"');s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,n&&h('"e"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,n&&h('"R"');u===null&&(b.substr(a,1)===
"r"?(u="r",a+=1):(u=null,n&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,n&&h('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,n&&h('"e"')),w=w!==null?w:null);if(w!==null){for(var x=[],C=t();C!==null;)x.push(C),C=t();x!==null?(C=T(),C!==null?g=[g,e,j,f,k,m,v,o,r,s,u,w,x,C]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=
q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;for(var c=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,g=0;g<a.length;g++){var h={},q=a[g];h.subject=q.subject;h.predicate=q.predicate;h.object=q.object;h.graph=q.graph;c.push(h)}b["delete"]=c;return b}(g[13]):null;(n=d)&&q===null&&h("[38] DeleteWhere");z[c]={nextPos:a,result:q};return q}function oa(){var c=
"Modify@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=a;if(b.substr(a,1)==="W"){var e="W";a+=1}else e=null,n&&h('"W"');e===null&&(b.substr(a,1)==="w"?(e="w",a+=1):(e=null,n&&h('"w"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="I"){var j="I";a+=1}else j=null,n&&h('"I"');j===null&&(b.substr(a,1)==="i"?(j="i",a+=1):(j=null,n&&h('"i"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="T"){var f="T";a+=1}else f=null,n&&h('"T"');f===null&&(b.substr(a,1)==="t"?(f="t",a+=1):(f=
null,n&&h('"t"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="H"){var k="H";a+=1}else k=null,n&&h('"H"');k===null&&(b.substr(a,1)==="h"?(k="h",a+=1):(k=null,n&&h('"h"')),k=k!==null?k:null);if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),v=t();m!==null?(v=U(),v!==null?e=[e,j,f,k,m,v]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e:"";if(g!==null){e=[];for(j=t();j!==null;)e.push(j),j=t();if(e!==null){j=a;f=lb();if(f!==null){k=[];for(m=
t();m!==null;)k.push(m),m=t();k!==null?(m=Pa(),m=m!==null?m:"",m!==null?f=[f,k,m]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;f!==null?j=f:(j=Pa(),j=j!==null?j:null);if(j!==null){f=[];for(k=t();k!==null;)f.push(k),k=t();if(f!==null){k=[];for(m=va();m!==null;)k.push(m),m=va();if(k!==null){m=[];for(v=t();v!==null;)m.push(v),v=t();if(m!==null)if(b.substr(a,1)==="W"?(v="W",a+=1):(v=null,n&&h('"W"')),v===null&&(b.substr(a,1)==="w"?(v="w",a+=1):(v=null,n&&h('"w"')),v=v!==null?v:null),v!==null){if(b.substr(a,
1)==="H"){var o="H";a+=1}else o=null,n&&h('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,n&&h('"h"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,n&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,n&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var s="R";a+=1}else s=null,n&&h('"R"');s===null&&(b.substr(a,1)==="r"?(s="r",a+=1):(s=null,n&&h('"r"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="E"){var u="E";a+=
1}else u=null,n&&h('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,n&&h('"e"')),u=u!==null?u:null);if(u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();if(w!==null)if(x=T(),x!==null){for(var C=[],y=t();y!==null;)C.push(y),y=t();C!==null?g=[g,e,j,f,k,m,v,o,r,s,u,w,x,C]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,
a=q;q=g!==null?function(a,b,c,g){var h={kind:"modify"};h["with"]=a!=""?a[5]:null;b.length===3&&b[2]===""?(h["delete"]=b[0],h.insert=null):b.length===3&&b[0].length!=null&&b[1].length!=null&&b[2].length!=null?(h["delete"]=b[0],h.insert=b[2]):(h.insert=b,h["delete"]=null);c!=""&&(h.using=c);h.pattern=g;return h}(g[0],g[2],g[4],g[12]):null;(n=d)&&q===null&&h("[39] Modify");z[c]={nextPos:a,result:q};return q}function lb(){var c="DeleteClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=
a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,n&&h('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var e="E";a+=1}else e=null,n&&h('"E"');e===null&&(b.substr(a,1)==="e"?(e="e",a+=1):(e=null,n&&h('"e"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="L"){var j="L";a+=1}else j=null,n&&h('"L"');j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)===
"E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&h('"t"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?m:null);if(m!==null){var v=Va();v!==null?g=[g,e,j,f,k,m,v]:(g=
null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[6]:null;(n=d)&&q===null&&h("[40] DeleteClause");z[c]={nextPos:a,result:q};return q}function Pa(){var c="InsertClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,n&&h('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,n&&h('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="N"){var e="N";a+=1}else e=
null,n&&h('"N"');e===null&&(b.substr(a,1)==="n"?(e="n",a+=1):(e=null,n&&h('"n"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="S"){var j="S";a+=1}else j=null,n&&h('"S"');j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,n&&h('"R"');k===
null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var m="T";a+=1}else m=null,n&&h('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,n&&h('"t"')),m=m!==null?m:null);if(m!==null){var v=Va();v!==null?g=[g,e,j,f,k,m,v]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[6]:null;(n=d)&&q===null&&h("[41] InsertClause");z[c]={nextPos:a,result:q};return q}function va(){var c=
"UsingClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="U"?(e="U",a+=1):(e=null,n&&h('"U"')),e===null&&(b.substr(a,1)==="u"?(e="u",a+=1):(e=null,n&&h('"u"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="S"){var j="S";a+=1}else j=null,n&&h('"S"');j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="I"){var f="I";a+=1}else f=null,n&&h('"I"');
f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,n&&h('"i"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="N"){var k="N";a+=1}else k=null,n&&h('"N"');k===null&&(b.substr(a,1)==="n"?(k="n",a+=1):(k=null,n&&h('"n"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="G"){var m="G";a+=1}else m=null,n&&h('"G"');m===null&&(b.substr(a,1)==="g"?(m="g",a+=1):(m=null,n&&h('"g"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null){o=U();if(o===null){o=a;if(b.substr(a,
1)==="N"){var r="N";a+=1}else r=null,n&&h('"N"');r===null&&(b.substr(a,1)==="n"?(r="n",a+=1):(r=null,n&&h('"n"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="A"){var s="A";a+=1}else s=null,n&&h('"A"');s===null&&(b.substr(a,1)==="a"?(s="a",a+=1):(s=null,n&&h('"a"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="M"){var u="M";a+=1}else u=null,n&&h('"M"');u===null&&(b.substr(a,1)==="m"?(u="m",a+=1):(u=null,n&&h('"m"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var w="E";a+=
1}else w=null,n&&h('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,n&&h('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="D"){var x="D";a+=1}else x=null,n&&h('"D"');x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,n&&h('"d"')),x=x!==null?x:null);if(x!==null){for(var C=[],y=t();y!==null;)C.push(y),y=t();C!==null?(y=U(),y!==null?r=[r,s,u,w,x,C,y]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o;o=r!==null?r:null}o!==null?
g=[g,e,j,f,k,m,v,o]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?g[7].length!=null?{kind:"named",uri:g[7][6]}:{kind:"default",uri:g[7]}:null;(n=d)&&q===null&&h("[42] UsingClause");z[c]={nextPos:a,result:q};return q}function ya(){var c="GraphRef@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="G"){var g="G";a+=1}else g=null,n&&h('"G"');g===null&&(b.substr(a,1)==="g"?(g="g",a+=
1):(g=null,n&&h('"g"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,n&&h('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,n&&h('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="A"){var j="A";a+=1}else j=null,n&&h('"A"');j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,n&&h('"a"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="P"){var f="P";a+=1}else f=null,n&&h('"P"');f===null&&(b.substr(a,1)==="p"?(f="p",a+=1):(f=null,n&&h('"p"')),
f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="H"){var k="H";a+=1}else k=null,n&&h('"H"');k===null&&(b.substr(a,1)==="h"?(k="h",a+=1):(k=null,n&&h('"h"')),k=k!==null?k:null);if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),v=t();m!==null?(v=U(),v!==null?g=[g,e,j,f,k,m,v]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?g[6]:null;(n=d)&&q===null&&h("[43] GraphRef");z[c]={nextPos:a,result:q};return q}function Ua(){var c="GraphRefAll@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=ya(),q=q!==null?q:null;if(q===null){q=a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,n&&h('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var e="E";a+=1}else e=null,n&&h('"E"');e===null&&(b.substr(a,1)==="e"?(e="e",a+=1):(e=null,n&&h('"e"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="F"){var j="F";a+=1}else j=null,n&&h('"F"');j===null&&(b.substr(a,
1)==="f"?(j="f",a+=1):(j=null,n&&h('"f"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var f="A";a+=1}else f=null,n&&h('"A"');f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="U"){var k="U";a+=1}else k=null,n&&h('"U"');k===null&&(b.substr(a,1)==="u"?(k="u",a+=1):(k=null,n&&h('"u"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="L"){var m="L";a+=1}else m=null,n&&h('"L"');m===null&&(b.substr(a,1)==="l"?(m="l",a+=1):
(m=null,n&&h('"l"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="T"){var v="T";a+=1}else v=null,n&&h('"T"');v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,n&&h('"t"')),v=v!==null?v:null);v!==null?g=[g,e,j,f,k,m,v]:(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?"default":null;q===null&&(q=a,b.substr(a,1)==="N"?(g="N",a+=1):(g=null,n&&h('"N"')),g===null&&(b.substr(a,1)==="n"?(g="n",a+=1):(g=null,n&&h('"n"')),g=g!==
null?g:null),g!==null?(b.substr(a,1)==="A"?(e="A",a+=1):(e=null,n&&h('"A"')),e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,n&&h('"a"')),e=e!==null?e:null),e!==null?(b.substr(a,1)==="M"?(j="M",a+=1):(j=null,n&&h('"M"')),j===null&&(b.substr(a,1)==="m"?(j="m",a+=1):(j=null,n&&h('"m"')),j=j!==null?j:null),j!==null?(b.substr(a,1)==="E"?(f="E",a+=1):(f=null,n&&h('"E"')),f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null),f!==null?(b.substr(a,1)==="D"?(k="D",a+=1):(k=
null,n&&h('"D"')),k===null&&(b.substr(a,1)==="d"?(k="d",a+=1):(k=null,n&&h('"d"')),k=k!==null?k:null),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)):(g=null,a=q)):(g=null,a=q)):(g=null,a=q),q=g!==null?"named":null,q===null&&(q=a,b.substr(a,1)==="A"?(g="A",a+=1):(g=null,n&&h('"A"')),g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,n&&h('"a"')),g=g!==null?g:null),g!==null?(b.substr(a,1)==="L"?(e="L",a+=1):(e=null,n&&h('"L"')),e===null&&(b.substr(a,1)==="l"?(e="l",a+=1):(e=null,n&&h('"l"')),e=
e!==null?e:null),e!==null?(b.substr(a,1)==="L"?(j="L",a+=1):(j=null,n&&h('"L"')),j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null),j!==null?g=[g,e,j]:(g=null,a=q)):(g=null,a=q)):(g=null,a=q),q=g!==null?"all":null,q=q!==null?q:null))}(n=d)&&q===null&&h("[44] GraphRefAll");z[c]={nextPos:a,result:q};return q}function Va(){var c="QuadPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,
1)==="{"?(e="{",a+=1):(e=null,n&&h('"{"')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=Oa(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="}"?(m="}",a+=1):(m=null,n&&h('"}"')),m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();v!==null?g=[g,e,j,f,k,m,v]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?g[3].quadsContext:null;(n=d)&&q===null&&h("[45] QuadPattern");
z[c]={nextPos:a,result:q};return q}function Na(){var c="QuadData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="{"?(e="{",a+=1):(e=null,n&&h('"{"')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=Oa(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="}"?(m="}",a+=1):(m=null,n&&h('"}"')),m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();v!==null?
g=[g,e,j,f,k,m,v]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?g[3].quadsContext:null;(n=d)&&q===null&&h("[46] QuadData");z[c]={nextPos:a,result:q};return q}function Oa(){var c="Quads@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=$(),g=g!==null?g:"";if(g!==null){var e=[],j=a,f=Qa();if(f!==null){if(b.substr(a,1)==="."){var k=".";a+=1}else k=null,n&&h('"."');k=k!==null?k:"";if(k!==null){var m=$(),m=m!==null?
m:"";m!==null?f=[f,k,m]:(f=null,a=j)}else f=null,a=j}else f=null,a=j;for(;f!==null;)e.push(f),j=a,f=Qa(),f!==null?(b.substr(a,1)==="."?(k=".",a+=1):(k=null,n&&h('"."')),k=k!==null?k:"",k!==null?(m=$(),m=m!==null?m:"",m!==null?f=[f,k,m]:(f=null,a=j)):(f=null,a=j)):(f=null,a=j);e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?function(a,b){var c=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var g=0;g<a.triplesContext.length;g++){var h=a.triplesContext[g];h.graph=null;c.push(h)}if(b&&
b.length>0&&b[0].length>0&&(c=c.concat(b[0][0].quadsContext),b[0][2]!=null&&b[0][2].triplesContext!=null))for(g=0;g<b[0][2].triplesContext.length;g++)h=b[0][2].triplesContext[g],h.graph=null,c.push(h);return{token:"quads",quadsContext:c}}(g[0],g[1]):null;(n=d)&&q===null&&h("[47] Quads");z[c]={nextPos:a,result:q};return q}function Qa(){var c="QuadsNotTriples@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="G"?(e="G",
a+=1):(e=null,n&&h('"G"')),e===null&&(b.substr(a,1)==="g"?(e="g",a+=1):(e=null,n&&h('"g"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,n&&h('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,n&&h('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var f="A";a+=1}else f=null,n&&h('"A"');f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="P"){var k="P";a+=1}else k=null,n&&h('"P"');
k===null&&(b.substr(a,1)==="p"?(k="p",a+=1):(k=null,n&&h('"p"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="H"){var m="H";a+=1}else m=null,n&&h('"H"');m===null&&(b.substr(a,1)==="h"?(m="h",a+=1):(m=null,n&&h('"h"')),m=m!==null?m:null);if(m!==null){for(var v=[],o=t();o!==null;)v.push(o),o=t();if(v!==null)if(o=Ea(),o!==null){for(var r=[],s=t();s!==null;)r.push(s),s=t();if(r!==null)if(b.substr(a,1)==="{"?(s="{",a+=1):(s=null,n&&h('"{"')),s!==null){for(var u=[],w=t();w!==null;)u.push(w),w=t();
if(u!==null)if(w=$(),w=w!==null?w:"",w!==null){for(var x=[],C=t();C!==null;)x.push(C),C=t();if(x!==null)if(b.substr(a,1)==="}"?(C="}",a+=1):(C=null,n&&h('"}"')),C!==null){for(var y=[],B=t();B!==null;)y.push(B),B=t();y!==null?g=[g,e,j,f,k,m,v,o,r,s,u,w,x,C,y]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==
null?function(a,b){for(var c=[],g=0;g<b.triplesContext.length;g++){var h=b.triplesContext[g];h.graph=a;c.push(h)}return{token:"quadsnottriples",quadsContext:c}}(g[7],g[11]):null;(n=d)&&q===null&&h("[48] QuadsNotTriples");z[c]={nextPos:a,result:q};return q}function $(){var c="TriplesTemplate@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Ja();if(g!==null){for(var e=a,j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="."?(f=".",a+=1):(f=null,n&&h('"."')),f!==null){for(var k=
[],m=t();m!==null;)k.push(m),m=t();k!==null?(m=$(),m=m!==null?m:"",m!==null?j=[j,f,k,m]:(j=null,a=e)):(j=null,a=e)}else j=null,a=e;else j=null,a=e;e=j!==null?j:"";e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(g[0],g[1]):null;(n=d)&&q===null&&h("[49] TriplesTemplate");z[c]={nextPos:a,result:q};return q}function T(){var c=
"GroupGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="{"){var g="{";a+=1}else g=null,n&&h('"{"');if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=x(),j!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();f!==null?(b.substr(a,1)==="}"?(k="}",a+=1):(k=null,n&&h('"}"')),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?g[2]:null;if(q===null){q=a;b.substr(a,1)==="{"?(g="{",
a+=1):(g=null,n&&h('"{"'));if(g!==null){e=[];for(j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=Ha(),j!==null){f=[];for(k=t();k!==null;)f.push(k),k=t();f!==null?(b.substr(a,1)==="}"?(k="}",a+=1):(k=null,n&&h('"}"')),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?g[2]:null;q=q!==null?q:null}(n=d)&&q===null&&h("[50] GroupGraphPattern");z[c]={nextPos:a,result:q};return q}function Ha(){var c="GroupGraphPatternSub@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=n;n=!1;var q=a,g=wa(),g=g!==null?g:"";if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null){var j=[],f=a,k=Ra();if(k!==null){for(var m=[],v=t();v!==null;)m.push(v),v=t();if(m!==null)if(b.substr(a,1)==="."?(v=".",a+=1):(v=null,n&&h('"."')),v=v!==null?v:"",v!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();o!==null?(r=wa(),r=r!==null?r:"",r!==null?k=[k,m,v,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f}else k=null,a=f;for(;k!==null;)if(j.push(k),
f=a,k=Ra(),k!==null){m=[];for(v=t();v!==null;)m.push(v),v=t();if(m!==null)if(b.substr(a,1)==="."?(v=".",a+=1):(v=null,n&&h('"."')),v=v!==null?v:"",v!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(r=wa(),r=r!==null?r:"",r!==null?k=[k,m,v,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f}else k=null,a=f;j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b){var c=[];a!=null&&a!=[]&&c.push(a);for(var g=0;g<b.length;g++)for(var h=0;h<b[g].length;h++)b[g][h].token!=
null&&c.push(b[g][h]);for(var q=[],d=[],e=[],g=0;g<c.length;g++)if(c[g].token!="triplespattern"&&c[g].token!="filter"){if(d.length!=0||e.length!=0){for(var j=[],h=0;h<d.length;h++)j=j.concat(d[h].triplesContext);j.length>0&&q.push({token:"basicgraphpattern",triplesContext:j});d=[]}q.push(c[g])}else c[g].token==="triplespattern"?d.push(c[g]):e.push(c[g]);if(d.length!=0||e.length!=0){j=[];for(h=0;h<d.length;h++)j=j.concat(d[h].triplesContext);j.length>0&&q.push({token:"basicgraphpattern",triplesContext:j})}return{token:"groupgraphpattern",
patterns:q,filters:e}}(g[0],g[2]):null;(n=d)&&q===null&&h("[51] GroupGraphPatternSub");z[c]={nextPos:a,result:q};return q}function wa(){var c="TriplesBlock@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Ja();if(g!==null){for(var e=a,j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="."?(f=".",a+=1):(f=null,n&&h('"."')),f!==null){var k=wa(),k=k!==null?k:"";k!==null?j=[j,f,k]:(j=null,a=e)}else j=null,a=e;else j=null,a=e;e=j!==null?j:"";e!==null?g=[g,e]:(g=null,a=q)}else g=
null,a=q;q=g!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[2].triplesContext!=null&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}}(g[0],g[1]):null;(n=d)&&q===null&&h("[54] TriplesBlock");z[c]={nextPos:a,result:q};return q}function Ra(){var b="GraphPatternNotTriples@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=Ia();q===null&&(q=gb(),q===null&&(q=hb(),q===null&&(q=jb(),q===null&&(q=ib(),q===null&&(q=kb(),q=q!==null?
q:null)))));(n=c)&&q===null&&h("[53] GraphPatternNotTriples");z[b]={nextPos:a,result:q};return q}function gb(){var c="OptionalGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,8)==="OPTIONAL"?(e="OPTIONAL",a+=8):(e=null,n&&h('"OPTIONAL"')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();j!==null?(f=T(),f!==null?g=[g,e,j,f]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q;q=g!==null?{token:"optionalgraphpattern",
value:g[3]}:null;(n=d)&&q===null&&h("[54] OptionalGraphPattern");z[c]={nextPos:a,result:q};return q}function jb(){var c="GraphGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,5)==="GRAPH"?(e="GRAPH",a+=5):(e=null,n&&h('"GRAPH"')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=Ea(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();k!==null?(m=T(),m!==null?g=[g,e,j,f,k,m]:(g=null,
a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a,b){for(var c=0;c<b.patterns.length;c++)for(var g=b.patterns[c],h=0;h<g.triplesContext.length;h++)g.triplesContext[h].graph=a;b.token="groupgraphpattern";return b}(g[3],g[5]):null;(n=d)&&q===null&&h("[55] GraphGraphPattern");z[c]={nextPos:a,result:q};return q}function ib(){var c="ServiceGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,7)==="SERVICE"){var g=
"SERVICE";a+=7}else g=null,n&&h('"SERVICE"');if(g!==null){var e=Ea();if(e!==null){var j=T();j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;q=g!==null?{token:"servicegraphpattern",status:"todo",value:[g[1],g[2]]}:null;(n=d)&&q===null&&h("[56] ServiceGraphPattern");z[c]={nextPos:a,result:q};return q}function hb(){var c="MinusGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,5)==="MINUS"){var g="MINUS";a+=5}else g=null,n&&h('"MINUS"');if(g!==null){var e=
T();e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?{token:"minusgraphpattern",status:"todo",value:g[1]}:null;(n=d)&&q===null&&h("[57] MinusGraphPattern");z[c]={nextPos:a,result:q};return q}function Ia(){var c="GroupOrUnionGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=T();if(g!==null){for(var e=[],j=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,5)==="UNION"?(k="UNION",a+=5):(k=null,n&&h('"UNION"')),k!==null){for(var m=[],v=t();v!==null;)m.push(v),
v=t();m!==null?(v=T(),v!==null?f=[f,k,m,v]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j;for(;f!==null;){e.push(f);j=a;f=[];for(k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,5)==="UNION"?(k="UNION",a+=5):(k=null,n&&h('"UNION"')),k!==null){m=[];for(v=t();v!==null;)m.push(v),v=t();m!==null?(v=T(),v!==null?f=[f,k,m,v]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j}e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?function(a,b){if(b.length===0)return a;else{for(var c=
{token:"graphunionpattern",value:[a]},g=0;g<b.length;g++)g==b.length-1?c.value.push(b[g][3]):(c.value.push(b[g][3]),c={token:"graphunionpattern",value:[c]});return c}}(g[0],g[1]):null;(n=d)&&q===null&&h("[58] GroupOrUnionGraphPattern");z[c]={nextPos:a,result:q};return q}function kb(){var c="Filter@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="F"?(e="F",a+=1):(e=null,n&&h('"F"')),e===null&&(b.substr(a,1)==="f"?
(e="f",a+=1):(e=null,n&&h('"f"')),e=e!==null?e:null),e!==null){if(b.substr(a,1)==="I"){var j="I";a+=1}else j=null,n&&h('"I"');j===null&&(b.substr(a,1)==="i"?(j="i",a+=1):(j=null,n&&h('"i"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="L"){var f="L";a+=1}else f=null,n&&h('"L"');f===null&&(b.substr(a,1)==="l"?(f="l",a+=1):(f=null,n&&h('"l"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var k="T";a+=1}else k=null,n&&h('"T"');k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,n&&
h('"t"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,n&&h('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,n&&h('"r"')),v=v!==null?v:null);if(v!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();o!==null?(r=xa(),r!==null?g=[g,e,j,f,k,m,v,o,r]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=
null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?{token:"filter",value:g[8]}:null;(n=d)&&q===null&&h("[59] Filter");z[c]={nextPos:a,result:q};return q}function xa(){var b="Constraint@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var q=sb();q===null&&(q=ub(),q===null&&(q=Sa(),q=q!==null?q:null));(n=c)&&q===null&&h("[60] Constraint");z[b]={nextPos:a,result:q};return q}function Sa(){var b="FunctionCall@"+a,c=z[b];if(c)return a=c.nextPos,c.result;
c=n;n=!1;var q=a,g=U();if(g!==null){var d=Ta();d!==null?g=[g,d]:(g=null,a=q)}else g=null,a=q;q=g!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(g[0],g[1]):null;(n=c)&&q===null&&h("[61] FunctionCall");z[b]={nextPos:a,result:q};return q}function Ta(){var c="ArgList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=Ka()!==null?{token:"args",value:[]}:null;if(q===null){q=a;if(b.substr(a,1)==="("){var g="(";a+=1}else g=null,
n&&h('"("');if(g!==null){if(b.substr(a,8)==="DISTINCT"){var e="DISTINCT";a+=8}else e=null,n&&h('"DISTINCT"');e=e!==null?e:"";if(e!==null){var j=P();if(j!==null){var f=[],k=a;if(b.substr(a,1)===","){var m=",";a+=1}else m=null,n&&h('","');if(m!==null){var v=P();v!==null?m=[m,v]:(m=null,a=k)}else m=null,a=k;for(;m!==null;)f.push(m),k=a,b.substr(a,1)===","?(m=",",a+=1):(m=null,n&&h('","')),m!==null?(v=P(),v!==null?m=[m,v]:(m=null,a=k)):(m=null,a=k);f!==null?(b.substr(a,1)===")"?(k=")",a+=1):(k=null,n&&
h('")"')),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b,c){cleanEx=[];for(var g=0;g<c.length;g++)cleanEx.push(c[g][1]);c={token:"args"};c.value=[b].concat(cleanEx);c.distinct=a==="DISTINCT"?!0:!1;return c}(g[1],g[2],g[3]):null;q=q!==null?q:null}(n=d)&&q===null&&h("[62] ArgList");z[c]={nextPos:a,result:q};return q}function ga(){var c="ExpressionList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=Ka()!==null?{token:"args",
value:[]}:null;if(q===null){q=a;if(b.substr(a,1)==="("){var g="(";a+=1}else g=null,n&&h('"("');if(g!==null){var e=P();if(e!==null){var j=[],f=a;if(b.substr(a,1)===","){var k=",";a+=1}else k=null,n&&h('","');if(k!==null){var m=P();m!==null?k=[k,m]:(k=null,a=f)}else k=null,a=f;for(;k!==null;)j.push(k),f=a,b.substr(a,1)===","?(k=",",a+=1):(k=null,n&&h('","')),k!==null?(m=P(),m!==null?k=[k,m]:(k=null,a=f)):(k=null,a=f);j!==null?(b.substr(a,1)===")"?(f=")",a+=1):(f=null,n&&h('")"')),f!==null?g=[g,e,j,
f]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b){cleanEx=[];for(var c=0;c<b.length;c++)cleanEx.push(b[c][1]);c={token:"args"};c.value=[a].concat(cleanEx);return c}(g[1],g[2]):null;q=q!==null?q:null}(n=d)&&q===null&&h("[63] ExpressionList");z[c]={nextPos:a,result:q};return q}function ab(){var c="ConstructTemplate@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a;if(b.substr(a,1)==="{"){var g="{";a+=1}else g=null,n&&h('"{"');if(g!==null){for(var e=[],
j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=F(),j=j!==null?j:"",j!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();f!==null?(b.substr(a,1)==="}"?(k="}",a+=1):(k=null,n&&h('"}"')),k!==null?g=[g,e,j,f,k]:(g=null,a=q)):(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?g[2]:null;(n=d)&&q===null&&h("[64] ConstructTemplate");z[c]={nextPos:a,result:q};return q}function F(){var c="ConstructTriples@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Ja();if(g!==null){for(var e=
a,j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="."?(f=".",a+=1):(f=null,n&&h('"."')),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();k!==null?(m=F(),m=m!==null?m:"",m!==null?j=[j,f,k,m]:(j=null,a=e)):(j=null,a=e)}else j=null,a=e;else j=null,a=e;e=j!==null?j:"";e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",
triplesContext:c}}(g[0],g[1]):null;(n=d)&&q===null&&h("[65] ConstructTriples");z[c]={nextPos:a,result:q};return q}function Ja(){var b="TriplesSameSubject@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;for(var d=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=Db(),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();j!==null?(f=za(),f!==null?g=[g,e,j,f]:(g=null,a=d)):(g=null,a=d)}else g=null,a=d;else g=null,a=d;d=g!==null?function(a,b){var c=b.triplesContext;if(b.pairs)for(var g=0;g<
b.pairs.length;g++){var h=b.pairs[g],d=null;a.token&&a.token==="triplesnodecollection"?(d={subject:a.chainSubject[0],predicate:h[0],object:h[1]},c.push(d),c=c.concat(a.triplesContext)):(d={subject:a,predicate:h[0],object:h[1]},c.push(d))}g={token:"triplessamesubject"};g.triplesContext=c;g.chainSubject=a;return g}(g[1],g[3]):null;if(d===null){d=a;g=[];for(e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=Fa(),e!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?(f=Wa(),f!==null?g=[g,e,j,f]:(g=
null,a=d)):(g=null,a=d)}else g=null,a=d;else g=null,a=d;d=g!==null?function(a,b){var c=a.triplesContext,g=a.chainSubject;if(b.pairs)for(var h=0;h<b.pairs.length;h++){var d=b.pairs[h];if(a.token==="triplesnodecollection")for(var q=0;q<g.length;q++){var e=g[q];if(e.triplesContext!=null){var j={subject:e.chainSubject,predicate:d[0],object:d[1]};c.concat(e.triplesContext)}else j={subject:g[q],predicate:d[0],object:d[1]},c.push(j)}else j={subject:g,predicate:d[0],object:d[1]},c.push(j)}h={token:"triplessamesubject"};
h.triplesContext=c;h.chainSubject=g;return h}(g[1],g[3]):null;d=d!==null?d:null}(n=c)&&d===null&&h("[66] TriplesSameSubject");z[b]={nextPos:a,result:d};return d}function za(){var c="PropertyListNotEmpty@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Ba();if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null)if(j=ba(),j!==null){for(var f=[],k=a,m=[],o=t();o!==null;)m.push(o),o=t();if(m!==null)if(b.substr(a,1)===";"?(o=";",a+=1):(o=null,n&&h('";"')),o!==null){for(var r=
[],s=t();s!==null;)r.push(s),s=t();if(r!==null){var s=a,u=Ba();if(u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();w!==null?(x=ba(),x!==null?u=[u,w,x]:(u=null,a=s)):(u=null,a=s)}else u=null,a=s;s=u!==null?u:"";s!==null?m=[m,o,r,s]:(m=null,a=k)}else m=null,a=k}else m=null,a=k;else m=null,a=k;for(;m!==null;){f.push(m);k=a;m=[];for(o=t();o!==null;)m.push(o),o=t();if(m!==null)if(b.substr(a,1)===";"?(o=";",a+=1):(o=null,n&&h('";"')),o!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();if(r!==null){s=
a;u=Ba();if(u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();w!==null?(x=ba(),x!==null?u=[u,w,x]:(u=null,a=s)):(u=null,a=s)}else u=null,a=s;s=u!==null?u:"";s!==null?m=[m,o,r,s]:(m=null,a=k)}else m=null,a=k}else m=null,a=k;else m=null,a=k}f!==null?g=[g,e,j,f]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b,c){token={token:"propertylist"};for(var g=[],h=[],d=0;d<b.length;d++)b[d].triplesContext!=null?(g=g.concat(b[d].triplesContext),b[d].token==="triplesnodecollection"&&
b[d].chainSubject.length!=null?h.push([a,b[d].chainSubject[0]]):h.push([a,b[d].chainSubject])):h.push([a,b[d]]);for(d=0;d<c.length;d++)for(var b=c[d][3],a=b[0],b=b[2]||[],q=0;q<b.length;q++)b[q].triplesContext!=null?(g=g.concat(b[q].triplesContext),h.push([a,b[q].chainSubject])):h.push([a,b[q]]);token.pairs=h;token.triplesContext=g;return token}(g[0],g[2],g[3]):null;(n=d)&&q===null&&h("[67] PropertyListNotEmpty");z[c]={nextPos:a,result:q};return q}function Wa(){var b="PropertyList@"+a,c=z[b];if(c)return a=
c.nextPos,c.result;c=n;n=!1;var d=za(),d=d!==null?d:"";(n=c)&&d===null&&h("[68] PropertyList");z[b]={nextPos:a,result:d};return d}function ba(){var c="ObjectList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=W();if(g!==null){for(var e=[],j=t();j!==null;)e.push(j),j=t();if(e!==null){var j=[],f=a;if(b.substr(a,1)===","){var k=",";a+=1}else k=null,n&&h('","');if(k!==null){for(var m=[],o=t();o!==null;)m.push(o),o=t();m!==null?(o=W(),o!==null?k=[k,m,o]:(k=null,a=f)):(k=null,a=f)}else k=
null,a=f;for(;k!==null;)if(j.push(k),f=a,b.substr(a,1)===","?(k=",",a+=1):(k=null,n&&h('","')),k!==null){m=[];for(o=t();o!==null;)m.push(o),o=t();m!==null?(o=W(),o!==null?k=[k,m,o]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q}else g=null,a=q;q=g!==null?function(a,b){var c=[];c.push(a);for(var g=0;g<b.length;g++)for(var h=0;h<b[g].length;h++)typeof b[g][h]=="object"&&b[g][h].token!=null&&c.push(b[g][h]);return c}(g[0],g[2]):null;(n=d)&&q===null&&h("[69] ObjectList");
z[c]={nextPos:a,result:q};return q}function Ba(){var c="Verb@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=Ea();q===null&&(b.substr(a,1)==="a"?(q="a",a+=1):(q=null,n&&h('"a"')),q=q!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null,q=q!==null?q:null);(n=d)&&q===null&&h("[71] Verb");z[c]={nextPos:a,result:q};return q}function qa(){var b="VerbPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=Ga(),d=d!==null?d:null;(n=
c)&&d===null&&h("[75]");z[b]={nextPos:a,result:d};return d}function Ga(){var c="PathAlternative@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Aa();if(g!==null){var e=[],j=a;if(b.substr(a,1)==="|"){var f="|";a+=1}else f=null,n&&h('"|"');if(f!==null){var k=Aa();k!==null?f=[f,k]:(f=null,a=j)}else f=null,a=j;for(;f!==null;)e.push(f),j=a,b.substr(a,1)==="|"?(f="|",a+=1):(f=null,n&&h('"|"')),f!==null?(k=Aa(),k!==null?f=[f,k]:(f=null,a=j)):(f=null,a=j);e!==null?g=[g,e]:(g=null,a=q)}else g=
null,a=q;(n=d)&&g===null&&h("[78] PathAlternative");z[c]={nextPos:a,result:g};return g}function Aa(){var c="PathSequence@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=a,g=Xa();if(g!==null){var e=[],j=a;if(b.substr(a,1)==="/"){var f="/";a+=1}else f=null,n&&h('"/"');if(f!==null){var k=Xa();k!==null?f=[f,k]:(f=null,a=j)}else f=null,a=j;for(;f!==null;)e.push(f),j=a,b.substr(a,1)==="/"?(f="/",a+=1):(f=null,n&&h('"/"')),f!==null?(k=Xa(),k!==null?f=[f,k]:(f=null,a=j)):(f=null,a=j);e!==null?
g=[g,e]:(g=null,a=q)}else g=null,a=q;(n=d)&&g===null&&h("[79] PathSequence");z[c]={nextPos:a,result:g};return g}function mb(){var b="PathElt@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=a,g=k();if(g!==null){var e=ja(),e=e!==null?e:"";e!==null?g=[g,e]:(g=null,a=d)}else g=null,a=d;(n=c)&&g===null&&h("[88] PathElt");z[b]={nextPos:a,result:g};return g}function Xa(){var c="PathEltOrInverse@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=mb();if(q===null){q=a;if(b.substr(a,1)===
"^"){var g="^";a+=1}else g=null,n&&h('"^"');if(g!==null){var e=mb();e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?g:null}(n=d)&&q===null&&h("[81] PathEltOrInverse");z[c]={nextPos:a,result:q};return q}function ja(){var c="PathMod@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;if(b.substr(a,1)==="*"){var q="*";a+=1}else q=null,n&&h('"*"');if(q===null&&(b.substr(a,1)==="?"?(q="?",a+=1):(q=null,n&&h('"?"')),q===null&&(b.substr(a,1)==="+"?(q="+",a+=1):(q=null,n&&h('"+"')),q===null))){q=
a;if(b.substr(a,1)==="{"){var g="{";a+=1}else g=null,n&&h('"{"');if(g!==null){var e=a,j=ra();if(j!==null){var f=a;if(b.substr(a,1)===","){var k=",";a+=1}else k=null,n&&h('","');if(k!==null){if(b.substr(a,1)==="}"){var m="}";a+=1}else m=null,n&&h('"}"');if(m===null){var m=a,o=ra();if(o!==null){if(b.substr(a,1)==="}"){var r="}";a+=1}else r=null,n&&h('"}"');r!==null?o=[o,r]:(o=null,a=m)}else o=null,a=m;m=o!==null?o:null}m!==null?k=[k,m]:(k=null,a=f)}else k=null,a=f;k!==null?f=k:(b.substr(a,1)==="}"?
(f="}",a+=1):(f=null,n&&h('"}"')),f=f!==null?f:null);f!==null?j=[j,f]:(j=null,a=e)}else j=null,a=e;j!==null?e=j:(e=a,b.substr(a,1)===","?(j=",",a+=1):(j=null,n&&h('","')),j!==null?(f=ra(),f!==null?(b.substr(a,1)==="}"?(k="}",a+=1):(k=null,n&&h('"}"')),k!==null?j=[j,f,k]:(j=null,a=e)):(j=null,a=e)):(j=null,a=e),e=j!==null?j:null);e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?g:null}(n=d)&&q===null&&h("[82] PathMod");z[c]={nextPos:a,result:q};return q}function k(){var c="PathPrimary@"+a,
d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=U();if(q===null&&(b.substr(a,1)==="a"?(q="a",a+=1):(q=null,n&&h('"a"')),q===null)){q=a;if(b.substr(a,1)==="!"){var g="!";a+=1}else g=null,n&&h('"!"');if(g!==null){var e=s();e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;if(g!==null)q=g;else{q=a;b.substr(a,1)==="("?(g="(",a+=1):(g=null,n&&h('"("'));if(g!==null)if(e=Ga(),e!==null){if(b.substr(a,1)===")"){var j=")";a+=1}else j=null,n&&h('")"');j!==null?g=[g,e,j]:(g=null,a=q)}else g=null,a=q;else g=
null,a=q;q=g!==null?g:null}}(n=d)&&q===null&&h("[83] PathPrimary");z[c]={nextPos:a,result:q};return q}function s(){var c="PathNegatedPropertySet@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=ia();if(d===null){d=a;if(b.substr(a,1)==="("){var q="(";a+=1}else q=null,n&&h('"("');if(q!==null){var g=a,e=ia();if(e!==null){var j=[],f=a;if(b.substr(a,1)==="|"){var k="|";a+=1}else k=null,n&&h('"|"');if(k!==null){var m=ia();m!==null?k=[k,m]:(k=null,a=f)}else k=null,a=f;for(;k!==null;)j.push(k),f=a,b.substr(a,
1)==="|"?(k="|",a+=1):(k=null,n&&h('"|"')),k!==null?(m=ia(),m!==null?k=[k,m]:(k=null,a=f)):(k=null,a=f);j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?e:"";g!==null?(b.substr(a,1)===")"?(e=")",a+=1):(e=null,n&&h('")"')),e!==null?q=[q,g,e]:(q=null,a=d)):(q=null,a=d)}else q=null,a=d;d=q!==null?q:null}z[c]={nextPos:a,result:d};return d}function ia(){var c="PathOneInPropertySet@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var q=U();if(q===null&&(b.substr(a,1)==="a"?(q="a",a+=1):(q=null,
n&&h('"a"')),q===null)){q=a;if(b.substr(a,1)==="^"){var g="^";a+=1}else g=null,n&&h('"^"');if(g!==null){var e=U();e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,n&&h('"a"')),e=e!==null?e:null);e!==null?g=[g,e]:(g=null,a=q)}else g=null,a=q;q=g!==null?g:null}(n=d)&&q===null&&h("[85] PathOneInPropertySet");z[c]={nextPos:a,result:q};return q}function Fa(){var b="TriplesNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=aa(),d=d!==null?function(a){triplesContext=[];chainSubject=[];for(var b=
null,c=0;c<a.length;c++)sa++,b=null,a[c].chainSubject==null&&a[c].triplesContext==null?b=a[c]:(b=a[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),b={subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:b},c==0&&chainSubject.push(b.subject),triplesContext.push(b),b=c===a.length-1?{subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},
object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(sa+1)}},triplesContext.push(b);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(d):null;d===null&&(d=y(),d=d!==null?d:null);(n=c)&&d===null&&h("[87] TriplesNode");z[b]={nextPos:a,
result:d};return d}function y(){var c="BlankNodePropertyList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="["?(e="[",a+=1):(e=null,n&&h('"["')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=za(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="]"?(m="]",a+=1):(m=null,n&&h('"]"')),m!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();o!==null?g=[g,
e,j,f,k,m,o]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?function(a){sa++;for(var b={token:"blank",label:""+sa},c=[],g=0;g<a.pairs.length;g++){var h=a.pairs[g],d={};d.subject=b;d.predicate=h[0];d.object=h[1];c.push(d)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}}(g[3]):null;(n=d)&&q===null&&h("[88] BlankNodePropertyList");z[c]={nextPos:a,result:q};return q}
function aa(){var c="Collection@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;for(var q=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(b.substr(a,1)==="("?(e="(",a+=1):(e=null,n&&h('"("')),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null){var k=W();if(k!==null)for(f=[];k!==null;)f.push(k),k=W();else f=null;if(f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)===")"?(m=")",a+=1):(m=null,n&&h('")"')),m!==null){for(var o=[],r=t();r!==null;)o.push(r),
r=t();o!==null?g=[g,e,j,f,k,m,o]:(g=null,a=q)}else g=null,a=q;else g=null,a=q}else g=null,a=q}else g=null,a=q}else g=null,a=q;else g=null,a=q;q=g!==null?g[3]:null;(n=d)&&q===null&&h("[89] Collection");z[c]={nextPos:a,result:q};return q}function W(){var b="GraphNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;for(var d=a,g=[],e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=Db(),e!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,j]:(g=null,a=d)}else g=null,a=d;else g=null,
a=d;if(g!==null)d=g;else{d=a;g=[];for(e=t();e!==null;)g.push(e),e=t();if(g!==null)if(e=Fa(),e!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?g=[g,e,j]:(g=null,a=d)}else g=null,a=d;else g=null,a=d;d=g!==null?g:null}d=d!==null?d[1]:null;(n=c)&&d===null&&h("[90] GraphNode");z[b]={nextPos:a,result:d};return d}function Db(){var b="VarOrTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=B();d===null&&(d=Jb(),d=d!==null?d:null);(n=c)&&d===null&&h("[91] VarOrTerm");z[b]={nextPos:a,
result:d};return d}function Ea(){var b="VarOrIRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=B();d===null&&(d=U(),d=d!==null?d:null);(n=c)&&d===null&&h("[92] VarOrIRIref");z[b]={nextPos:a,result:d};return d}function B(){var b="Var@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=Sb();d===null&&(d=Tb(),d=d!==null?d:null);d=d!==null?function(a){var b={token:"var"};b.value=a;return b}(d):null;(n=c)&&d===null&&h("[93] Var");z[b]={nextPos:a,result:d};return d}function Jb(){var b=
"GraphTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=U();d===null&&(d=vb(),d===null&&(d=wb(),d===null&&(d=xb(),d===null&&(d=Ub(),d===null&&(d=Ka(),d=d!==null?d:null)))));(n=c)&&d===null&&h("[94] GraphTerm");z[b]={nextPos:a,result:d};return d}function P(){var c="ConditionalOrExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=qb();if(g!==null){for(var j=[],f=a,k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="||"?(m="||",a+=2):(m=null,n&&h('"||"')),
m!==null){for(var o=[],v=t();v!==null;)o.push(v),v=t();o!==null?(v=qb(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;for(;k!==null;){j.push(k);f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="||"?(m="||",a+=2):(m=null,n&&h('"||"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=qb(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f}j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,
b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionalor"},g=[a],h=0;h<b.length;h++)g.push(b[h][3]);c.operands=g;return c}(g[0],g[1]):null;(n=d)&&e===null&&h("[96] ConditionalOrExpression");z[c]={nextPos:a,result:e};return e}function qb(){var c="ConditionalAndExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=rb();if(g!==null){for(var j=[],f=a,k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="&&"?(m="&&",a+=2):(m=null,n&&h('"&&"')),
m!==null){for(var o=[],v=t();v!==null;)o.push(v),v=t();o!==null?(v=rb(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;for(;k!==null;){j.push(k);f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="&&"?(m="&&",a+=2):(m=null,n&&h('"&&"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=rb(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f}j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,
b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionaland"},g=[a],h=0;h<b.length;h++)g.push(b[h][3]);c.operands=g;return c}(g[0],g[1]):null;(n=d)&&e===null&&h("[97] ConditionalAndExpression");z[c]={nextPos:a,result:e};return e}function rb(){var c="RelationalExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=Z();if(g!==null){for(var j=[],f=a,k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,n&&h('"="')),
m!==null){for(var o=[],v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,n&&h('"!="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();
if(k!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,n&&h('"<"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,n&&h('">"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==
null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="<="?(m="<=",a+=2):(m=null,n&&h('"<="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)===">="?(m=">=",a+=2):(m=null,n&&h('">="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,
v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;f=k!==null?k:null}}}}}for(;f!==null;){j.push(f);f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,n&&h('"="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,n&&h('"!="')),
m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,n&&h('"<"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==
null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,n&&h('">"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)==="<="?(m="<=",a+=2):(m=null,n&&h('"<="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==
null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,2)===">="?(m=">=",a+=2):(m=null,n&&h('">="')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=Z(),v!==null?k=[k,m,o,v]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;f=k!==null?k:null}}}}}}j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,b){if(b.length===0)return a;else{var c={expressionType:"relationalexpression"};c.operator=b[0][1];c.op1=a;c.op2=b[0][3];c.token="expression";
return c}}(g[0],g[1]):null;(n=d)&&e===null&&h("[99] RelationalExpression");z[c]={nextPos:a,result:e};return e}function Z(){var c="AdditiveExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=La();if(g!==null){for(var j=[],k=a,f=[],m=t();m!==null;)f.push(m),m=t();if(f!==null)if(b.substr(a,1)==="+"?(m="+",a+=1):(m=null,n&&h('"+"')),m!==null){for(var o=[],v=t();v!==null;)o.push(v),v=t();o!==null?(v=La(),v!==null?f=[f,m,o,v]:(f=null,a=k)):(f=null,a=k)}else f=null,a=k;else f=null,
a=k;if(f!==null)k=f;else{k=a;f=[];for(m=t();m!==null;)f.push(m),m=t();if(f!==null)if(b.substr(a,1)==="-"?(m="-",a+=1):(m=null,n&&h('"-"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=La(),v!==null?f=[f,m,o,v]:(f=null,a=k)):(f=null,a=k)}else f=null,a=k;else f=null,a=k;if(f!==null)k=f;else{k=a;f=Ma();f===null&&(f=Ma(),f=f!==null?f:null);if(f!==null){m=a;o=[];for(v=t();v!==null;)o.push(v),v=t();if(o!==null)if(b.substr(a,1)==="*"?(v="*",a+=1):(v=null,n&&h('"*"')),v!==null){for(var r=
[],s=t();s!==null;)r.push(s),s=t();r!==null?(s=la(),s!==null?o=[o,v,r,s]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(v=t();v!==null;)o.push(v),v=t();if(o!==null)if(b.substr(a,1)==="/"?(v="/",a+=1):(v=null,n&&h('"/"')),v!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();r!==null?(s=la(),s!==null?o=[o,v,r,s]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}m=m!==null?m:"";m!==null?f=[f,m]:(f=null,a=k)}else f=null,a=k;k=f!==
null?f:null}}for(;k!==null;){j.push(k);k=a;f=[];for(m=t();m!==null;)f.push(m),m=t();if(f!==null)if(b.substr(a,1)==="+"?(m="+",a+=1):(m=null,n&&h('"+"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=La(),v!==null?f=[f,m,o,v]:(f=null,a=k)):(f=null,a=k)}else f=null,a=k;else f=null,a=k;if(f!==null)k=f;else{k=a;f=[];for(m=t();m!==null;)f.push(m),m=t();if(f!==null)if(b.substr(a,1)==="-"?(m="-",a+=1):(m=null,n&&h('"-"')),m!==null){o=[];for(v=t();v!==null;)o.push(v),v=t();o!==null?(v=La(),
v!==null?f=[f,m,o,v]:(f=null,a=k)):(f=null,a=k)}else f=null,a=k;else f=null,a=k;if(f!==null)k=f;else{k=a;f=Ma();f===null&&(f=Ma(),f=f!==null?f:null);if(f!==null){m=a;o=[];for(v=t();v!==null;)o.push(v),v=t();if(o!==null)if(b.substr(a,1)==="*"?(v="*",a+=1):(v=null,n&&h('"*"')),v!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();r!==null?(s=la(),s!==null?o=[o,v,r,s]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(v=t();v!==null;)o.push(v),v=t();if(o!==null)if(b.substr(a,
1)==="/"?(v="/",a+=1):(v=null,n&&h('"/"')),v!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();r!==null?(s=la(),s!==null?o=[o,v,r,s]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}m=m!==null?m:"";m!==null?f=[f,m]:(f=null,a=k)}else f=null,a=k;k=f!==null?f:null}}}j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var g=0;g<b.length;g++){var h=
b[g],d={};if(h.length==4&&typeof h[1]==="string")d.operator=h[1],d.expression=h[3];else{var h={},e=d[0],q=d[1][1],j=d[1][3],q=null;e.value<0?(d.operator="-",e.value=-e.value):d.operator="+";h.token="expression";h.expressionType="multiplicativeexpression";h.operator=e;h.factors=[{operator:q,expression:j}];d.expression=h}c.summands.push(d)}return c}(g[0],g[1]):null;(n=d)&&e===null&&h("[101] AdditiveExpression");z[c]={nextPos:a,result:e};return e}function La(){var c="MultiplicativeExpression@"+a,d=z[c];
if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=la();if(g!==null){for(var j=[],f=a,k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="*"?(m="*",a+=1):(m=null,n&&h('"*"')),m!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();o!==null?(r=la(),r!==null?k=[k,m,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="/"?(m="/",a+=1):(m=null,n&&h('"/"')),m!==null){o=[];for(r=
t();r!==null;)o.push(r),r=t();o!==null?(r=la(),r!==null?k=[k,m,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;f=k!==null?k:null}for(;f!==null;){j.push(f);f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="*"?(m="*",a+=1):(m=null,n&&h('"*"')),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(r=la(),r!==null?k=[k,m,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;if(k!==null)f=k;else{f=a;k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==
null)if(b.substr(a,1)==="/"?(m="/",a+=1):(m=null,n&&h('"/"')),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(r=la(),r!==null?k=[k,m,o,r]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f;f=k!==null?k:null}}j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var g=0;g<b.length;g++){var h=b[g],d={};d.operator=h[1];d.expression=h[3];c.factors.push(d)}return c}(g[0],
g[1]):null;(n=d)&&e===null&&h("[102] MultiplicativeExpression");z[c]={nextPos:a,result:e};return e}function la(){var c="UnaryExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="!"){var g="!";a+=1}else g=null,n&&h('"!"');if(g!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();j!==null?(f=Za(),f!==null?g=[g,j,f]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=
a;return b}(g[2]):null;if(e===null){e=a;b.substr(a,1)==="+"?(g="+",a+=1):(g=null,n&&h('"+"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?(f=Za(),f!==null?g=[g,j,f]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(g[2]):null;if(e===null){e=a;b.substr(a,1)==="-"?(g="-",a+=1):(g=null,n&&h('"-"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?(f=
Za(),f!==null?g=[g,j,f]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(g[2]):null;e===null&&(e=Za(),e=e!==null?e:null)}}(n=d)&&e===null&&h("[103] UnaryExpression");z[c]={nextPos:a,result:e};return e}function Za(){var b="PrimaryExpression@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=sb();d===null&&(d=ub(),d===null&&(d=Mb(),d===null&&(d=vb(),d=d!==null?function(a){var b=
{token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(d):null,d===null&&(d=wb(),d=d!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(d):null,d===null&&(d=xb(),d=d!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(d):null,d===null&&(d=Lb(),d===null&&(d=B(),d=d!==null?function(a){var b={token:"expression",expressionType:"atomic",
primaryexpression:"var"};b.value=a;return b}(d):null,d=d!==null?d:null)))))));(n=c)&&d===null&&h("[104] PrimaryExpression");z[b]={nextPos:a,result:d};return d}function sb(){var c="BrackettedExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="("){var g="(";a+=1}else g=null,n&&h('"("');if(g!==null){for(var j=[],f=t();f!==null;)j.push(f),f=t();if(j!==null)if(f=P(),f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();k!==null?(b.substr(a,1)===")"?(m=")",a+=1):
(m=null,n&&h('")"')),m!==null?g=[g,j,f,k,m]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?g[2]:null;(n=d)&&e===null&&h("[105] BrackettedExpression");z[c]={nextPos:a,result:e};return e}function ub(){var c="BuiltInCall@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="S"){var g="S";a+=1}else g=null,n&&h('"S"');g===null&&(b.substr(a,1)==="s"?(g="s",a+=1):(g=null,n&&h('"s"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var j=
"T";a+=1}else j=null,n&&h('"T"');j===null&&(b.substr(a,1)==="t"?(j="t",a+=1):(j=null,n&&h('"t"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="R"){var f="R";a+=1}else f=null,n&&h('"R"');f===null&&(b.substr(a,1)==="r"?(f="r",a+=1):(f=null,n&&h('"r"')),f=f!==null?f:null);if(f!==null){for(var k=[],m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("')),m!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();if(o!==null)if(r=P(),r!==null){for(var s=[],
u=t();u!==null;)s.push(u),u=t();s!==null?(b.substr(a,1)===")"?(u=")",a+=1):(u=null,n&&h('")"')),u!==null?g=[g,j,f,k,m,o,r,s,u]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b}(g[6]):null;if(e===null){e=a;b.substr(a,1)==="L"?(g="L",a+=1):(g=null,n&&h('"L"'));g===null&&(b.substr(a,1)==="l"?(g="l",
a+=1):(g=null,n&&h('"l"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,n&&h('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,n&&h('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="N"?(f="N",a+=1):(f=null,n&&h('"N"')),f===null&&(b.substr(a,1)==="n"?(f="n",a+=1):(f=null,n&&h('"n"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="G"?(k="G",a+=1):(k=null,n&&h('"G"')),k===null&&(b.substr(a,1)==="g"?(k="g",a+=1):(k=null,n&&h('"g"')),k=k!==null?k:null),k!==
null){m=[];for(o=t();o!==null;)m.push(o),o=t();if(m!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,n&&h('"("')),o!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();if(r!==null)if(s=P(),s!==null){for(var u=[],w=t();w!==null;)u.push(w),w=t();u!==null?(b.substr(a,1)===")"?(w=")",a+=1):(w=null,n&&h('")"')),w!==null?g=[g,j,f,k,m,o,r,s,u,w]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==
null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(g[7]):null;if(e===null){e=a;b.substr(a,11)==="LANGMATCHES"?(g="LANGMATCHES",a+=11):(g=null,n&&h('"LANGMATCHES"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)===
","?(r=",",a+=1):(r=null,n&&h('","')),r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();w!==null?(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null?g=[g,j,f,k,m,o,r,s,u,w,x]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",
builtincall:"langmatches"};c.args=[a,b];return c}(g[4],g[8]):null;if(e===null){e=a;b.substr(a,1)==="D"?(g="D",a+=1):(g=null,n&&h('"D"'));g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,n&&h('"d"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,n&&h('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,n&&h('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="T"?(f="T",a+=1):(f=null,n&&h('"T"')),f===null&&(b.substr(a,1)==="t"?(f="t",a+=1):(f=null,n&&h('"t"')),
f=f!==null?f:null),f!==null)if(b.substr(a,1)==="A"?(k="A",a+=1):(k=null,n&&h('"A"')),k===null&&(b.substr(a,1)==="a"?(k="a",a+=1):(k=null,n&&h('"a"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="T"?(m="T",a+=1):(m=null,n&&h('"T"')),m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,n&&h('"t"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,n&&h('"Y"')),o===null&&(b.substr(a,1)==="y"?(o="y",a+=1):(o=null,n&&h('"y"')),o=o!==null?o:null),o!==null)if(b.substr(a,1)==="P"?
(r="P",a+=1):(r=null,n&&h('"P"')),r===null&&(b.substr(a,1)==="p"?(r="p",a+=1):(r=null,n&&h('"p"')),r=r!==null?r:null),r!==null)if(b.substr(a,1)==="E"?(s="E",a+=1):(s=null,n&&h('"E"')),s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,n&&h('"e"')),s=s!==null?s:null),s!==null){u=[];for(w=t();w!==null;)u.push(w),w=t();if(u!==null)if(b.substr(a,1)==="("?(w="(",a+=1):(w=null,n&&h('"("')),w!==null){for(var x=[],C=t();C!==null;)x.push(C),C=t();if(x!==null)if(C=P(),C!==null){for(var y=[],A=t();A!==null;)y.push(A),
A=t();y!==null?(b.substr(a,1)===")"?(A=")",a+=1):(A=null,n&&h('")"')),A!==null?g=[g,j,f,k,m,o,r,s,u,w,x,C,y,A]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b}(g[11]):null;if(e===null){e=a;b.substr(a,5)==="BOUND"?
(g="BOUND",a+=5):(g=null,n&&h('"BOUND"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=B(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,n&&h('")"')),r!==null?g=[g,j,f,k,m,o,r]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(g[4]):null;if(e===null){e=a;b.substr(a,3)==="IRI"?(g="IRI",a+=3):(g=null,n&&h('"IRI"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,n&&h('")"')),r!==null?g=[g,
j,f,k,m,o,r]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(g[4]):null;if(e===null){e=a;b.substr(a,3)==="URI"?(g="URI",a+=3):(g=null,n&&h('"URI"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==
null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,n&&h('")"')),r!==null?g=[g,j,f,k,m,o,r]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(g[4]):null;if(e===null){e=a;b.substr(a,5)==="BNODE"?(g="BNODE",a+=5):(g=null,n&&h('"BNODE"'));if(g!==null){j=[];for(f=t();f!==
null;)j.push(f),f=t();if(j!==null){f=a;b.substr(a,1)==="("?(k="(",a+=1):(k=null,n&&h('"("'));if(k!==null){m=[];for(o=t();o!==null;)m.push(o),o=t();if(m!==null)if(o=P(),o!==null){r=[];for(s=t();s!==null;)r.push(s),s=t();r!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,n&&h('")"')),s!==null?k=[k,m,o,r,s]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f;else k=null,a=f}else k=null,a=f;k!==null?f=k:(f=Ka(),f=f!==null?f:null);f!==null?g=[g,j,f]:(g=null,a=e)}else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===5?[a[2]]:null;return b}(g[2]):null;if(e===null){e=a;b.substr(a,8)==="COALESCE"?(g="COALESCE",a+=8):(g=null,n&&h('"COALESCE"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();j!==null?(f=ga(),f!==null?g=[g,j,f]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b}(g[2]):null;if(e===null){e=a;b.substr(a,
2)==="IF"?(g="IF",a+=2):(g=null,n&&h('"IF"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)===","?(r=",",a+=1):(r=null,n&&h('","')),r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,
1)===","?(x=",",a+=1):(x=null,n&&h('","')),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();if(C!==null)if(y=P(),y!==null){for(var A=[],D=t();D!==null;)A.push(D),D=t();A!==null?(b.substr(a,1)===")"?(D=")",a+=1):(D=null,n&&h('")"')),D!==null?g=[g,j,f,k,m,o,r,s,u,w,x,C,y,A,D]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=
null,a=e;e=g!==null?function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d}(g[4],g[8],g[12]):null;if(e===null){e=a;b.substr(a,9)==="ISLITERAL"?(g="ISLITERAL",a+=9):(g=null,n&&h('"ISLITERAL"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==
null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,n&&h('")"')),r!==null?g=[g,j,f,k,m,o,r]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(g[4]):null;if(e===null){e=a;b.substr(a,7)==="ISBLANK"?(g="ISBLANK",a+=7):(g=null,n&&h('"ISBLANK"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)===
"("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();o!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,n&&h('")"')),r!==null?g=[g,j,f,k,m,o,r]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b}(g[4]):null;if(e===null){e=
a;b.substr(a,8)==="SAMETERM"?(g="SAMETERM",a+=8):(g=null,n&&h('"SAMETERM"'));if(g!==null){j=[];for(f=t();f!==null;)j.push(f),f=t();if(j!==null)if(b.substr(a,1)==="("?(f="(",a+=1):(f=null,n&&h('"("')),f!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(m=P(),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)===","?(r=",",a+=1):(r=null,n&&h('","')),r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),
x=t();w!==null?(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null?g=[g,j,f,k,m,o,r,s,u,w,x]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;e=g!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(g[4],g[8]):null;if(e===null){e=a;b.substr(a,1)==="I"?(g="I",a+=1):(g=null,n&&h('"I"'));g===null&&(b.substr(a,
1)==="i"?(g="i",a+=1):(g=null,n&&h('"i"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="S"?(j="S",a+=1):(j=null,n&&h('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="U"?(f="U",a+=1):(f=null,n&&h('"U"')),f===null&&(b.substr(a,1)==="u"?(f="u",a+=1):(f=null,n&&h('"u"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="R"?(k="R",a+=1):(k=null,n&&h('"R"')),k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==
null?k:null),k!==null)if(b.substr(a,1)==="I"?(m="I",a+=1):(m=null,n&&h('"I"')),m===null&&(b.substr(a,1)==="i"?(m="i",a+=1):(m=null,n&&h('"i"')),m=m!==null?m:null),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,n&&h('"("')),r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();w!==null?(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null?g=[g,j,f,k,m,o,r,s,u,w,
x]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(g[8]):null;if(e===null){e=a;b.substr(a,1)==="I"?(g="I",a+=1):(g=null,n&&h('"I"'));g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,n&&h('"i"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="S"?(j="S",
a+=1):(j=null,n&&h('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,n&&h('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="I"?(f="I",a+=1):(f=null,n&&h('"I"')),f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,n&&h('"i"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="R"?(k="R",a+=1):(k=null,n&&h('"R"')),k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,n&&h('"r"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="I"?(m="I",a+=1):(m=null,n&&h('"I"')),m===null&&(b.substr(a,1)===
"i"?(m="i",a+=1):(m=null,n&&h('"i"')),m=m!==null?m:null),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,n&&h('"("')),r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();w!==null?(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null?g=[g,j,f,k,m,o,r,s,u,w,x]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,
a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(g[8]):null;e===null&&(e=Kb(),e=e!==null?e:null)}}}}}}}}}}}}}}(n=d)&&e===null&&h("[106] BuiltInCall");z[c]={nextPos:a,result:e};return e}function Kb(){var c="RegexExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,n&&h('"R"');g===null&&(b.substr(a,
1)==="r"?(g="r",a+=1):(g=null,n&&h('"r"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var f="E";a+=1}else f=null,n&&h('"E"');f===null&&(b.substr(a,1)==="e"?(f="e",a+=1):(f=null,n&&h('"e"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="G"){var j="G";a+=1}else j=null,n&&h('"G"');j===null&&(b.substr(a,1)==="g"?(j="g",a+=1):(j=null,n&&h('"g"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var k="E";a+=1}else k=null,n&&h('"E"');k===null&&(b.substr(a,1)==="e"?(k="e",a+=1):
(k=null,n&&h('"e"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="X"){var m="X";a+=1}else m=null,n&&h('"X"');m===null&&(b.substr(a,1)==="x"?(m="x",a+=1):(m=null,n&&h('"x"')),m=m!==null?m:null);if(m!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,n&&h('"("')),r!==null){for(var s=[],u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){for(var w=[],x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,1)===","?(x=",",a+=
1):(x=null,n&&h('","')),x!==null){for(var C=[],y=t();y!==null;)C.push(y),y=t();if(C!==null)if(y=P(),y!==null){for(var B=[],A=t();A!==null;)B.push(A),A=t();if(B!==null){A=a;if(b.substr(a,1)===","){var D=",";a+=1}else D=null,n&&h('","');if(D!==null){for(var M=[],F=t();F!==null;)M.push(F),F=t();M!==null?(F=P(),F!==null?D=[D,M,F]:(D=null,a=A)):(D=null,a=A)}else D=null,a=A;A=D!==null?D:"";if(A!==null){D=[];for(M=t();M!==null;)D.push(M),M=t();D!==null?(b.substr(a,1)===")"?(M=")",a+=1):(M=null,n&&h('")"')),
M!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C,y,B,A,D,M]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e}else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e;e=g!==null?function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d}(g[8],g[12],g[14]):null;(n=d)&&e===null&&h("[107] RegexExpression");
z[c]={nextPos:a,result:e};return e}function Lb(){var c="Aggregate@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="C"){var g="C";a+=1}else g=null,n&&h('"C"');g===null&&(b.substr(a,1)==="c"?(g="c",a+=1):(g=null,n&&h('"c"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="O"){var f="O";a+=1}else f=null,n&&h('"O"');f===null&&(b.substr(a,1)==="o"?(f="o",a+=1):(f=null,n&&h('"o"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="U"){var j="U";a+=1}else j=null,n&&
h('"U"');j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,n&&h('"u"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="N"){var k="N";a+=1}else k=null,n&&h('"N"');k===null&&(b.substr(a,1)==="n"?(k="n",a+=1):(k=null,n&&h('"n"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var m="T";a+=1}else m=null,n&&h('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,n&&h('"t"')),m=m!==null?m:null);if(m!==null){for(var o=[],r=t();r!==null;)o.push(r),r=t();if(o!==null)if(b.substr(a,1)===
"("?(r="(",a+=1):(r=null,n&&h('"("')),r!==null){for(var s=[],u=t();u!==null;)s.push(u),u=t();if(s!==null){u=a;if(b.substr(a,1)==="D"){var w="D";a+=1}else w=null,n&&h('"D"');w===null&&(b.substr(a,1)==="d"?(w="d",a+=1):(w=null,n&&h('"d"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="I"){var x="I";a+=1}else x=null,n&&h('"I"');x===null&&(b.substr(a,1)==="i"?(x="i",a+=1):(x=null,n&&h('"i"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="S"){var C="S";a+=1}else C=null,n&&h('"S"');C===null&&
(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,n&&h('"s"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="T"){var y="T";a+=1}else y=null,n&&h('"T"');y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,n&&h('"t"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="I"){var A="I";a+=1}else A=null,n&&h('"I"');A===null&&(b.substr(a,1)==="i"?(A="i",a+=1):(A=null,n&&h('"i"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="N"){var B="N";a+=1}else B=null,n&&h('"N"');B===null&&(b.substr(a,1)==="n"?
(B="n",a+=1):(B=null,n&&h('"n"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="C"){var D="C";a+=1}else D=null,n&&h('"C"');D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,n&&h('"c"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="T"){var M="T";a+=1}else M=null,n&&h('"T"');M===null&&(b.substr(a,1)==="t"?(M="t",a+=1):(M=null,n&&h('"t"')),M=M!==null?M:null);M!==null?w=[w,x,C,y,A,B,D,M]:(w=null,a=u)}else w=null,a=u}else w=null,a=u}else w=null,a=u}else w=null,a=u}else w=null,a=u}else w=
null,a=u}else w=null,a=u;u=w!==null?w:"";if(u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,1)==="*"?(x="*",a+=1):(x=null,n&&h('"*"')),x===null&&(x=P(),x=x!==null?x:null),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();if(C!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,n&&h('")"')),y!==null){A=[];for(B=t();B!==null;)A.push(B),B=t();A!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C,y,A]:(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,
a=e}else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e}else g=null,a=e;e=g!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(g[8],g[10]):null;if(e===null){e=a;b.substr(a,1)==="S"?(g="S",a+=1):(g=null,n&&h('"S"'));g===null&&(b.substr(a,1)==="s"?(g="s",a+=1):(g=null,n&&h('"s"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="U"?(f=
"U",a+=1):(f=null,n&&h('"U"')),f===null&&(b.substr(a,1)==="u"?(f="u",a+=1):(f=null,n&&h('"u"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="M"?(j="M",a+=1):(j=null,n&&h('"M"')),j===null&&(b.substr(a,1)==="m"?(j="m",a+=1):(j=null,n&&h('"m"')),j=j!==null?j:null),j!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("')),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(r=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,n&&h('"D"')),
s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,n&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(u="I",a+=1):(u=null,n&&h('"I"')),u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,n&&h('"i"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="S"?(w="S",a+=1):(w=null,n&&h('"S"')),w===null&&(b.substr(a,1)==="s"?(w="s",a+=1):(w=null,n&&h('"s"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="T"?(x="T",a+=1):(x=null,n&&h('"T"')),x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,n&&h('"t"')),
x=x!==null?x:null),x!==null?(b.substr(a,1)==="I"?(C="I",a+=1):(C=null,n&&h('"I"')),C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):(C=null,n&&h('"i"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="N"?(y="N",a+=1):(y=null,n&&h('"N"')),y===null&&(b.substr(a,1)==="n"?(y="n",a+=1):(y=null,n&&h('"n"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,n&&h('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,n&&h('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=
1):(B=null,n&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,n&&h('"t"')),B=B!==null?B:null),B!==null?s=[s,u,w,x,C,y,A,B]:(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r),r=s!==null?s:"",r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null){C=[];for(y=t();y!==null;)C.push(y),
y=t();C!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C]:(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(g[6],g[8]):null;if(e===null){e=a;b.substr(a,1)==="M"?(g="M",a+=1):(g=null,n&&h('"M"'));g===null&&(b.substr(a,1)===
"m"?(g="m",a+=1):(g=null,n&&h('"m"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="I"?(f="I",a+=1):(f=null,n&&h('"I"')),f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,n&&h('"i"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="N"?(j="N",a+=1):(j=null,n&&h('"N"')),j===null&&(b.substr(a,1)==="n"?(j="n",a+=1):(j=null,n&&h('"n"')),j=j!==null?j:null),j!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("')),m!==null){o=[];for(r=
t();r!==null;)o.push(r),r=t();if(o!==null)if(r=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,n&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,n&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(u="I",a+=1):(u=null,n&&h('"I"')),u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,n&&h('"i"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="S"?(w="S",a+=1):(w=null,n&&h('"S"')),w===null&&(b.substr(a,1)==="s"?(w="s",a+=1):(w=null,n&&h('"s"')),w=w!==null?w:null),w!==null?(b.substr(a,
1)==="T"?(x="T",a+=1):(x=null,n&&h('"T"')),x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,n&&h('"t"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="I"?(C="I",a+=1):(C=null,n&&h('"I"')),C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):(C=null,n&&h('"i"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="N"?(y="N",a+=1):(y=null,n&&h('"N"')),y===null&&(b.substr(a,1)==="n"?(y="n",a+=1):(y=null,n&&h('"n"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,n&&h('"C"')),A===null&&(b.substr(a,
1)==="c"?(A="c",a+=1):(A=null,n&&h('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,n&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,n&&h('"t"')),B=B!==null?B:null),B!==null?s=[s,u,w,x,C,y,A,B]:(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r),r=s!==null?s:"",r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,
1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();C!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C]:(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(g[6],g[8]):null;if(e===
null){e=a;b.substr(a,1)==="M"?(g="M",a+=1):(g=null,n&&h('"M"'));g===null&&(b.substr(a,1)==="m"?(g="m",a+=1):(g=null,n&&h('"m"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="A"?(f="A",a+=1):(f=null,n&&h('"A"')),f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="X"?(j="X",a+=1):(j=null,n&&h('"X"')),j===null&&(b.substr(a,1)==="x"?(j="x",a+=1):(j=null,n&&h('"x"')),j=j!==null?j:null),j!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();
if(k!==null)if(b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("')),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(r=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,n&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,n&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(u="I",a+=1):(u=null,n&&h('"I"')),u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,n&&h('"i"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="S"?(w="S",a+=1):(w=null,n&&h('"S"')),w===null&&(b.substr(a,
1)==="s"?(w="s",a+=1):(w=null,n&&h('"s"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="T"?(x="T",a+=1):(x=null,n&&h('"T"')),x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,n&&h('"t"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="I"?(C="I",a+=1):(C=null,n&&h('"I"')),C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):(C=null,n&&h('"i"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="N"?(y="N",a+=1):(y=null,n&&h('"N"')),y===null&&(b.substr(a,1)==="n"?(y="n",a+=1):(y=null,n&&h('"n"')),y=y!==null?y:null),
y!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,n&&h('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,n&&h('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,n&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,n&&h('"t"')),B=B!==null?B:null),B!==null?s=[s,u,w,x,C,y,A,B]:(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r),r=s!==null?s:"",r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();
if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();C!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C]:(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};
exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(g[6],g[8]):null;if(e===null){e=a;b.substr(a,1)==="A"?(g="A",a+=1):(g=null,n&&h('"A"'));g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,n&&h('"a"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="V"?(f="V",a+=1):(f=null,n&&h('"V"')),f===null&&(b.substr(a,1)==="v"?(f="v",a+=1):(f=null,n&&h('"v"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="G"?(j="G",a+=1):(j=null,n&&h('"G"')),j===null&&(b.substr(a,1)==="g"?(j="g",a+=1):(j=null,
n&&h('"g"')),j=j!==null?j:null),j!==null){k=[];for(m=t();m!==null;)k.push(m),m=t();if(k!==null)if(b.substr(a,1)==="("?(m="(",a+=1):(m=null,n&&h('"("')),m!==null){o=[];for(r=t();r!==null;)o.push(r),r=t();if(o!==null)if(r=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,n&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,n&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(u="I",a+=1):(u=null,n&&h('"I"')),u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,n&&h('"i"')),u=u!==null?u:
null),u!==null?(b.substr(a,1)==="S"?(w="S",a+=1):(w=null,n&&h('"S"')),w===null&&(b.substr(a,1)==="s"?(w="s",a+=1):(w=null,n&&h('"s"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="T"?(x="T",a+=1):(x=null,n&&h('"T"')),x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,n&&h('"t"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="I"?(C="I",a+=1):(C=null,n&&h('"I"')),C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):(C=null,n&&h('"i"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="N"?(y="N",a+=1):(y=null,
n&&h('"N"')),y===null&&(b.substr(a,1)==="n"?(y="n",a+=1):(y=null,n&&h('"n"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,n&&h('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,n&&h('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,n&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,n&&h('"t"')),B=B!==null?B:null),B!==null?s=[s,u,w,x,C,y,A,B]:(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=r)):(s=null,a=
r)):(s=null,a=r)):(s=null,a=r),r=s!==null?s:"",r!==null){s=[];for(u=t();u!==null;)s.push(u),u=t();if(s!==null)if(u=P(),u!==null){w=[];for(x=t();x!==null;)w.push(x),x=t();if(w!==null)if(b.substr(a,1)===")"?(x=")",a+=1):(x=null,n&&h('")"')),x!==null){C=[];for(y=t();y!==null;)C.push(y),y=t();C!==null?g=[g,f,j,k,m,o,r,s,u,w,x,C]:(g=null,a=e)}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e}else g=null,a=e;else g=null,a=e;else g=
null,a=e;e=g!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(g[6],g[8]):null;e=e!==null?e:null}}}}(n=d)&&e===null&&h("[110] Aggregate");z[c]={nextPos:a,result:e};return e}function Mb(){var b="IRIrefOrFunction@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=a,g=U();if(g!==null){var e=Ta(),e=e!==null?e:"";e!==null?g=[g,e]:(g=null,a=d)}else g=null,a=d;d=g!==null?function(a,b){var c={token:"expression",
expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(g[0],g[1]):null;(n=c)&&d===null&&h("[117] IRIrefOrFunction");z[b]={nextPos:a,result:d};return d}function vb(){var c="RDFLiteral@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=Vb();if(g!==null){var f=Wb();if(f===null){f=a;if(b.substr(a,2)==="^^"){var j="^^";a+=2}else j=null,n&&h('"^^"');if(j!==null){var k=U();k!==null?j=[j,k]:(j=null,a=f)}else j=null,a=f;f=j!==null?j:null}f=f!==null?f:"";f!==null?g=[g,f]:(g=null,
a=e)}else g=null,a=e;e=g!==null?function(a,b){return typeof b==="string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(g[0],g[1]):null;(n=d)&&e===null&&h("[112] RDFLiteral");z[c]={nextPos:a,result:e};return e}function wb(){var b="NumericLiteral@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=Nb();d===null&&(d=Ob(),d===null&&(d=
Ma(),d=d!==null?d:null));(n=c)&&d===null&&h("[113] NumericLiteral");z[b]={nextPos:a,result:d};return d}function Nb(){var b="NumericLiteralUnsigned@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=Ab();d===null&&(d=Bb(),d===null&&(d=ra(),d=d!==null?d:null));(n=c)&&d===null&&h("[114] NumericLiteralUnsigned");z[b]={nextPos:a,result:d};return d}function Ob(){var b="NumericLiteralPositive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=Xb();d===null&&(d=Yb(),d===null&&(d=Zb(),d=d!==
null?d:null));(n=c)&&d===null&&h("[115] NumericLiteralPositive");z[b]={nextPos:a,result:d};return d}function Ma(){var b="NumericLiteralNegative@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=$b();d===null&&(d=ac(),d===null&&(d=bc(),d=d!==null?d:null));(n=c)&&d===null&&h("[116] NumericLiteralNegative");z[b]={nextPos:a,result:d};return d}function xb(){var c="BooleanLiteral@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,n&&
h('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,n&&h('"t"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var f="R";a+=1}else f=null,n&&h('"R"');f===null&&(b.substr(a,1)==="r"?(f="r",a+=1):(f=null,n&&h('"r"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="U"){var j="U";a+=1}else j=null,n&&h('"U"');j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,n&&h('"u"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var k="E";a+=1}else k=null,n&&h('"E"');k===null&&(b.substr(a,
1)==="e"?(k="e",a+=1):(k=null,n&&h('"e"')),k=k!==null?k:null);k!==null?g=[g,f,j,k]:(g=null,a=e)}else g=null,a=e}else g=null,a=e}else g=null,a=e;e=g!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;if(e===null){e=a;b.substr(a,1)==="F"?(g="F",a+=1):(g=null,n&&h('"F"'));g===null&&(b.substr(a,1)==="f"?(g="f",a+=1):(g=null,n&&h('"f"')),g=g!==null?g:null);if(g!==null)if(b.substr(a,1)==="A"?(f="A",a+=1):(f=null,n&&h('"A"')),f===null&&(b.substr(a,1)==="a"?
(f="a",a+=1):(f=null,n&&h('"a"')),f=f!==null?f:null),f!==null)if(b.substr(a,1)==="L"?(j="L",a+=1):(j=null,n&&h('"L"')),j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,n&&h('"l"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="S"?(k="S",a+=1):(k=null,n&&h('"S"')),k===null&&(b.substr(a,1)==="s"?(k="s",a+=1):(k=null,n&&h('"s"')),k=k!==null?k:null),k!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,n&&h('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,n&&h('"e"')),m=m!==null?
m:null);m!==null?g=[g,f,j,k,m]:(g=null,a=e)}else g=null,a=e;else g=null,a=e;else g=null,a=e;else g=null,a=e;e=g!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;e=e!==null?e:null}(n=d)&&e===null&&h("[117] BooleanLiteral");z[c]={nextPos:a,result:e};return e}function Vb(){var b="String@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=cc(),d=d!==null?{token:"string",value:d}:null;d===null&&(d=dc(),d=d!==null?{token:"string",value:d}:null,
d===null&&(d=ec(),d=d!==null?{token:"string",value:d}:null,d===null&&(d=fc(),d=d!==null?{token:"string",value:d}:null,d=d!==null?d:null)));(n=c)&&d===null&&h("[118] String");z[b]={nextPos:a,result:d};return d}function U(){var b="IRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=yb(),d=d!==null?{token:"uri",prefix:null,suffix:null,value:d}:null;d===null&&(d=gc(),d=d!==null?d:null,d=d!==null?d:null);(n=c)&&d===null&&h("[119] IRIref");z[b]={nextPos:a,result:d};return d}function gc(){var b=
"PrefixedName@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=hc(),d=d!==null?{token:"uri",prefix:d[0],suffix:d[1],value:null}:null;d===null&&(d=zb(),d=d!==null?{token:"uri",prefix:d,suffix:"",value:null}:null,d=d!==null?d:null);(n=c)&&d===null&&h("[120] PrefixedName");z[b]={nextPos:a,result:d};return d}function Ub(){var b="BlankNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=ic(),d=d!==null?{token:"blank",label:d}:null;d===null&&(jc()!==null?(sa++,d={token:"blank",label:""+
sa}):d=null,d=d!==null?d:null);(n=c)&&d===null&&h("[121] BlankNode");z[b]={nextPos:a,result:d};return d}function yb(){var c="IRI_REF@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="<"){var g="<";a+=1}else g=null,n&&h('"<"');if(g!==null){var f=[];if(b.substr(a).match(/^[^<>"{} | ^\\]/)!==null){var j=b.charAt(a);a++}else j=null,n&&h('[^<>"{} | ^\\\\]');for(;j!==null;)f.push(j),b.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h('[^<>"{} | ^\\\\]'));
f!==null?(b.substr(a,1)===">"?(j=">",a+=1):(j=null,n&&h('">"')),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?g[1].join(""):null;(n=d)&&e===null&&h("[122] IRI_REF");z[c]={nextPos:a,result:e};return e}function zb(){var c="PNAME_NS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=kc(),g=g!==null?g:"";if(g!==null){if(b.substr(a,1)===":"){var f=":";a+=1}else f=null,n&&h('":"');f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?g[0]:null;(n=d)&&e===null&&
h("[123] PNAME_NS");z[c]={nextPos:a,result:e};return e}function hc(){var b="PNAME_LN@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=a,e=zb();if(e!==null){var f=Gb();f!==null?e=[e,f]:(e=null,a=d)}else e=null,a=d;d=e!==null?[e[0],e[1]]:null;(n=c)&&d===null&&h("[124] PNAME_LN");z[b]={nextPos:a,result:d};return d}function ic(){var c="BLANK_NODE_LABEL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,2)==="_:"){var g="_:";a+=2}else g=null,n&&h('"_:"');if(g!==null){var f=
Gb();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?g[1]:null;(n=d)&&e===null&&h("[125] BLANK_NODE_LABEL");z[c]={nextPos:a,result:e};return e}function Sb(){var c="VAR1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="?"){var g="?";a+=1}else g=null,n&&h('"?"');if(g!==null){var f=Hb();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?g[1]:null;(n=d)&&e===null&&h("[126] VAR1");z[c]={nextPos:a,result:e};return e}function Tb(){var c="VAR2@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="$"){var g="$";a+=1}else g=null,n&&h('"$"');if(g!==null){var f=Hb();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?g[1]:null;(n=d)&&e===null&&h("[127] VAR2");z[c]={nextPos:a,result:e};return e}function Wb(){var c="LANGTAG@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="@"){var g="@";a+=1}else g=null,n&&h('"@"');if(g!==null){if(b.substr(a).match(/^[a-zA-Z]/)!==null){var f=b.charAt(a);a++}else f=null,n&&
h("[a-zA-Z]");if(f!==null)for(var j=[];f!==null;)j.push(f),b.substr(a).match(/^[a-zA-Z]/)!==null?(f=b.charAt(a),a++):(f=null,n&&h("[a-zA-Z]"));else j=null;if(j!==null){var f=[],k=a;if(b.substr(a,1)==="-"){var m="-";a+=1}else m=null,n&&h('"-"');if(m!==null){if(b.substr(a).match(/^[a-zA-Z0-9]/)!==null){var o=b.charAt(a);a++}else o=null,n&&h("[a-zA-Z0-9]");if(o!==null)for(var r=[];o!==null;)r.push(o),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,n&&h("[a-zA-Z0-9]"));else r=null;
r!==null?m=[m,r]:(m=null,a=k)}else m=null,a=k;for(;m!==null;)if(f.push(m),k=a,b.substr(a,1)==="-"?(m="-",a+=1):(m=null,n&&h('"-"')),m!==null){b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,n&&h("[a-zA-Z0-9]"));if(o!==null)for(r=[];o!==null;)r.push(o),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,n&&h("[a-zA-Z0-9]"));else r=null;r!==null?m=[m,r]:(m=null,a=k)}else m=null,a=k;f!==null?g=[g,j,f]:(g=null,a=e)}else g=null,a=e}else g=null,a=e;e=g!==null?g[2].length===
0?("@"+g[1].join("")).toLowerCase():("@"+g[1].join("")+"-"+g[2][0][1].join("")).toLowerCase():null;(n=d)&&e===null&&h("[128] LANGTAG");z[c]={nextPos:a,result:e};return e}function ra(){var c="INTEGER@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;if(b.substr(a).match(/^[0-9]/)!==null){var e=b.charAt(a);a++}else e=null,n&&h("[0-9]");if(e!==null)for(var g=[];e!==null;)g.push(e),b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[0-9]"));else g=null;e=g!==null?function(a){lit=
{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=ka(a);return lit}(g):null;(n=d)&&e===null&&h("[129] INTEGER");z[c]={nextPos:a,result:e};return e}function Bb(){var c="DECIMAL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a).match(/^[0-9]/)!==null){var g=b.charAt(a);a++}else g=null,n&&h("[0-9]");if(g!==null)for(var f=[];g!==null;)f.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&h("[0-9]"));else f=null;if(f!==
null)if(b.substr(a,1)==="."?(g=".",a+=1):(g=null,n&&h('"."')),g!==null){var j=[];if(b.substr(a).match(/^[0-9]/)!==null){var k=b.charAt(a);a++}else k=null,n&&h("[0-9]");for(;k!==null;)j.push(k),b.substr(a).match(/^[0-9]/)!==null?(k=b.charAt(a),a++):(k=null,n&&h("[0-9]"));j!==null?f=[f,g,j]:(f=null,a=e)}else f=null,a=e;else f=null,a=e;e=f!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=ka([a,b,c]);return lit}(f[0],f[1],f[2]):null;if(e===
null){e=a;b.substr(a,1)==="."?(f=".",a+=1):(f=null,n&&h('"."'));if(f!==null){b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&h("[0-9]"));if(g!==null)for(j=[];g!==null;)j.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&h("[0-9]"));else j=null;j!==null?f=[f,j]:(f=null,a=e)}else f=null,a=e;e=f!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=ka([a,b]);return lit}(f[0],f[1]):null;e=e!==null?e:null}(n=
d)&&e===null&&h("[130] DECIMAL");z[c]={nextPos:a,result:e};return e}function Ab(){var c="DOUBLE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a).match(/^[0-9]/)!==null){var g=b.charAt(a);a++}else g=null,n&&h("[0-9]");if(g!==null)for(var f=[];g!==null;)f.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&h("[0-9]"));else f=null;if(f!==null)if(b.substr(a,1)==="."?(g=".",a+=1):(g=null,n&&h('"."')),g!==null){var j=[];if(b.substr(a).match(/^[0-9]/)!==null){var k=
b.charAt(a);a++}else k=null,n&&h("[0-9]");for(;k!==null;)j.push(k),b.substr(a).match(/^[0-9]/)!==null?(k=b.charAt(a),a++):(k=null,n&&h("[0-9]"));j!==null?(k=Cb(),k!==null?f=[f,g,j,k]:(f=null,a=e)):(f=null,a=e)}else f=null,a=e;else f=null,a=e;e=f!==null?function(a,b,c,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=ka([a,b,c,d]);return lit}(f[0],f[1],f[2],f[3]):null;if(e===null){e=a;b.substr(a,1)==="."?(f=".",a+=1):(f=null,n&&h('"."'));if(f!==null){b.substr(a).match(/^[0-9]/)!==
null?(j=b.charAt(a),a++):(j=null,n&&h("[0-9]"));if(j!==null)for(g=[];j!==null;)g.push(j),b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[0-9]"));else g=null;g!==null?(j=Cb(),j!==null?f=[f,g,j]:(f=null,a=e)):(f=null,a=e)}else f=null,a=e;e=f!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=ka([a,b,c]);return lit}(f[0],f[1],f[2]):null;if(e===null){e=a;b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&
h("[0-9]"));if(g!==null)for(f=[];g!==null;)f.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,n&&h("[0-9]"));else f=null;f!==null?(g=Cb(),g!==null?f=[f,g]:(f=null,a=e)):(f=null,a=e);e=f!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=ka([a,b]);return lit}(f[0],f[1]):null;e=e!==null?e:null}}(n=d)&&e===null&&h("[131] DOUBLE");z[c]={nextPos:a,result:e};return e}function Zb(){var c="INTEGER_POSITIVE@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="+"){var g="+";a+=1}else g=null,n&&h('"+"');if(g!==null){var f=ra();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){a.value="+"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[132] INTEGER_POSITIVE");z[c]={nextPos:a,result:e};return e}function Yb(){var c="DECIMAL_POSITIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="+"){var g="+";a+=1}else g=null,n&&h('"+"');if(g!==null){var f=Bb();f!==
null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){a.value="+"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[133] DECIMAL_POSITIVE");z[c]={nextPos:a,result:e};return e}function Xb(){var c="DOUBLE_POSITIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="+"){var g="+";a+=1}else g=null,n&&h('"+"');if(g!==null){var f=Ab();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){a.value="+"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[134] DOUBLE_POSITIVE");
z[c]={nextPos:a,result:e};return e}function bc(){var c="INTEGER_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="-"){var g="-";a+=1}else g=null,n&&h('"-"');if(g!==null){var f=ra();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){a.value="-"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[135] INTEGER_NEGATIVE");z[c]={nextPos:a,result:e};return e}function ac(){var c="DECIMAL_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;
var e=a;if(b.substr(a,1)==="-"){var g="-";a+=1}else g=null,n&&h('"-"');if(g!==null){var f=Bb();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a){a.value="-"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[136] DECIMAL_NEGATIVE");z[c]={nextPos:a,result:e};return e}function $b(){var c="DOUBLE_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="-"){var g="-";a+=1}else g=null,n&&h('"-"');if(g!==null){var f=Ab();f!==null?g=[g,f]:(g=null,a=e)}else g=
null,a=e;e=g!==null?function(a){a.value="-"+a.value;return a}(g[1]):null;(n=d)&&e===null&&h("[137] DOUBLE_NEGATIVE");z[c]={nextPos:a,result:e};return e}function Cb(){var c="EXPONENT@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a).match(/^[eE]/)!==null){var g=b.charAt(a);a++}else g=null,n&&h("[eE]");if(g!==null){if(b.substr(a).match(/^[+\-]/)!==null){var f=b.charAt(a);a++}else f=null,n&&h("[+\\-]");f=f!==null?f:"";if(f!==null){if(b.substr(a).match(/^[0-9]/)!==null){var j=
b.charAt(a);a++}else j=null,n&&h("[0-9]");if(j!==null)for(var k=[];j!==null;)k.push(j),b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[0-9]"));else k=null;k!==null?g=[g,f,k]:(g=null,a=e)}else g=null,a=e}else g=null,a=e;e=g!==null?ka([g[0],g[1],g[2]]):null;(n=d)&&e===null&&h("[138] EXPONENT");z[c]={nextPos:a,result:e};return e}function ec(){var c="STRING_LITERAL1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="'"){var g="'";a+=1}else g=null,n&&
h('"\'"');if(g!==null){var f=[];if(b.substr(a).match(/^[^'\\\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,n&&h("[^'\\\\\\n\\r]");j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)f.push(j),b.substr(a).match(/^[^'\\\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[^'\\\\\\n\\r]")),j===null&&(j=ua(),j=j!==null?j:null);f!==null?(b.substr(a,1)==="'"?(j="'",a+=1):(j=null,n&&h('"\'"')),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?ka(g[1]):null;(n=d)&&e===null&&h("[139] STRING_LITERAL1");
z[c]={nextPos:a,result:e};return e}function fc(){var c="STRING_LITERAL2@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==='"'){var g='"';a+=1}else g=null,n&&h('"\\""');if(g!==null){var f=[];if(b.substr(a).match(/^[^"\\\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,n&&h('[^"\\\\\\n\\r]');j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)f.push(j),b.substr(a).match(/^[^"\\\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h('[^"\\\\\\n\\r]')),j===null&&(j=ua(),j=j!==null?
j:null);f!==null?(b.substr(a,1)==='"'?(j='"',a+=1):(j=null,n&&h('"\\""')),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?ka(g[1]):null;(n=d)&&e===null&&h("[140] STRING_LITERAL2");z[c]={nextPos:a,result:e};return e}function cc(){var c="STRING_LITERAL_LONG1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,3)==="'''"){var g="'''";a+=3}else g=null,n&&h("\"'''\"");if(g!==null){var f=[];if(b.substr(a).match(/^[^'\\]/)!==null){var j=b.charAt(a);a++}else j=
null,n&&h("[^'\\\\]");j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)f.push(j),b.substr(a).match(/^[^'\\]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[^'\\\\]")),j===null&&(j=ua(),j=j!==null?j:null);f!==null?(b.substr(a,3)==="'''"?(j="'''",a+=3):(j=null,n&&h("\"'''\"")),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?ka(g[1]):null;(n=d)&&e===null&&h("[141] STRING_LITERAL_LONG1");z[c]={nextPos:a,result:e};return e}function dc(){var c="STRING_LITERAL_LONG2@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,3)==='"""'){var g='"""';a+=3}else g=null,n&&h('"\\"\\"\\""');if(g!==null){var f=[];if(b.substr(a).match(/^[^"\\]/)!==null){var j=b.charAt(a);a++}else j=null,n&&h('[^"\\\\]');j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)f.push(j),b.substr(a).match(/^[^"\\]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h('[^"\\\\]')),j===null&&(j=ua(),j=j!==null?j:null);f!==null?(b.substr(a,3)==='"""'?(j='"""',a+=3):(j=null,n&&h('"\\"\\"\\""')),j!==null?g=[g,f,j]:(g=
null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?ka(g[1]):null;(n=d)&&e===null&&h("[142] STRING_LITERAL_LONG2");z[c]={nextPos:a,result:e};return e}function ua(){var c="ECHAR@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="\\"){var g="\\";a+=1}else g=null,n&&h('"\\\\"');if(g!==null){if(b.substr(a).match(/^[tbnrf"']/)!==null){var f=b.charAt(a);a++}else f=null,n&&h("[tbnrf\"']");f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;(n=d)&&g===null&&h("[143] ECHAR");z[c]={nextPos:a,
result:g};return g}function Ka(){var c="NIL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="("){var g="(";a+=1}else g=null,n&&h('"("');if(g!==null){for(var f=[],j=t();j!==null;)f.push(j),j=t();f!==null?(b.substr(a,1)===")"?(j=")",a+=1):(j=null,n&&h('")"')),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;
(n=d)&&e===null&&h("[144] NIL");z[c]={nextPos:a,result:e};return e}function t(){var c="WS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;if(b.substr(a).match(/^[ ]/)!==null){var e=b.charAt(a);a++}else e=null,n&&h("[ ]");e===null&&(b.substr(a).match(/^[\t]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\t]")),e===null&&(b.substr(a).match(/^[\r]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\r]")),e===null&&(b.substr(a).match(/^[\n]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\n]")),e===null&&(e=
lc(),e=e!==null?e:null))));(n=d)&&e===null&&h("[145] WS");z[c]={nextPos:a,result:e};return e}function lc(){var c="COMMENT@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="#"){var g="#";a+=1}else g=null,n&&h('"#"');if(g!==null){var f=[];if(b.substr(a).match(/^[^\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,n&&h("[^\\n\\r]");for(;j!==null;)f.push(j),b.substr(a).match(/^[^\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[^\\n\\r]"));f!==null?g=[g,f]:(g=null,a=e)}else g=
null,a=e;(n=d)&&g===null&&h(" COMMENT");z[c]={nextPos:a,result:g};return g}function jc(){var c="ANON@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,1)==="["){var g="[";a+=1}else g=null,n&&h('"["');if(g!==null){for(var f=[],j=t();j!==null;)f.push(j),j=t();f!==null?(b.substr(a,1)==="]"?(j="]",a+=1):(j=null,n&&h('"]"')),j!==null?g=[g,f,j]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;(n=d)&&g===null&&h("[146] ANON");z[c]={nextPos:a,result:g};return g}function Ib(){var c="PN_CHARS_BASE@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;if(b.substr(a).match(/^[A-Z]/)!==null){var e=b.charAt(a);a++}else e=null,n&&h("[A-Z]");e===null&&(b.substr(a).match(/^[a-z]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[a-z]")),e===null&&(b.substr(a).match(/^[\xC0-\xD6]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\xC0-\\xD6]")),e===null&&(b.substr(a).match(/^[\xD8-\xF6]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\xD8-\\xF6]")),e===null&&(b.substr(a).match(/^[\xF8-\u02FF]/)!==null?(e=b.charAt(a),
a++):(e=null,n&&h("[\\xF8-\\u02FF]")),e===null&&(b.substr(a).match(/^[\u0370-\u037D]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u0370-\\u037D]")),e===null&&(b.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u037F-\\u1FFF]")),e===null&&(b.substr(a).match(/^[\u200C-\u200D]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u200C-\\u200D]")),e===null&&(b.substr(a).match(/^[\u2070-\u218F]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u2070-\\u218F]")),e===null&&(b.substr(a).match(/^[\u2C00-\u2FEF]/)!==
null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u2C00-\\u2FEF]")),e===null&&(b.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u3001-\\uD7FF]")),e===null&&(b.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\uF900-\\uFDCF]")),e===null&&(b.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\uFDF0-\\uFFFD]")),e===null&&(b.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u1000-\\uEFFF]")),
e=e!==null?e:null)))))))))))));(n=d)&&e===null&&h("[147] PN_CHARS_BASE");z[c]={nextPos:a,result:e};return e}function Ya(){var c="PN_CHARS_U@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=Ib();e===null&&(b.substr(a,1)==="_"?(e="_",a+=1):(e=null,n&&h('"_"')),e=e!==null?e:null);(n=d)&&e===null&&h("[148] PN_CHARS_U");z[c]={nextPos:a,result:e};return e}function Hb(){var c="VARNAME@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=Ya();g===null&&(b.substr(a).match(/^[0-9]/)!==null?
(g=b.charAt(a),a++):(g=null,n&&h("[0-9]")),g=g!==null?g:null);if(g!==null){var f=[],j=Ya();j===null&&(b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[0-9]")),j===null&&(b.substr(a).match(/^[\xB7]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\xB7]")),j===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\u0300-\\u036F]")),j===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\u203F-\\u2040]")),j=j!==null?
j:null))));for(;j!==null;)f.push(j),j=Ya(),j===null&&(b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[0-9]")),j===null&&(b.substr(a).match(/^[\xB7]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\xB7]")),j===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\u0300-\\u036F]")),j===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=b.charAt(a),a++):(j=null,n&&h("[\\u203F-\\u2040]")),j=j!==null?j:null))));f!==null?g=[g,f]:(g=null,a=e)}else g=
null,a=e;e=g!==null?g[0]+g[1].join(""):null;(n=d)&&e===null&&h("[149] VARNAME");z[c]={nextPos:a,result:e};return e}function pb(){var c="PN_CHARS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=Ya();e===null&&(b.substr(a,1)==="-"?(e="-",a+=1):(e=null,n&&h('"-"')),e===null&&(b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[0-9]")),e===null&&(b.substr(a).match(/^[\xB7]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\xB7]")),e===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==
null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u0300-\\u036F]")),e===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(e=b.charAt(a),a++):(e=null,n&&h("[\\u203F-\\u2040]")),e=e!==null?e:null)))));(n=d)&&e===null&&h("[150] PN_CHARS");z[c]={nextPos:a,result:e};return e}function kc(){var c="PN_PREFIX@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=Ib();if(g!==null){var f=[],j=pb();j===null&&(b.substr(a,1)==="."?(j=".",a+=1):(j=null,n&&h('"."')),j=j!==null?j:null);for(;j!==null;)f.push(j),
j=pb(),j===null&&(b.substr(a,1)==="."?(j=".",a+=1):(j=null,n&&h('"."')),j=j!==null?j:null);f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(g[0],g[1]):null;(n=d)&&e===null&&h("[151] PN_PREFIX");z[c]={nextPos:a,result:e};return e}function Gb(){var c="PN_LOCAL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=Ya();g===null&&(b.substr(a).match(/^[0-9]/)!==null?(g=
b.charAt(a),a++):(g=null,n&&h("[0-9]")),g=g!==null?g:null);if(g!==null){for(var f=[],j=pb();j!==null;)f.push(j),j=pb();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;e=g!==null?g[0]+g[1].join(""):null;(n=d)&&e===null&&h("[152] PN_LOCAL");z[c]={nextPos:a,result:e};return e}function mc(){var c=function(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+
c[c.length-1]}}(Fb),d=Math.max(a,ob),d=d<b.length?e(b.charAt(d)):"end of input";return"Expected "+c+" but "+d+" found."}function nc(){for(var a=1,c=1,d=!1,e=0;e<ob;e++){var h=b.charAt(e);h==="\n"?(d||a++,c=1,d=!1):h==="\r"|h==="\u2028"||h==="\u2029"?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var Ca={ANON:jc,AdditiveExpression:Z,Aggregate:Lb,ArgList:Ta,AskQuery:G,BLANK_NODE_LABEL:ic,BaseDecl:r,BindingValue:Y,BindingsClause:fa,BlankNode:Ub,BlankNodePropertyList:y,BooleanLiteral:xb,BrackettedExpression:sb,
BuiltInCall:ub,COMMENT:lc,Clear:Qb,Collection:aa,ConditionalAndExpression:qb,ConditionalOrExpression:P,Constraint:xa,ConstructQuery:A,ConstructTemplate:ab,ConstructTriples:F,Create:eb,DECIMAL:Bb,DECIMAL_NEGATIVE:ac,DECIMAL_POSITIVE:Yb,DOUBLE:Ab,DOUBLE_NEGATIVE:$b,DOUBLE_POSITIVE:Xb,DatasetClause:R,DefaultGraphClause:I,DeleteClause:lb,DeleteData:$a,DeleteWhere:bb,DescribeQuery:D,Drop:cb,ECHAR:ua,EXPONENT:Cb,ExistsFunc:function(){var c="ExistsFunc@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;
var e=a;if(b.substr(a,6)==="EXISTS"){var g="EXISTS";a+=6}else g=null,n&&h('"EXISTS"');if(g!==null){var f=T();f!==null?g=[g,f]:(g=null,a=e)}else g=null,a=e;(n=d)&&g===null&&h("[108] ExistsFunc");z[c]={nextPos:a,result:g};return g},ExpressionList:ga,Filter:kb,FunctionCall:Sa,GraphGraphPattern:jb,GraphNode:W,GraphPatternNotTriples:Ra,GraphRef:ya,GraphRefAll:Ua,GraphTerm:Jb,GroupClause:Q,GroupCondition:O,GroupGraphPattern:T,GroupGraphPatternSub:Ha,GroupOrUnionGraphPattern:Ia,HavingClause:S,INTEGER:ra,
INTEGER_NEGATIVE:bc,INTEGER_POSITIVE:Zb,IRI_REF:yb,IRIref:U,IRIrefOrFunction:Mb,InsertClause:Pa,InsertData:fb,LANGTAG:Wb,LimitClause:ca,LimitOffsetClauses:ea,Load:nb,MinusGraphPattern:hb,Modify:oa,MultiplicativeExpression:La,NIL:Ka,NamedGraphClause:H,NotExistsFunc:function(){var c="NotExistsFunc@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a;if(b.substr(a,10)==="NOT EXISTS"){var g="NOT EXISTS";a+=10}else g=null,n&&h('"NOT EXISTS"');if(g!==null){var f=T();f!==null?g=[g,f]:(g=null,a=e)}else g=
null,a=e;(n=d)&&g===null&&h("[109] NotExistsFunc");z[c]={nextPos:a,result:g};return g},NumericLiteral:wb,NumericLiteralNegative:Ma,NumericLiteralPositive:Ob,NumericLiteralUnsigned:Nb,ObjectList:ba,OffsetClause:ma,OptionalGraphPattern:gb,OrderClause:V,OrderCondition:X,PNAME_LN:hc,PNAME_NS:zb,PN_CHARS:pb,PN_CHARS_BASE:Ib,PN_CHARS_U:Ya,PN_LOCAL:Gb,PN_PREFIX:kc,PathAlternative:Ga,PathElt:mb,PathEltOrInverse:Xa,PathMod:ja,PathNegatedPropertySet:s,PathOneInPropertySet:ia,PathPrimary:k,PathSequence:Aa,PrefixDecl:u,
PrefixedName:gc,PrimaryExpression:Za,Prologue:o,PropertyList:Wa,PropertyListNotEmpty:za,PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=n;n=!1;var e=a,g=qa();g===null&&(g=B(),g=g!==null?g:null);if(g!==null){var f=ba();if(f!==null){var j=[],k=a;if(b.substr(a,1)===";"){var m=";";a+=1}else m=null,n&&h('";"');if(m!==null){var o=a,r=qa();r===null&&(r=B(),r=r!==null?r:null);if(r!==null){var s=ba();s!==null?r=[r,s]:(r=null,a=o)}else r=null,
a=o;o=r!==null?r:"";o!==null?m=[m,o]:(m=null,a=k)}else m=null,a=k;for(;m!==null;)j.push(m),k=a,b.substr(a,1)===";"?(m=";",a+=1):(m=null,n&&h('";"')),m!==null?(o=a,r=qa(),r===null&&(r=B(),r=r!==null?r:null),r!==null?(s=ba(),s!==null?r=[r,s]:(r=null,a=o)):(r=null,a=o),o=r!==null?r:"",o!==null?m=[m,o]:(m=null,a=k)):(m=null,a=k);j!==null?g=[g,f,j]:(g=null,a=e)}else g=null,a=e}else g=null,a=e;(n=d)&&g===null&&h("[73] PropertyListNotEmptyPath");z[c]={nextPos:a,result:g};return g},PropertyListPath:function(){var b=
"PropertyListPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=n;n=!1;var d=za(),d=d!==null?d:"";(n=c)&&d===null&&h("[74] PropertyListPath");z[b]={nextPos:a,result:d};return d},QuadData:Na,QuadPattern:Va,Quads:Oa,QuadsNotTriples:Qa,Query:f,RDFLiteral:vb,RegexExpression:Kb,RelationalExpression:rb,SPARQL:function(){var b="SPARQL@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=f();c===null&&(c=pa(),c=c!==null?c:null);z[b]={nextPos:a,result:c};return c},STRING_LITERAL1:ec,STRING_LITERAL2:fc,STRING_LITERAL_LONG1:cc,
STRING_LITERAL_LONG2:dc,SelectClause:C,SelectQuery:w,ServiceGraphPattern:ib,SolutionModifier:na,String:Vb,SubSelect:x,TriplesBlock:wa,TriplesNode:Fa,TriplesSameSubject:Ja,TriplesTemplate:$,UnaryExpression:la,Update:pa,Update1:ha,UsingClause:va,VAR1:Sb,VAR2:Tb,VARNAME:Hb,Var:B,VarOrIRIref:Ea,VarOrTerm:Db,Verb:Ba,VerbPath:qa,WS:t,WhereClause:L};if(c!==void 0){if(Ca[c]===void 0)throw Error("Invalid rule name: "+e(c)+".");}else c="SPARQL";var a=0,n=!0,ob=0,Fb=[],z={},ka=function(a){for(var b="",c=0;c<
a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},sa=0,Rb=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},Ca=Ca[c]();if(Ca===null||a!==b.length)throw Ca=nc(),new this.SyntaxError(mc(),Ca.line,Ca.column);return Ca},toSource:function(){return this._source},SyntaxError:function(b,c,f){this.name="SyntaxError";this.message=b;this.line=c;this.column=f}};c.SyntaxError.prototype=Error.prototype;return c}();var D={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",
rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",
sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};D.UrisMap.prototype.values=function(){var c={},b;for(b in this)A.include(this.interfaceProperties,b)||(c[b]=this[b]);return c};D.UrisMap.prototype.get=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[c]};D.UrisMap.prototype.remove=function(c){if(c.indexOf(" ")!=
-1)throw"Prefix must not contain any whitespaces";delete this[c];return null};D.UrisMap.prototype.set=function(c,b){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[c]=b};D.UrisMap.prototype.setDefault=function(c){this.defaultNs=c};D.UrisMap.prototype.addAll=function(c,b){for(var d in c)A.include(this.interfaceProperties,d)||(this[d]!=null?b===!0&&(this[d]=c[d]):this[d]=c[d]);return this};D.UrisMap.prototype.resolve=function(c){var b=c.split(":"),c=b[0],b=b[1];return c===
""?this.defaultNs+b:this[c]!=null?this[c]+b:null};D.UrisMap.prototype.shrink=function(c){for(var b in this){var d=this[b];if(c.indexOf(d)===0)return c=c.split(d)[1],b+":"+c}return c};D.Profile=function(){this.prefixes=new D.UrisMap;this.terms=new D.UrisMap};D.Profile.prototype.importProfile=function(c,b){this.prefixes.addAll(c.prefixes,b);this.terms.addAll(c.terms,b)};D.Profile.prototype.resolve=function(c){return c.indexOf(":")!=-1?this.prefixes.resolve(c):this.terms[c]!=null?this.terms.resolve(c):
null};D.Profile.prototype.setDefaultPrefix=function(c){this.prefixes.setDefault(c)};D.Profile.prototype.setDefaultVocabulary=function(c){this.terms.setDefault(c)};D.Profile.prototype.setPrefix=function(c,b){this.prefixes.set(c,b)};D.Profile.prototype.setTerm=function(c,b){this.terms.set(c,b)};D.RDFEnvironment=function(){this.blankNodeCounter=0;var c=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},
sp:function(b,c){return function(e){return e.subject.equals(b)&&e.predicate.equals(c)}},so:function(b,c){return function(e){return e.subject.equals(b)&&e.object.equals(c)}},po:function(b,c){return function(e){return e.predicate.equals(b)&&e.object.equals(c)}},spo:function(b,c,e){return function(h){return h.subject.equals(b)&&h.predicate.equals(c)&&h.object.equals(e)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(b){var f=c.resolve("rdf:type");
return function(c){return c.predicate.equals(f)&&c.object.equals(b)}}};for(var b in D.defaultContext)this.prefixes.set(b,D.defaultContext[b])};A["extends"](D.Profile,D.RDFEnvironment);D.RDFEnvironment.prototype.createBlankNode=function(){var c=D.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return c};D.RDFEnvironment.prototype.createNamedNode=function(c){var b=this.resolve(c);return b!=null?new D.NamedNode(b):new D.NamedNode(c)};D.RDFEnvironment.prototype.createLiteral=function(c,b,d){return d!=
null?new D.Literal(c,b,d.toString()):new D.Literal(c,b,d)};D.RDFEnvironment.prototype.createTriple=function(c,b,d){return new D.Triple(c,b,d)};D.RDFEnvironment.prototype.createGraph=function(c){var b=new D.Graph;if(c!=null)for(var d=0;d<c.length;d++)b.add(c[d]);return b};D.RDFEnvironment.prototype.createAction=function(c,b){return function(d){return c(d)?b(d):d}};D.RDFEnvironment.prototype.createProfile=function(c){return c===!0?new D.RDFEnvironment.Profile:(c=new D.RDFEnvironment.Profile,c.importProfile(this),
c)};D.RDFEnvironment.prototype.createTermMap=function(c){if(c===!0)return new D.UrisMap;else{var c=this.terms.values(),b=new D.UrisMap,d;for(d in c)b[d]=c[d];return b}};D.RDFEnvironment.prototype.createPrefixMap=function(c){if(c===!0)return new D.UrisMap;else{var c=this.prefixes.values(),b=new D.UrisMap,d;for(d in c)b[d]=c[d];return b}};D.RDFNode=function(c){this.interfaceName=c;this.attributes=["interfaceName","nominalValue"]};D.RDFNode.prototype.equals=function(c){if(c.interfaceName==null)return this.valueOf()==
c;else{for(var b in this.attributes){var d=this.attributes[b];if(this[d]!=c[d])return!1}return!0}};D.BlankNode=function(c){D.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+c;this.bnodeId=c};A["extends"](D.RDFNode,D.BlankNode);D.BlankNode.prototype.toString=function(){return this.nominalValue};D.BlankNode.prototype.toNT=function(){return this.nominalValue};D.BlankNode.prototype.valueOf=function(){return this.nominalValue};D.Literal=function(c,b,d){D.RDFNode.call(this,"Literal");this.nominalValue=
c;if(b!=null)this.nominalValue=this.nominalValue;else if(d!=null)this.datatype=d};A["extends"](D.RDFNode,D.Literal);D.Literal.prototype.toString=function(){var c='"'+this.nominalValue+'"';this.language!=null?c=c+"@"+this.language:this.type!=null&&(c=c+"^^"+this.datatype);return c};D.Literal.prototype.toNT=function(){return this.toString()};D.Literal.prototype.valueOf=function(){return f.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,language:this.language})};D.NamedNode=
function(c){D.RDFNode.call(this,"NamedNode");this.nominalValue=c.value!=null?c.value:c};A["extends"](D.RDFNode,D.NamedNode);D.NamedNode.prototype.toString=function(){return this.nominalValue};D.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};D.NamedNode.prototype.valueOf=function(){return this.nominalValue};D.Triple=function(c,b,d){this.subject=c;this.predicate=b;this.object=d};D.Triple.prototype.equals=function(c){return this.subject.equals(c.subject)&&this.predicate.equals(c.predicate)&&
this.object.equals(c.object)};D.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};D.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};D.Graph.prototype.add=function(c){for(var b=0;b<this.actions.length;b++)c=this.actions[b](c);b=c.subject.toString()+c.predicate.toString()+c.object.toString();this.duplicates[b]||(this.duplicates[b]=!0,this.triples.push(c));return this};D.Graph.prototype.addAction=function(c,
b){this.actions.push(c);if(b==!0)for(var d=0;d<this.triples.length;d++)this.triples[d]=c(this.triples[d]);return this};D.Graph.prototype.addAll=function(c){for(var c=c.toArray(),b=0;b<c.length;b++)this.add(c[b]);return this};D.Graph.prototype.remove=function(c){for(var b=null,d=0;d<this.triples.length;d++)if(this.triples[d].equals(c)){delete this.duplicates[c.subject.toString()+c.predicate.toString()+c.object.toString()];b=d;break}b!=null&&this.triples.splice(b,1);return this};D.Graph.prototype.toArray=
function(){return this.triples};D.Graph.prototype.some=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!0)return!0;return!1};D.Graph.prototype.every=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!1)return!1;return!0};D.Graph.prototype.filter=function(c){for(var b=new D.Graph,d=0;d<this.triples.length;d++)c(this.triples[d],this)===!0&&b.add(this.triples[d]);return b};D.Graph.prototype.forEach=function(c){for(var b=0;b<this.triples.length;b++)c(this.triples[b],
this)};D.Graph.prototype.merge=function(){for(var c=new D.Graph,b=0;b<this.triples;b++){var d=this.triples[b];c.add(d)}for(b=0;b<triples.length;b++)d=triples[b],this.add(d);return c};D.Graph.prototype.match=function(c,b,d,f){for(var e=new D.Graph,h=0,m=0;m<this.triples.length;m++){var o=this.triples[m];if(c==null||o.subject.equals(c))if(b==null||o.predicate.equals(b))if(d==null||o.object.equals(d))if(f==null||h<f)h++,e.add(o);else break}return e};D.Graph.prototype.removeMatches=function(c,b,d){for(var f=
[],e=0;e<this.triples.length;e++){var h=this.triples[e];if(c==null||h.subject.equals(c))if(b==null||h.predicate.equals(b))(d==null||h.object.equals(d))&&f.push(h)}for(e=0;e<f.length;e++)this.remove(f[e]);return this};D.Graph.prototype.toNT=function(){var c="";this.forEach(function(b){c+=b.toString()});return c};D.buildRDFResource=function(c,b,d,f){return c.token==="blank"?D.buildBlankNode(c,b,d,f):c.token==="literal"?D.buildLiteral(c,b,d,f):c.token==="uri"?D.buildNamedNode(c,b,d,f):c.token==="var"?
(c=b[c.value],c!=null?D.buildRDFResource(c,b,d,f):null):null};D.buildBlankNode=function(c){if(c.value==null&&c.label)c.value=c.label;if(c.value.indexOf("_:")===0)c.value=c.value.split("_:")[1];return new D.BlankNode(c.value)};D.buildLiteral=function(c){return new D.Literal(c.value,c.language,c.type)};D.buildNamedNode=function(c,b,d,f){if(c.value==null&&c.prefix!=null)b=d.resolveNsInEnvironment(c.prefix,f),c.value=b+c.suffix;return new D.NamedNode(c)};D.rdf=new D.RDFEnvironment;var f={};f.checkFilters=
function(c,b,d,j,e,h){var m=c.filter,o=[];if(m==null||c.length!=null)return h(!0,b);A.repeat(0,m.length,function(c,u){var w=arguments.callee;f.run(m[u._i].value,b,d,j,e,function(d,e){if(d){for(var f=[],j=0;j<e.length;j++)e[j].__nullify__!=null?o.push(e[j]):f.push(e[j]);b=f;c(w,u)}else h(!1,e)})},function(){h(!0,b.concat(o))})};f.boundVars=function(c){if(c.expressionType!=null){var b=c.expressionType;if(b=="relationalexpression")return b=c.op2,f.boundVars(c.op1)+f.boundVars(b);else if(b=="conditionalor"||
b=="conditionaland"){for(var d=[],b=0;b<c.operands;b++)d=d.concat(f.boundVars(c.operands[b]));return d}else if(b=="builtincall")if(c.args==null)return[];else{d=[];for(b=0;b<c.args.length;b++)d=d.concat(f.boundVars(c.args[b]));return d}else if(b=="multiplicativeexpression"){d=f.boundVars(c.factor);for(b=0;b<c.factors.length;b++)d=d.concat(f.boundVars(c.factors[b].expression));return d}else if(b=="additiveexpression"){d=f.boundVars(c.summand);for(b=0;b<c.summands.length;b++)d=d.concat(f.boundVars(c.summands[b].expression));
return d}else if(b=="regex")return d=f.boundVars(c.expression1),d.concat(f.boundVars(c.expression2));else if(b=="unaryexpression")return f.boundVars(c.expression);else if(b=="atomic")return c.primaryexpression=="var"?[c.value]:[]}else throw console.log("ERROR"),console.log(c),"Cannot find bound expressions in a no expression token";};f.run=function(c,b,d,j,e,h){e.copyDenormalizedBindings(b,j.outCache,function(m,o){if(m===!0){for(var r=[],u=0;u<b.length;u++){var w=f.runFilter(c,o[u],e,j),w=f.ebv(w);
f.isEbvError(w)?d&&(w={__nullify__:!0,bindings:b[u]},r.push(w)):w===!0?r.push(b[u]):d&&(w={__nullify__:!0,bindings:b[u]},r.push(w))}h(!0,r)}else h(m,o)})};f.collect=function(c,b,d,j,e){j.copyDenormalizedBindings(b,d.outCache,function(h,m){if(h===!0){for(var o=[],r=0;r<b.length;r++){var u=f.runFilter(c,m[r],j,d);o.push({binding:b[r],value:u})}e(!0,o)}else e(h,m)})};f.runDistinct=function(){};f.runAggregator=function(c,b,d,j){if(b==null||b.length===0)return f.ebvError();else if(c.token==="variable"&&
c.kind=="var")return b[0][c.value.value];else if(c.token==="variable"&&c.kind==="aliased")if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression==="var")return b[0][c.expression.value.value];else if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var e=null,h=0;h<b.length;h++){var m=b[h],m=f.runFilter(c.expression.expression,m,d,j);f.isEbvError(m)||(e===null?e=m:f.runLtFunction(e,m).value===!0&&(e=m))}return e===null?f.ebvError():e}else if(c.expression.aggregateType===
"min"){e=null;for(h=0;h<b.length;h++)m=b[h],m=f.runFilter(c.expression.expression,m,d,j),f.isEbvError(m)||(e===null?e=m:f.runGtFunction(e,m).value===!0&&(e=m));return e===null?f.ebvError():e}else if(c.expression.aggregateType==="count"){var e={},o=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(h=0;h<b.length;h++){var m=b[h],r=A.hashTerm(m);e[r]==null&&(e[r]=!0,o++)}else o=b.length;else for(h=0;h<b.length;h++)m=b[h],m=f.runFilter(c.expression.expression,
m,d,j),f.isEbvError(m)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=A.hashTerm(m),e[r]==null&&(e[r]=!0,o++)):o++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o}}else if(c.expression.aggregateType==="avg"){for(var e={},u={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},h=o=0;h<b.length;h++)m=b[h],m=f.runFilter(c.expression.expression,m,d,j),f.isEbvError(m)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=A.hashTerm(m),
e[r]==null&&(e[r]=!0,f.isNumeric(m)&&(u=f.runSumFunction(u,m),o++))):f.isNumeric(m)&&(u=f.runSumFunction(u,m),o++));c=f.runDivFunction(u,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o});c.value=""+c.value;return c}else if(c.expression.aggregateType==="sum"){e={};u={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(h=0;h<b.length;h++)m=b[h],m=f.runFilter(c.expression.expression,m,d,j),f.isEbvError(m)||(c.expression.distinct!=null&&c.expression.distinct!=
""?(r=A.hashTerm(m),e[r]==null&&(e[r]=!0,f.isNumeric(m)&&(u=f.runSumFunction(u,m)))):f.isNumeric(m)&&(u=f.runSumFunction(u,m)));u.value=""+u.value;return u}else return m=f.runFilter(aggregate.expression,b[0],{blanks:{},outCache:{}})};f.runFilter=function(c,b,d,j){if(c.expressionType!=null){var e=c.expressionType;if(e=="relationalexpression"){var e=f.runFilter(c.op1,b,d,j),h=f.runFilter(c.op2,b,d,j);return f.runRelationalFilter(c,e,h,b,d,j)}else if(e=="conditionalor")return f.runOrFunction(c,b,d,j);
else if(e=="conditionaland")return f.runAndFunction(c,b,d,j);else if(e=="additiveexpression")return f.runAddition(c.summand,c.summands,b,d,j);else if(e=="builtincall")return f.runBuiltInCall(c.builtincall,c.args,b,d,j);else if(e=="multiplicativeexpression")return f.runMultiplication(c.factor,c.factors,b,d,j);else if(e=="unaryexpression")return f.runUnaryExpression(c.unaryexpression,c.expression,b,d,j);else if(e=="irireforfunction")return f.runIriRefOrFunction(c.iriref,c.args,b,d,j);else if(e=="regex")return f.runRegex(c.text,
c.pattern,c.flags,b,d,j);else if(e=="atomic")if(c.primaryexpression=="var")return b[c.value.value];else{if(typeof c.value=="object"&&!(c.value.type==null||typeof c.value.type!="object"))c.value.type=A.lexicalFormBaseUri(c.value.type,j);return c.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};f.isRDFTerm=function(c){return c==null?!1:c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank"?!0:!1};f.RDFTermEquality=
function(c,b,d,j){return c.token==="literal"&&b.token==="literal"?c.lang==b.lang&&c.type==b.type&&c.value==b.value?!0:c.type!=null&&b.type!=null?f.ebvError():f.isSimpleLiteral(c)&&b.type!=null?f.ebvError():f.isSimpleLiteral(b)&&c.type!=null?f.ebvError():!1:c.token==="uri"&&b.token==="uri"?A.lexicalFormBaseUri(c,j)==A.lexicalFormBaseUri(b,j):c.token==="blank"&&b.token==="blank"?c.value==b.value:!1};f.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||
c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||
c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};f.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};f.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};f.isDouble=function(c){return c==
null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};f.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#float"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||
c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:
!1};f.isSimpleLiteral=function(c){return c&&c.token=="literal"?c.type==null&&c.lang==null?!0:!1:!1};f.isXsdType=function(c,b){return b&&b.token=="literal"?b.type=="http://www.w3.org/2001/XMLSchema#"+c:!1};f.ebv=function(c){if(c==null||f.isEbvError(c))return f.ebvError();else if(c.token&&c.token==="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var b=parseFloat(c.value);return isNaN(b)?!1:parseFloat(c.value)!=0}else return c.type==="http://www.w3.org/2001/XMLSchema#boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type==="http://www.w3.org/2001/XMLSchema#string"?c.value!="":c.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(c.value)!=null:f.isEbvError(c)?c:c.type==null?c.value!=""?!0:!1:f.ebvError();else return c.value===!0};f.ebvTrue=function(){return val=
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};f.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};f.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};f.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};f.ebvBoolean=function(c){return f.isEbvError(c)?c:c===!0?f.ebvTrue():
f.ebvFalse()};f.runRelationalFilter=function(c,b,d,j,e,h){c=c.operator;if(c==="=")return f.runEqualityFunction(b,d,j,e,h);else if(c==="!="){b=f.runEqualityFunction(b,d,j,e,h);if(!f.isEbvError(b))b.value=!b.value;return b}else if(c==="<")return f.runLtFunction(b,d,j);else if(c===">")return f.runGtFunction(b,d,j);else if(c==="<=")return f.runLtEqFunction(b,d,j);else if(c===">=")return f.runGtEqFunction(b,d,j);else throw"Error applying relational filter, unknown operator";};f.effectiveTypeValue=function(c){if(c.token==
"literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#decimal")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#float")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#double")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#long")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#int")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#short")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#byte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#date"||c.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return A.parseISO8601(c.value)}catch(b){return null}else return c.type==
"http://www.w3.org/2001/XMLSchema#boolean"?c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type=="http://www.w3.org/2001/XMLSchema#string"?c.value===null||c.value===void 0?void 0:""+c.value:c.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};f.runOrFunction=function(c,b,d,j){for(var e=null,h=0;h<c.operands.length;h++){var m=f.runFilter(c.operands[h],
b,d,j);f.isEbvError(m)==!1&&(m=f.ebv(m));e==null?e=m:f.isEbvError(m)?e=f.isEbvError(e)?f.ebvError():e===!0?!0:f.ebvError():m===!0?e=!0:f.isEbvError(e)&&(e=f.ebvError())}return f.ebvBoolean(e)};f.runAndFunction=function(c,b,d,j){for(var e=null,h=0;h<c.operands.length;h++){var m=f.runFilter(c.operands[h],b,d,j);f.isEbvError(m)==!1&&(m=f.ebv(m));e==null?e=m:f.isEbvError(m)?e=f.isEbvError(e)?f.ebvError():e===!0?f.ebvError():!1:m===!0?f.isEbvError(e)&&(e=f.ebvError()):e=!1}return f.ebvBoolean(e)};f.runEqualityFunction=
function(c,b,d,j,e){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();if(f.isNumeric(c)&&f.isNumeric(b)){var d=f.effectiveTypeValue(c),h=f.effectiveTypeValue(b);return isNaN(d)||isNaN(h)?f.ebvBoolean(f.RDFTermEquality(c,b,j,e)):f.ebvBoolean(d==h)}else if((f.isSimpleLiteral(c)||f.isXsdType("string",c))&&(f.isSimpleLiteral(b)||f.isXsdType("string",b)))return f.ebvBoolean(f.effectiveTypeValue(c)==f.effectiveTypeValue(b));else if(f.isXsdType("boolean",c)&&f.isXsdType("boolean",b))return f.ebvBoolean(f.effectiveTypeValue(c)==
f.effectiveTypeValue(b));else if((f.isXsdType("dateTime",c)||f.isXsdType("date",c))&&(f.isXsdType("dateTime",b)||f.isXsdType("date",b))){if(f.isXsdType("dateTime",c)&&f.isXsdType("date",b))return f.ebvFalse();if(f.isXsdType("date",c)&&f.isXsdType("dateTime",b))return f.ebvFalse();c=A.compareDateComponents(c.value,b.value);return c!=null?c==0?f.ebvTrue():f.ebvFalse():f.ebvError()}else return f.isRDFTerm(c)&&f.isRDFTerm(b)?f.ebvBoolean(f.RDFTermEquality(c,b,j,e)):f.ebvFalse()};f.runGtFunction=function(c,
b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();if(f.isNumeric(c)&&f.isNumeric(b))return f.ebvBoolean(f.effectiveTypeValue(c)>f.effectiveTypeValue(b));else if(f.isSimpleLiteral(c)&&f.isSimpleLiteral(b))return f.ebvBoolean(f.effectiveTypeValue(c)>f.effectiveTypeValue(b));else if(f.isXsdType("string",c)&&f.isXsdType("string",b))return f.ebvBoolean(f.effectiveTypeValue(c)>f.effectiveTypeValue(b));else if(f.isXsdType("boolean",c)&&f.isXsdType("boolean",b))return f.ebvBoolean(f.effectiveTypeValue(c)>
f.effectiveTypeValue(b));else if((f.isXsdType("dateTime",c)||f.isXsdType("date",c))&&(f.isXsdType("dateTime",b)||f.isXsdType("date",b))){if(f.isXsdType("dateTime",c)&&f.isXsdType("date",b))return f.ebvFalse();if(f.isXsdType("date",c)&&f.isXsdType("dateTime",b))return f.ebvFalse();var d=A.compareDateComponents(c.value,b.value);return d!=null?d==1?f.ebvTrue():f.ebvFalse():f.ebvError()}else return f.ebvFalse()};f.runTotalGtFunction=function(c,b){return f.isEbvError(c)||f.isEbvError(b)?f.ebvError():f.isNumeric(c)&&
f.isNumeric(b)||f.isSimpleLiteral(c)&&f.isSimpleLiteral(b)||f.isXsdType("string",c)&&f.isSimpleLiteral("string",b)||f.isXsdType("boolean",c)&&f.isSimpleLiteral("boolean",b)||f.isXsdType("dateTime",c)&&f.isSimpleLiteral("dateTime",b)?f.runGtFunction(c,b,[]):c.token&&c.token==="uri"&&b.token&&b.token==="uri"?f.ebvBoolean(c.value>b.value):c.token&&c.token==="literal"&&b.token&&b.token==="literal"?f.ebvBoolean(""+c.value+c.type+c.lang>""+b.value+b.type+b.lang):c.token&&c.token==="blank"&&b.token&&b.token===
"blank"?f.ebvBoolean(c.value>b.value):c.value&&b.value?f.ebvBoolean(c.value>b.value):f.ebvTrue()};f.runLtFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();if(f.isNumeric(c)&&f.isNumeric(b))return f.ebvBoolean(f.effectiveTypeValue(c)<f.effectiveTypeValue(b));else if(f.isSimpleLiteral(c)&&f.isSimpleLiteral(b))return f.ebvBoolean(f.effectiveTypeValue(c)<f.effectiveTypeValue(b));else if(f.isXsdType("string",c)&&f.isXsdType("string",b))return f.ebvBoolean(f.effectiveTypeValue(c)<
f.effectiveTypeValue(b));else if(f.isXsdType("boolean",c)&&f.isXsdType("boolean",b))return f.ebvBoolean(f.effectiveTypeValue(c)<f.effectiveTypeValue(b));else if((f.isXsdType("dateTime",c)||f.isXsdType("date",c))&&(f.isXsdType("dateTime",b)||f.isXsdType("date",b))){if(f.isXsdType("dateTime",c)&&f.isXsdType("date",b))return f.ebvFalse();if(f.isXsdType("date",c)&&f.isXsdType("dateTime",b))return f.ebvFalse();var d=A.compareDateComponents(c.value,b.value);return d!=null?d==-1?f.ebvTrue():f.ebvFalse():
f.ebvError()}else return f.ebvFalse()};f.runGtEqFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();if(f.isNumeric(c)&&f.isNumeric(b))return f.ebvBoolean(f.effectiveTypeValue(c)>=f.effectiveTypeValue(b));else if(f.isSimpleLiteral(c)&&f.isSimpleLiteral(b))return f.ebvBoolean(f.effectiveTypeValue(c)>=f.effectiveTypeValue(b));else if(f.isXsdType("string",c)&&f.isXsdType("string",b))return f.ebvBoolean(f.effectiveTypeValue(c)>=f.effectiveTypeValue(b));else if(f.isXsdType("boolean",
c)&&f.isXsdType("boolean",b))return f.ebvBoolean(f.effectiveTypeValue(c)>=f.effectiveTypeValue(b));else if((f.isXsdType("dateTime",c)||f.isXsdType("date",c))&&(f.isXsdType("dateTime",b)||f.isXsdType("date",b))){if(f.isXsdType("dateTime",c)&&f.isXsdType("date",b))return f.ebvFalse();if(f.isXsdType("date",c)&&f.isXsdType("dateTime",b))return f.ebvFalse();var d=A.compareDateComponents(c.value,b.value);return d!=null?d!=-1?f.ebvTrue():f.ebvFalse():f.ebvError()}else return f.ebvFalse()};f.runLtEqFunction=
function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();if(f.isNumeric(c)&&f.isNumeric(b))return f.ebvBoolean(f.effectiveTypeValue(c)<=f.effectiveTypeValue(b));else if(f.isSimpleLiteral(c)&&f.isSimpleLiteral(b))return f.ebvBoolean(f.effectiveTypeValue(c)<=f.effectiveTypeValue(b));else if(f.isXsdType("string",c)&&f.isXsdType("string",b))return f.ebvBoolean(f.effectiveTypeValue(c)<=f.effectiveTypeValue(b));else if(f.isXsdType("boolean",c)&&f.isXsdType("boolean",b))return f.ebvBoolean(f.effectiveTypeValue(c)<=
f.effectiveTypeValue(b));else if((f.isXsdType("dateTime",c)||f.isXsdType("date",c))&&(f.isXsdType("dateTime",b)||f.isXsdType("date",b))){if(f.isXsdType("dateTime",c)&&f.isXsdType("date",b))return f.ebvFalse();if(f.isXsdType("date",c)&&f.isXsdType("dateTime",b))return f.ebvFalse();var d=A.compareDateComponents(c.value,b.value);return d!=null?d!=1?f.ebvTrue():f.ebvFalse():f.ebvError()}else return f.ebvFalse()};f.runAddition=function(c,b,d,j,e){var h=f.runFilter(c,d,j,e);if(f.isEbvError(h))return f.ebvError();
c=h;if(f.isNumeric(h)){for(h=0;h<b.length;h++){var m=f.runFilter(b[h].expression,d,j,e);if(f.isNumeric(m))b[h].operator==="+"?c=f.runSumFunction(c,m):b[h].operator==="-"&&(c=f.runSubFunction(c,m));else return f.ebvFalse()}return c}else return f.ebvFalse()};f.runSumFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();var d=f.effectiveTypeValue(c)+f.effectiveTypeValue(b);return f.isDouble(c)||f.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:
f.isFloat(c)||f.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:f.isDecimal(c)||f.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};f.runSubFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();var d=f.effectiveTypeValue(c)-f.effectiveTypeValue(b);return f.isDouble(c)||f.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:d}:f.isFloat(c)||f.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:f.isDecimal(c)||f.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};f.runMultiplication=function(c,b,d,j,e){c=f.runFilter(c,d,j,e);if(f.isEbvError(c))return c;var h=c;if(f.isNumeric(c)){for(var m=0;m<b.length;m++){var o=f.runFilter(b[m].expression,d,j,e);if(f.isEbvError(o))return c;
if(f.isNumeric(o))b[m].operator==="*"?h=f.runMulFunction(h,o):b[m].operator==="/"&&(h=f.runDivFunction(h,o));else return f.ebvFalse()}return h}else return f.ebvFalse()};f.runMulFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();var d=f.effectiveTypeValue(c)*f.effectiveTypeValue(b);return f.isDouble(c)||f.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:f.isFloat(c)||f.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:f.isDecimal(c)||f.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};f.runDivFunction=function(c,b){if(f.isEbvError(c)||f.isEbvError(b))return f.ebvError();var d=f.effectiveTypeValue(c)/f.effectiveTypeValue(b);return f.isDouble(c)||f.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:f.isFloat(c)||f.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:f.isDecimal(c)||f.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};f.runBuiltInCall=function(c,b,d,j,e){for(var h=[],m=0;m<b.length;m++)if(b[m].token==="var")h.push(b[m]);else{var o=f.runFilter(b[m],d,j,e);if(f.isEbvError(o))return o;h.push(o)}if(c==="str")return h[0].token==="literal"?{token:"literal",type:null,value:""+h[0].value}:h[0].token==="uri"?{token:"literal",type:null,
value:h[0].value}:f.ebvFalse();else if(c==="lang")return h[0].token==="literal"?h[0].lang!=null?{token:"literal",value:""+h[0].lang}:{token:"literal",value:""}:f.ebvError();else if(c==="datatype")return h[0].token==="literal"?(d=h[0],d.type!=null?typeof d.type==="string"?{token:"uri",value:d.type,prefix:null,suffix:null}:d.type:d.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:f.ebvError()):f.ebvError();else if(c==="isliteral")return h[0].token==="literal"?
f.ebvTrue():f.ebvFalse();else if(c==="isblank")return h[0].token==="blank"?f.ebvTrue():f.ebvFalse();else if(c==="isuri"||c==="isiri")return h[0].token==="uri"?f.ebvTrue():f.ebvFalse();else if(c==="sameterm")return d=f.RDFTermEquality(h[0],h[1],j,e),f.isEbvError(d)&&(d=!1),f.ebvBoolean(d);else if(c==="langmatches")return d=h[0],h=h[1],d.token==="literal"&&h.token==="literal"?h.value==="*"&&d.value!=""?f.ebvTrue():f.ebvBoolean(d.value.toLowerCase().indexOf(h.value.toLowerCase())===0):f.ebvError();else if(c===
"bound")return h=h[0].value,h==null?f.ebvError():d[h]!=null?f.ebvTrue():f.ebvFalse();else throw"Builtin call "+c+" not implemented yet";};f.runUnaryExpression=function(c,b,d,j,e){b=f.runFilter(b,d,j,e);if(f.isEbvError(b))return b;if(c==="!")return c=f.ebv(b),f.isEbvError(c)?f.ebvFalse():f.ebvBoolean(!c);else if(c==="+")return f.isNumeric(b)?b:f.ebvError();else if(c==="-")return f.isNumeric(b)?(b.value=-b.value,b):f.ebvError()};f.runRegex=function(c,b,d,j,e,h){if(c!=null)c=f.runFilter(c,j,e,h);else return f.ebvError();
if(b!=null)b=f.runFilter(b,j,e,h);else return f.ebvError();d!=null&&(d=f.runFilter(d,j,e,h));if(b!=null&&b.token==="literal"&&(d==null||d.token==="literal"))b=b.value,d=d==null?null:d.value;else return f.ebvError();if(c!=null&&c.token=="var")if(j[c.value]!=null)c=j[c.value];else return f.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||f.isXsdType("string",c))c=c.value;else return f.ebvError();else return f.ebvError();return(d==null?RegExp(b):RegExp(b,d.toLowerCase())).exec(c)?f.ebvTrue():
f.ebvFalse()};f.normalizeLiteralDatatype=function(c,b,d){if(!(c.value.type==null||typeof c.value.type!="object"))c.value.type=A.lexicalFormBaseUri(c.value.type,d);return c};f.runIriRefOrFunction=function(c,b,d,j,e){if(b==null)return c;else{for(var h=[],m=0;m<b.length;m++)h.push(f.runFilter(b[m],d,j,e));c=A.lexicalFormBaseUri(c,e);if(c=="http://www.w3.org/2001/XMLSchema#integer"||c=="http://www.w3.org/2001/XMLSchema#decimal"||c=="http://www.w3.org/2001/XMLSchema#double"||c=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
c=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c=="http://www.w3.org/2001/XMLSchema#long"||c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#short"||c=="http://www.w3.org/2001/XMLSchema#byte"||c=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(h=
h[0],h.token==="literal")if(h=f.normalizeLiteralDatatype(h,j,e),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#long"||h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type=="http://www.w3.org/2001/XMLSchema#byte"||
h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return h.type=c,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return f.ebv(h)==!0?(h.type=c,h.value=1):(h.type=c,h.value=0),h;else if(h.type==
"http://www.w3.org/2001/XMLSchema#float"||h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=c,h.value=parseInt(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null){if(h.value.split(".").length>2)return f.ebvError();else if(h.value.split("-").length>2)return f.ebvError();else if(h.value.split("/").length>2)return f.ebvError();else if(h.value.split("+").length>2)return f.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#decimal"&&(h.value.indexOf("e")!=
-1||h.value.indexOf("E")!=-1))return f.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#integer")if(h.value.indexOf("e")!=-1||h.value.indexOf("E")!=-1||h.value.indexOf(".")!=-1)return f.ebvError();try{return h.value=parseInt(parseFloat(h.value)),isNaN(h.value)?f.ebvError():(h.type=c,h)}catch(o){return f.ebvError()}}else return f.ebvError();else return f.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#boolean")return h=h[0],h.token==="literal"&&
h.type==null?h.value==="true"||h.value==="1"?f.ebvTrue():h.value==="false"||h.value==="0"?f.ebvFalse():f.ebvError():h.token==="literal"?f.isEbvError(h)?h:f.ebvBoolean(h):f.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#string")if(h=h[0],h.token==="literal")if(h=f.normalizeLiteralDatatype(h,j,e),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#long"||h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type=="http://www.w3.org/2001/XMLSchema#byte"||h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#float")return h.type=c,h.value=""+h.value,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")return h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return f.ebv(h)?(h.type=c,h.value="true"):(h.type=c,h.value="false"),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||h.type=="http://www.w3.org/2001/XMLSchema#date"){h.type=c;if(typeof h.value!="string")h.value=A.iso8601(h.value);
return h}else return h.type==null?(h.value=""+h.value,h.type=c,h):f.ebvError();else return h.token==="uri"?{token:"literal",value:A.lexicalFormBaseUri(h,e),type:c,lang:null}:f.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#dateTime"||c=="http://www.w3.org/2001/XMLSchema#date")if(h=h[0],h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||h.type=="http://www.w3.org/2001/XMLSchema#date")return h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null)try{return h.value=A.iso8601(A.parseStrictISO8601(h.value)),
h.type=c,h}catch(r){return f.ebvError()}else return f.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#float")if(h=h[0],h.token==="literal")if(h=f.normalizeLiteralDatatype(h,j,e),h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#int")return h.type=c,h.value=parseFloat(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return f.ebv(h)==!0?(h.type=c,h.value=1):(h.type=c,h.value=0),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#float"||
h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=c,h.value=parseFloat(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")try{return h.value=parseFloat(h.value),isNaN(h.value)?f.ebvError():(h.type=c,h)}catch(u){return f.ebvError()}else if(h.type==null){if(h.value.split(".").length>2)return f.ebvError();else if(h.value.split("-").length>2)return f.ebvError();else if(h.value.split("/").length>2)return f.ebvError();else if(h.value.split("+").length>2)return f.ebvError();
try{return h.value=parseFloat(h.value),isNaN(h.value)?f.ebvError():(h.type=c,h)}catch(w){return f.ebvError()}}else return f.ebvError();else return f.ebvError();else return f.ebvError()}};var G={orderJoins:function(c){return c},variablesInBGP:function(c){var b=c.variables;if(b)return b;var d=c.value||c,b=[];for(comp in d)d[comp]&&d[comp].token==="var"?b.push(d[comp].value):d[comp]&&d[comp].token==="blank"&&b.push("blank:"+d[comp].label);return c.variables=b},variablesIntersectionBGP:function(c,b){for(var d=
G.variablesInBGP(c).sort(),f=G.variablesInBGP(b).sort(),e=0,h=0,m=[];e<d.length&&h<f.length;)d[e]===f[h]?(m.push(d[e]),e++,h++):d[e]<f[h]?e++:h++;return m}};G.executeAndBGPs=function(c,b,d,f,e){c=A.partition(c,2);G.buildBushyJoinTreeBase(c,b,d,f,function(b,c){b?e(!0,c):e(!1,c)})};G.buildBushyJoinTreeBase=function(c,b,d,f,e){A.repeat(0,c.length,function(h,m){var o=arguments.callee,r=c[m._i];G.executeAndBGP(r[0],r[1],b,d,f,function(b,c){if(b){if(m.acum==null)m.acum=[];m.acum.push(c);h(o,m)}else e(b,
c)})},function(b){G.buildBushyJoinTreeBranches(b.acum,e)})};G.buildBushyJoinTreeBranches=function(c,b){if(c.length==1)b(!0,c[0]);else{for(var d=A.partition(c,2),f=[],e=0;e<d.length;e++){var h=d[e],h=G.executeAndBindings(h[0],h[1]);f.push(h)}G.buildBushyJoinTreeBranches(f,b)}};G.executeAndBindings=function(c,b){return c==null?b:b==null?c:c==[]||b==[]?[]:G.variablesIntersectionBindings(c[0],b[0]).length==0?G.crossProductBindings(c,b):G.joinBindings(c,b)};G.executeAndBGP=function(c,b,d,f,e,h){if(c==
null)G.executeEmptyJoinBGP(b,d,f,e,h);else if(b==null)G.executeEmptyJoinBGP(c,d,f,e,h);else{var m=G.variablesIntersectionBGP(c,b);m.length===0?G.executeCrossProductBGP(m,c,b,d,f,e,h):G.executeJoinBGP(m,c,b,d,f,e,h)}};G.executeEmptyJoinBGP=function(c,b,d,f,e){G.executeBGPDatasets(c,b,d,f,function(b,c){b==!0?e(!0,c):e(!1,c)})};G.executeJoinBGP=function(c,b,d,f,e,h,m){G.executeBGPDatasets(b,f,e,h,function(b,c){b?G.executeBGPDatasets(d,f,e,h,function(b,d){if(b){var e=G.joinBindings(c,d);m(!0,e)}else m(!1,
results)}):m(!1,results)})};G.executeBGPDatasets=function(c,b,d,f,e){var h={};if(c.graph==null)A.repeat(0,b["default"].length,function(e,m){var u=arguments.callee;h[b["default"][m._i].oid]==null?(h[b["default"][m._i].oid]=!0,m.acum=m.acum||[],c.graph=b["default"][m._i],d.rangeQuery(c,f,function(b,d){b&&(d=G.buildBindingsFromRange(d,c),m.acum.push(d));e(u,m)})):e(u,m)},function(b){b=G.unionManyBindings(b.acum||[]);e(!0,b)});else if(c.graph.token==="var"){var m=c.graph.value;A.repeat(0,b.named.length,
function(o,r){var u=arguments.callee;h[b.named[r._i].oid]==null?(h[b.named[r._i].oid]=!0,r.acum=r.acum||[],c.graph=b.named[r._i],d.rangeQuery(c,f,function(d,h){if(d){for(var h=G.buildBindingsFromRange(h,c),f=0;f<h.length;f++)h[f][m]=b.named[r._i].oid;r.acum.push(h);o(u,r)}else e(!1,h)})):o(u,r)},function(b){b=G.unionManyBindings(b.acum||[]);e(!0,b)})}else d.rangeQuery(c,f,function(b,d){b?(d=G.buildBindingsFromRange(d,c),e(!0,d)):e(!1,d)})};G.executeCrossProductBGP=function(c,b,d,f,e,h,m){G.executeBGPDatasets(b,
f,e,h,function(b,c){b?G.executeBGPDatasets(d,f,e,h,function(b,d){if(b){var e=G.crossProductBindings(c,d);m(!0,e)}else m(!1,results)}):m(!1,results)})};G.buildBindingsFromRange=function(c,b){G.variablesInBGP(b);var d={},f=b.value||b,d={};for(o in f)f[o]&&f[o].token==="var"?d[o]=f[o].value:f[o]&&f[o].token==="blank"&&(d[o]="blank:"+f[o].label);for(var f=[],e=0;e<c.length;e++){var h={},m=c[e],o;for(o in d)h[d[o]]=m[o];f.push(h)}return f};G.variablesIntersectionBindings=function(c,b){var d=0,f=0,e=[],
h=[],m;for(m in c)e.push(m);for(m in b)h.push(m);e.sort();h.sort();for(m=[];d<e.length&&f<h.length;)e[d]===h[f]?(m.push(e[d]),d++,f++):e[d]<h[f]?d++:f++;return m};G.areCompatibleBindings=function(c,b){for(var d in c)if(b[d]!=null&&b[d]!=c[d])return!1;return!0};G.mergeBindings=function(c,b){var d={},f;for(f in c)d[f]=c[f];for(f in b)d[f]=b[f];return d};G.joinBindings=function(c,b){for(var d=[],f=0;f<c.length;f++)for(var e=c[f],h=0;h<b.length;h++){var m=b[h];G.areCompatibleBindings(e,m)&&d.push(G.mergeBindings(e,
m))}return d};G.augmentMissingBindings=function(c,b){for(var d in b)c[d]==null&&(c[d]=null);return c};G.leftOuterJoinBindings=function(c,b){for(var d=[],f=0;f<c.length;f++){for(var e=c[f],h=!1,m=0;m<b.length;m++){var o=b[m];G.areCompatibleBindings(e,o)&&(h=!0,d.push(G.mergeBindings(e,o)))}h===!1&&(G.augmentMissingBindings(e,o),d.push(e))}return d};G.crossProductBindings=function(c,b){for(var d=[],f=0;f<c.length;f++)for(var e=c[f],h=0;h<b.length;h++)d.push(G.mergeBindings(e,b[h]));return d};G.unionBindings=
function(c,b){return c.concat(b)};G.unionManyBindings=function(c){for(var b=[],d=0;d<c.length;d++)b=G.unionBindings(b,c[d]);return b};var L={QueryEngine:function(c){if(arguments.length!=0)this.backend=c.backend,this.lexicon=c.lexicon,this.abstractQueryTree=new X.AbstractQueryTree,this.rdfLoader=new ca.RDFLoader(c.communication),this.callbacksBackend=new I.CallbacksBackend(this)}};L.QueryEngine.prototype.registerNsInEnvironment=function(c,b){for(var d=c.prefixes,f={},e=0;e<d.length;e++){var h=d[e];
if(h.token==="prefix")f[h.prefix]=h.local}b.namespaces=f;b.base=c.base&&typeof c.base==="object"?c.base.value:null};L.QueryEngine.prototype.applyModifier=function(c,b){if(c=="DISTINCT"){for(var d={},f=[],e=0;e<b.length;e++){var h=b[e],m="",o;for(o in h){var r=h[o];r==null?m=m+o+"null":r.token=="literal"?(r.value!=null&&(m+=r.value),r.lang!=null&&(m+=r.lang),r.type!=null&&(m+=r.type)):m=r.value?m+o+r.value:m+o+r}d[m]==null&&(f.push(h),d[m]=!0)}return f}else return b};L.QueryEngine.prototype.applyLimitOffset=
function(c,b,d){if(b==null&&c==null)return d;c==null&&(c=0);b=b==null?d.length:c+b;return d.slice(c,b)};L.QueryEngine.prototype.applySingleOrderBy=function(c,b,d,j){var e=this;A.repeat(0,c.length,function(h,m){var o=arguments.callee;f.collect(c[m._i].expression,[b],d,e,function(b,c){b?(m.acum=m.acum||[],m.acum.push(c[0].value),h(o,m)):j(!1,c)})},function(c){j(!0,{binding:b,value:c.acum})})};L.QueryEngine.prototype.applyOrderBy=function(c,b,d,f){var e=this;c!=null&&c.length>0?A.repeat(0,b.length,function(h,
m){var o=arguments.callee;e.applySingleOrderBy(c,b[m._i],d,function(b,c){b?(m.acum=m.acum||[],m.acum.push(c),h(o,m)):f(!1,c)})},function(b){b=b.acum||[];b.sort(function(b,h){return e.compareFilteredBindings(b,h,c,d)});for(var m=[],o=0;o<b.length;o++)m.push(b[o].binding);f(!0,m)}):f(!0,b)};L.QueryEngine.prototype.compareFilteredBindings=function(c,b,d,j){for(var e=0;;){if(e==c.value.length)return 0;var h=d[e].direction;if(c.value[e]==null&&b.value[e]==null)e++;else{if(c.value[e]==null)c={value:!1};
else if(b.value[e]==null)c={value:!0};else if(c.value[e].token==="blank"&&b.value[e].token==="blank"){e++;continue}else if(c.value[e].token==="blank")c={value:!1};else if(b.value[e].token==="blank")c={value:!0};else if(c.value[e].token==="uri"&&b.value[e].token==="uri")if(f.runEqualityFunction(c.value[e],b.value[e],[],this,j).value==!0){e++;continue}else c=f.runTotalGtFunction(c.value[e],b.value[e],[]);else if(c.value[e].token==="uri")c={value:!1};else if(b.value[e].token==="uri")c={value:!0};else if(c.value[e].token===
"literal"&&b.value[e].token==="literal"&&c.value[e].type==null&&b.value[e].type==null)if(f.runEqualityFunction(c.value[e],b.value[e],[],this,j).value==!0){e++;continue}else c=f.runTotalGtFunction(c.value[e],b.value[e],[]);else if(c.value[e].token==="literal"&&c.value[e].type==null)c={value:!1};else if(b.value[e].token==="literal"&&b.value[e].type==null)c={value:!0};else if(f.runEqualityFunction(c.value[e],b.value[e],[],this,j).value==!0){e++;continue}else c=f.runTotalGtFunction(c.value[e],b.value[e],
[]);return c.value==!0?h==="ASC"?1:-1:h==="ASC"?-1:1}}};L.QueryEngine.prototype.removeDefaultGraphBindings=function(c,b){for(var d=[],f={},e=0;e<b.named.length;e++)f[b.named[e].oid]=!0;for(e=0;e<b["default"].length;e++)f[b["default"][e].oid]==null&&d.push(b["default"][e].oid);d=[];for(e=0;e<c.length;e++){var h=c[e],m=!1,o;for(o in h){for(var r=0;r<f.length;r++)if(h[o]===f[r]){m=!0;break}if(m)break}m||d.push(h)}return d};L.QueryEngine.prototype.aggregateBindings=function(c,b,d,j){this.copyDenormalizedBindings(b,
d.outCache,function(b,h){if(b===!0){for(var m={},o=0;o<c.length;o++){var r=f.runAggregator(c[o],h,this,d);c[o].alias?m[c[o].alias.value]=r:m[c[o].value.value]=r}j(!0,m)}else j(b,h)})};L.QueryEngine.prototype.projectBindings=function(c,b){if(c[0].kind==="*")return b;else{for(var d=[],j=0;j<b.length;j++){for(var e=b[j],h={},m=!0,o=0;o<c.length;o++)if(c[o].token=="variable"&&c[o].kind!="aliased")h[c[o].value.value]=e[c[o].value.value];else if(c[o].token=="variable"&&c[o].kind=="aliased"){var r=f.runFilter(c[o].expression,
e,this,{blanks:{},outCache:{}});if(f.isEbvError(r)){m=!1;break}else h[c[o].alias.value]=r}m===!0&&d.push(h)}return d}};L.QueryEngine.prototype.resolveNsInEnvironment=function(c,b){return b.namespaces[c]};L.QueryEngine.prototype.normalizeTerm=function(c,b,d,f){if(c.token==="uri")c=A.lexicalFormBaseUri(c,b),c==null?f(!1,"The prefix "+prefix+" cannot be resolved in the current environment"):d?this.lexicon.registerUri(c,function(b){f(!0,b)}):this.lexicon.resolveUri(c,function(b){f(!0,b)});else if(c.token===
"literal")c=A.lexicalFormLiteral(c,b),d?this.lexicon.registerLiteral(c,function(b){f(!0,b)}):this.lexicon.resolveLiteral(c,function(b){f(!0,b)});else if(c.token==="blank"){var e=c.label,c=b.blanks[e];c!=null?f(!0,c):d?this.lexicon.registerBlank(e,function(c){b.blanks[e]=c;f(!0,c)}):this.lexicon.resolveBlank(e,function(c){b.blanks[e]=c;f(!0,c)})}else c.token==="var"?f(!0,c.value):f(!1,"Token of kind "+c.token+" cannot be normalized")};L.QueryEngine.prototype.normalizeDatasets=function(c,b,d){var f=
this;A.repeat(0,c.length,function(e,h){var m=arguments.callee,o=c[h._i];o.value===f.lexicon.defaultGraphUri?(o.oid=f.lexicon.defaultGraphOid,e(m,h)):f.normalizeTerm(o,b,!1,function(b,c){b?(o.oid=c,e(m,h)):d(b,c)})},function(){d(!0,"ok")})};L.QueryEngine.prototype.normalizeQuad=function(c,b,d,f){var e=null,h=null,m=null,o=null,r=this,u=!1;A.seq(function(e){c.graph==null?(o=0,e()):r.normalizeTerm(c.graph,b,d,function(b,c){u===!1&&(b===!0?o=c:u=!0);d===!0&&!u?r.lexicon.registerGraph(c,function(b){b===
!1&&(u=!0);e()}):e()})},function(f){r.normalizeTerm(c.subject,b,d,function(b,c){u===!1&&(b===!0?e=c:u=!0);f()})},function(e){r.normalizeTerm(c.predicate,b,d,function(b,c){u===!1&&(b===!0?h=c:u=!0);e()})},function(e){r.normalizeTerm(c.object,b,d,function(b,c){u===!1&&(b===!0?m=c:u=!0);e()})})(function(){u?f(!1,"Error normalizing quad"):f(!0,{subject:e,predicate:h,object:m,graph:o})})};L.QueryEngine.prototype.denormalizeBindingsList=function(c,b,d){var f=[],e=this;A.repeat(0,c.length,function(h,m){var o=
arguments.callee;e.denormalizeBindings(c[m._i],b,function(b,c){b?(f.push(c),h(o,m)):d(!1,c)})},function(){d(!0,f)})};L.QueryEngine.prototype.copyDenormalizedBindings=function(c,b,d){var f=this,e=[];A.repeat(0,c.length,function(d,m){var o={},r=arguments.callee,u=c[m._i],w=A.keys(u);A.repeat(0,w.length,function(c,d){var e=arguments.callee,h=u[w[d._i]];if(h==null)o[w[d._i]]=null,c(e,d);else if(typeof h==="object")o[w[d._i]]=h,c(e,d);else{var m=b[h];m!=null?(o[w[d._i]]=m,c(e,d)):f.lexicon.retrieve(h,
function(f){b[h]=f;o[w[d._i]]=f;c(e,d)})}},function(){e.push(o);d(r,m)})},function(){d(!0,e)})};L.QueryEngine.prototype.denormalizeBindings=function(c,b,d){var f=A.keys(c),e=this;A.repeat(0,f.length,function(d,m){var o=arguments.callee,r=c[f[m._i]];r==null?(c[f[m._i]]=null,d(o,m)):b[r]!=null?(c[f[m._i]]=b[r],d(o,m)):e.lexicon.retrieve(r,function(b){c[f[m._i]]=b;d(o,m)})},function(){d(!0,c)})};L.QueryEngine.prototype.execute=function(c,b,d,f){try{var c=A.normalizeUnicodeLiterals(c),e=this.abstractQueryTree.parseQueryString(c);
if(e==null)b(!1,"Error parsing query string");else if(e.token==="query"&&e.kind=="update"){this.callbacksBackend.startGraphModification();var h=this;this.executeUpdate(e,function(c,d){c?h.callbacksBackend.endGraphModification(function(){b(c,d)}):(h.callbacksBackend.cancelGraphModification(),b(c,d))})}else e.token==="query"&&e.kind=="query"&&this.executeQuery(e,b,d,f)}catch(m){m.name&&m.name==="SyntaxError"?b(!1,"Syntax error: \nmessage:"+m.message+"\nline "+m.line+", column:"+m.column):b(!1,"Query execution error")}};
L.QueryEngine.prototype.executeQuery=function(c,b,d,f){var e=c.units,h=this,m={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,m);var o=h.abstractQueryTree.parseExecutableUnit(e[0]);if(o.kind==="select")this.executeSelect(o,m,d,f,function(c,d){c?typeof d==="object"&&d.denorm===!0?b(!0,d.bindings):h.denormalizeBindingsList(d,m.outCache,function(c,d){c?b(!0,d):b(!1,d)}):b(!1,d)});else if(o.kind==="ask")o.projection=[{token:"variable",kind:"*"}],this.executeSelect(o,m,d,f,function(c,d){c?
c?d.length>0?b(!0,!0):b(!0,!1):b(!1,d):b(!1,d)});else if(o.kind==="construct")o.projection=[{token:"variable",kind:"*"}],h=this,this.executeSelect(o,m,d,f,function(c,d){c?c?h.denormalizeBindingsList(d,m.outCache,function(c,d){if(c){var e=new D.Graph;if(o.template==null)o.template={triplesContext:o.pattern};for(var f=1,j=0;j<d.length;j++)for(var r=d[j],u={},A=0;A<o.template.triplesContext.length;A++){for(var G=["subject","predicate","object"],I=o.template.triplesContext[A],H=0;H<G.length;H++){var L=
G[H];if(I[L].token==="blank")if(u[I[L].value]!=null)I[L].value=u[I[L].value];else{var O="_:b"+f;f++;u[I[L].value]=O;I[L].value=O}}G=D.buildRDFResource(I.subject,r,h,m);H=D.buildRDFResource(I.predicate,r,h,m);I=D.buildRDFResource(I.object,r,h,m);G!=null&&H!=null&&I!=null&&(H=new D.Triple(G,H,I),e.add(H))}b(!0,e)}else b(!1,d)}):b(!1,d):b(!1,d)})};L.QueryEngine.prototype.executeSelect=function(c,b,d,f,e){if(c.kind==="select"||c.kind==="ask"||c.kind==="construct"||c.kind==="modify"){var h=c.projection,
m=c.dataset,o=c.modifier,r=c.limit,u=c.offset,w=c.order,x=this;if(d!=null||f!=null)m["default"]=d||[],m.named=f||[];m["default"]!=null&&m["default"].length===0&&m.named!=null&&m.named.length===0&&m["default"].push(this.lexicon.defaultGraphUriTerm);x.normalizeDatasets(m["default"].concat(m.named),b,function(d,f){d?x.executeSelectUnit(h,m,c.pattern,b,function(d,f){if(d){if(c.group!=null&&c.group===""){for(var j=!1,C=0;C<c.projection.length;C++)if(c.projection[C].expression!=null&&c.projection[C].expression.expressionType===
"aggregate"){j=!0;break}if(j===!0)c.group="singleGroup"}c.group&&c.group!=""?x.checkGroupSemantics(c.group,h)?x.groupSolution(f,c.group,b,function(c,d){var f=[],j=!1;A.repeat(0,d.length,function(c,e){var m=arguments.callee;j?c(m,e):x.aggregateBindings(h,d[e._i],b,function(b,d){b?f.push(d):j=!0;c(m,e)})},function(){e(!j,{bindings:f,denorm:!0})})}):e(!1,"Incompatible Group and Projection variables"):x.applyOrderBy(w,f,b,function(b,c){if(b){var d=x.projectBindings(h,c);modifiedBindings=x.applyModifier(o,
d);d=x.applyLimitOffset(u,r,modifiedBindings);filteredBindings=x.removeDefaultGraphBindings(d,m);e(!0,filteredBindings)}else e(!1,c)})}else e(!1,f)}):e(!1,f)})}else e(!1,"Cannot execute "+c.kind+" query as a select query")};L.QueryEngine.prototype.groupSolution=function(c,b,d,j){var e=[],h=[],m=!1,o=this;b==="singleGroup"?j(!0,[c]):A.repeat(0,c.length,function(j,u){var w=arguments.callee,x=c[u._i],C=!0;A.repeat(0,b.length,function(c,h){var j=arguments.callee,r=b[h._i],u=null;r.token==="var"?(u=r.value,
m==!1&&e.push(u),c(j,h)):r.token==="aliased_expression"?(u=r.alias.value,m==!1&&e.push(u),r.expression.primaryexpression==="var"?(x[r.alias.value]=x[r.expression.value.value],c(j,h)):o.copyDenormalizedBindings([x],d.outCache,function(b,e){var m=f.runFilter(r.expression,e[0],o,d);if(f.isEbvError(m))C=!1;else{if(m.value!=null)m.value=""+m.value;x[r.alias.value]=m}c(j,h)})):o.copyDenormalizedBindings([x],d.outCache,function(b,w){var A=f.runFilter(r,w[0],o,d);f.isEbvError(A)?C=!1:(x["groupCondition"+
h._i]=A,u="groupCondition"+h._i,m==!1&&e.push(u));c(j,h)})},function(){m==!1&&(m=!0);C===!0&&h.push(x);j(w,u)})},function(){for(var b={},c=0;c<h.length;c++){for(var d=h[c],f="",m=0;m<e.length;m++){var o=d[e[m]];f+=typeof o==="object"?o.value:o}b[f]==null?b[f]=[d]:b[f].push(d)}var c=[],A;for(A in b)c.push(b[A]);j(!0,c)})};L.QueryEngine.prototype.executeSelectUnit=function(c,b,d,j,e){if(d.kind==="BGP")this.executeAndBGP(c,b,d,j,e);else if(d.kind==="UNION")this.executeUNION(c,b,d.value,j,e);else if(d.kind===
"JOIN")this.executeJOIN(c,b,d,j,e);else if(d.kind==="LEFT_JOIN")this.executeLEFT_JOIN(c,b,d,j,e);else if(d.kind==="FILTER"){var h=this;this.executeSelectUnit(c,b,d.value,j,function(b,c){b?f.checkFilters(d,c,!1,j,h,e):e(!1,c)})}else d.kind==="EMPTY_PATTERN"?e(!0,[]):e(!1,"Cannot execute query pattern "+d.kind+". Not implemented yet.")};L.QueryEngine.prototype.executeUNION=function(c,b,d,j,e){var h=d[0],m=d[1],o=null,r=null;if(d.length!=2)throw"SPARQL algebra UNION with more than two components";var u=
this;A.seq(function(d){u.executeSelectUnit(c,b,h,j,function(b,c){return b?(o=c,d()):e(!1,c)})},function(d){u.executeSelectUnit(c,b,m,j,function(b,c){return b?(r=c,d()):e(!1,c)})})(function(){var b=G.unionBindings(o,r);f.checkFilters(d,b,!1,j,u,e)})};L.QueryEngine.prototype.executeAndBGP=function(c,b,d,j,e){var h=this;G.executeAndBGPs(d.value,b,this,j,function(b,c){b?f.checkFilters(d,c,!1,j,h,e):e(!1,c)})};L.QueryEngine.prototype.executeLEFT_JOIN=function(c,b,d,j,e){var h=d.lvalue,m=d.rvalue,o=null,
r=null,u=this;A.seq(function(d){u.executeSelectUnit(c,b,h,j,function(b,c){return b?(o=c,d()):e(!1,c)})},function(d){u.executeSelectUnit(c,b,m,j,function(b,c){return b?(r=c,d()):e(!1,c)})})(function(){var b=G.leftOuterJoinBindings(o,r);f.checkFilters(d,b,!0,j,u,function(b,c){if(b)if(o.length>1&&r.length>1){var d=[],f={},h;for(h in o[0])f[h]=!0;for(h in r[0])f[h]!=!0&&d.push(h);acum=[];duplicates={};for(f=0;f<c.length;f++)if(c[f].__nullify__===!0){for(var j=0;j<d.length;j++)c[f].bindings[d[j]]=null;
var j=[],m=[];for(h in c[f].bindings)c[f].bindings[h]!=null&&(j.push(h+c[f].bindings[h]),j.sort(),m.push(j.join("")));if(duplicates[j.join("")]==null){for(j=0;j<m.length;j++)duplicates[m[j]]=!0;acum.push(c[f].bindings)}}else for(h in acum.push(c[f]),j=[],c[f])j.push(h+c[f][h]),j.sort(),duplicates[j.join("")]=!0;e(!0,acum)}else e(!0,c);else e(!1,c)})})};L.QueryEngine.prototype.executeJOIN=function(c,b,d,j,e){var h=d.lvalue,m=d.rvalue,o=null,r=null,u=this;A.seq(function(d){u.executeSelectUnit(c,b,h,
j,function(b,c){return b?(o=c,d()):e(!1,c)})},function(d){u.executeSelectUnit(c,b,m,j,function(b,c){return b?(r=c,d()):e(!1,c)})})(function(){var b=G.joinBindings(o,r);f.checkFilters(d,b,!1,j,u,e)})};L.QueryEngine.prototype.rangeQuery=function(c,b,d){var f=this;f.normalizeQuad(c,b,!1,function(b,h){b==!0?f.backend.range(new V.Pattern(h),function(b){b==null||b.length==0?d(!0,[]):d(!0,b)}):d(!1,"Cannot normalize quad: "+c)})};L.QueryEngine.prototype.executeUpdate=function(c,b){var d=c.units,f=this,e=
{blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,e);for(var h=0;h<d.length;h++){var m=f.abstractQueryTree.parseExecutableUnit(d[h]);if(m.kind==="insertdata")A.repeat(0,m.quads.length,function(c,d){var h=arguments.callee;f._executeQuadInsert(m.quads[d._i],e,function(e,f){e===!0?c(h,d):b(!1,f)})},function(){b(!0)});else if(m.kind==="deletedata")A.repeat(0,m.quads.length,function(c,d){var h=arguments.callee;f._executeQuadDelete(m.quads[d._i],e,function(e,f){e===!0?c(h,d):b(!1,f)})},function(){b(!0)});
else if(m.kind==="modify")this._executeModifyQuery(m,e,b);else if(m.kind==="create")b(!0);else if(m.kind==="load"){var o={uri:A.lexicalFormBaseUri(m.sourceGraph,e)};m.destinyGraph!=null&&(o={uri:A.lexicalFormBaseUri(m.destinyGraph,e)});f=this;this.rdfLoader.load(m.sourceGraph.value,o,function(c,d){c==!1?(console.log("Error loading graph"),console.log(d)):f.batchLoad(d,b)})}else if(m.kind==="drop")this._executeClearGraph(m.destinyGraph,e,b);else if(m.kind==="clear")this._executeClearGraph(m.destinyGraph,
e,b);else throw Error("not supported execution unit");}};L.QueryEngine.prototype.batchLoad=function(c,b){var d=this,f=null,e=null,h=null,m=null,o=A.stackCounterLimit;A.stackCounter=0;A.stackCounterLimit=10;A.repeat(0,c.length,function(b,o){if(o.success==null)o.success=!0,o.counter=0;var w=arguments.callee,x=c[o._i];o.success?A.seq(function(b){x.subject.uri||x.subject.token==="uri"?d.lexicon.registerUri(x.subject.uri||x.subject.value,function(c){f=c;b()}):x.subject.literal||x.subject.token==="literal"?
d.lexicon.registerLiteral(x.subject.literal||x.subject.value,function(c){f=c;b()}):d.lexicon.registerBlank(x.subject.blank||x.subject.value,function(c){f=c;b()})},function(b){x.predicate.uri||x.predicate.token==="uri"?d.lexicon.registerUri(x.predicate.uri||x.predicate.value,function(c){e=c;b()}):x.predicate.literal||x.predicate.token==="literal"?d.lexicon.registerLiteral(x.predicate.literal||x.predicate.value,function(c){e=c;b()}):d.lexicon.registerBlank(x.predicate.blank||x.predicate.value,function(c){e=
c;b()})},function(b){x.object.uri||x.object.token==="uri"?d.lexicon.registerUri(x.object.uri||x.object.value,function(c){h=c;b()}):x.object.literal||x.object.token==="literal"?d.lexicon.registerLiteral(x.object.literal||x.object.value,function(c){h=c;b()}):d.lexicon.registerBlank(x.object.blank||x.object.value,function(c){h=c;b()})},function(b){x.graph.uri||x.graph.token==="uri"?d.lexicon.registerUri(x.graph.uri||x.graph.value,function(c){d.lexicon.registerGraph(c,function(){m=c;b()})}):x.graph.literal||
x.graph.token==="literal"?d.lexicon.registerLiteral(x.graph.literal||x.graph.value,function(c){m=c;b()}):d.lexicon.registerBlank(x.graph.blank||x.graph.value,function(c){m=c;b()})})(function(){var c=new V.NodeKey({subject:f,predicate:e,object:h,graph:m});d.backend.index(c,function(c){c==!0?o.counter+=1:o.success=!1;b(w,o)})}):b(w,o)},function(c){A.stackCounterLimit=o;c.success?b(!0,c.counter):b(!1,"error loading quads")})};L.QueryEngine.prototype._executeModifyQuery=function(c,b,d){var f=this,e=!0,
h=null,m=["subject","predicate","object","graph"];c.insert=c.insert==null?[]:c.insert;c["delete"]=c["delete"]==null?[]:c["delete"];A.seq(function(d){var m=[],u=[];c["with"]!=null&&m.push(c["with"]);if(c.using!=null)for(var u=[],w=0;w<c.using.length;w++){var x=c.using[w];x.kind==="named"?u.push(x.uri):m.push(x.uri)}c.dataset={};c.projection=[{token:"variable",kind:"*"}];f.executeSelect(c,b,m,u,function(c,m){return c?f.denormalizeBindingsList(m,b.outCache,function(b,c){b?h=c:e=!1;return d()}):(e=!1,
d())})},function(d){var r=c["with"];if(e){for(var u=[],w=0;w<c["delete"].length;w++)for(var x=c["delete"][w],C=0;C<h.length;C++){for(var D={},G=h[C],I=0;I<m.length;I++){var H=m[I];H=="graph"&&x[H]==null?D.graph=r:D[H]=x[H].token==="var"?G[x[H].value]:x[H]}u.push(D)}A.repeat(0,u.length,function(c,d){var e=arguments.callee;f._executeQuadDelete(u[d._i],b,function(){c(e,d)})},function(){d()})}else d()},function(d){var r=c["with"];if(e){for(var u=[],w=0;w<c.insert.length;w++)for(var x=c.insert[w],C=0;C<
h.length;C++){for(var D={},G=h[C],I=0;I<m.length;I++){var H=m[I];H=="graph"&&x[H]==null?D.graph=r:D[H]=x[H].token==="var"?G[x[H].value]:x[H]}u.push(D)}A.repeat(0,u.length,function(c,d){var e=arguments.callee;f._executeQuadInsert(u[d._i],b,function(){c(e,d)})},function(){d()})}else d()})(function(){d(e)})};L.QueryEngine.prototype._executeQuadInsert=function(c,b,d){var f=this;this.normalizeQuad(c,b,!0,function(b,h){if(b===!0){var m=new V.NodeKey(h);f.backend.search(m,function(b){b?d(!0,"duplicated"):
f.backend.index(m,function(b,e){b==!0?(f.callbacksBackend.nextGraphModification(I.added,[c,h]),d(!0)):d(!1,e)})})}else d(!1,result)})};L.QueryEngine.prototype._executeQuadDelete=function(c,b,d){var f=this;this.normalizeQuad(c,b,!1,function(b,h){if(b===!0){var m=new V.NodeKey(h);f.backend["delete"](m,function(){f.lexicon.unregister(c,m,function(b,e){b==!0?(f.callbacksBackend.nextGraphModification(I.deleted,[c,h]),d(!0)):d(!1,e)})})}else d(!1,result)})};L.QueryEngine.prototype._executeClearGraph=function(c,
b,d){if(c==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d);else if(c==="named"){var f=this;this.lexicon.registeredGraphs(!0,function(b,c){if(b===!0){var m=!1;A.repeat(0,c.length,function(b,d){var e=c[d._i],w=arguments.callee;m?b(w,d):f.execute("DELETE { GRAPH <"+e+"> { ?s ?p ?o } } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",function(c){m=!c;b(w,d)})},function(){d(!m)})}else d(!1,"Error deleting named graphs")})}else c==="all"?(f=this,this.execute("CLEAR DEFAULT",function(b,c){b?f.execute("CLEAR NAMED",
d):d(!1,c)})):c.token=="uri"?(c=A.lexicalFormBaseUri(c,b),c!=null?this.execute("DELETE { GRAPH <"+c+"> { ?s ?p ?o } } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",d):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};L.QueryEngine.prototype.checkGroupSemantics=function(c,b){if(c==="singleGroup")return!0;for(var d={},f=0;f<c.length;f++){var e=c[f];e.token==="var"?d[e.value]=!0:e.token==="aliased_expression"&&(d[e.alias.value]=!0)}for(f=0;f<b.length;f++)if(e=b[f],e.kind==="var"){if(d[e.value.value]==null)return!1}else if(e.kind===
"aliased"&&e.expression&&e.expression.primaryexpression==="var"&&d[e.expression.value.value]==null)return!1;return!0};var I={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(c){this.aqt=new X.AbstractQueryTree;this.engine=c;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG",
"GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(c=0;c<this.indices.length;c++){var b=
this.indices[c];this.indexMap[b]={};this.queriesIndexMap[b]={}}}};I.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};I.CallbacksBackend.prototype.nextGraphModification=function(c,b){this.updateInProgress[c].push(b)};I.CallbacksBackend.prototype.endGraphModification=function(c){var b=this;if(this.updateInProgress!=null){var d=b.updateInProgress;
b.updateInProgress=null;this.sendNotification(I.deleted,d[I.deleted],function(){b.sendNotification(I.added,d[I.added],function(){b.sendEmptyNotification(I.eventsFlushed,null,function(){b.dispatchQueries(function(){c(!0)})})})})}else c(!0)};I.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};I.CallbacksBackend.prototype.sendNotification=function(c,b,d){for(var f={},e=0;e<b.length;e++){var h=b[e],m;for(m in this.indexMap){var o=this.indexMap[m],r=this.componentOrders[m];
this._searchCallbacksInIndex(o,r,c,h,f);this.pendingQueries.length!=0&&(o=this.queriesIndexMap[m],this._searchQueriesInIndex(o,r,h))}}this.dispatchNotifications(f);d!=null&&d(!0)};I.CallbacksBackend.prototype.sendEmptyNotification=function(c,b,d){for(var f=this.emptyNotificationsMap[c]||[],e=0;e<f.length;e++)f[e](c,b);d()};I.CallbacksBackend.prototype.dispatchNotifications=function(c){for(var b in c){var d=this.callbacksMap[b],f=c[b][I.deleted];f!=null&&d(I.deleted,f);for(var e in c[b])e!=I.deleted&&
d(e,c[b][e])}};I.CallbacksBackend.prototype._searchCallbacksInIndex=function(c,b,d,f,e){for(var h=f[1],f=f[0],m=0;m<b.length+1;m++){for(var o=c._||[],r=[],u=0;u<o.length;u++){var w=o[u];this.callbacksMap[w]!=null&&(e[w]=e[w]||{},e[w][d]=e[w][d]||[],e[w][d].push(f),r.push(w))}c._=r;o=b[m];if(c[""+h[o]]!=null)c=c[""+h[o]];else break}};I.CallbacksBackend.prototype.subscribeEmpty=function(c,b){var d=this.emptyNotificationsMap[c]||[];d.push(b);this.emptyNotificationsMap[c]=d};I.CallbacksBackend.prototype.unsubscribeEmpty=
function(c,b){var d=this.emptyNotificationsMap[c];d!=null&&(d=A.remove(d,b));this.emptyNotificationsMap[c]=d};I.CallbacksBackend.prototype.subscribe=function(c,b,d,f,e,h){var m=this;this.engine.normalizeQuad(this._tokenizeComponents(c,b,d,f),{blanks:{},outCache:{}},!0,function(b,c){if(b==!0){for(var d=new V.Pattern(c),f=m._indexForPattern(d),d=m.componentOrders[f],f=m.indexMap[f],j=0;j<d.length;j++){var A=c[d[j]];if(A==="_"){f._==null&&(f._=[]);m.callbackCounter++;f._.push(m.callbackCounter);m.callbacksMap[m.callbackCounter]=
e;m.callbacksInverseMap[e]=m.callbackCounter;break}else j===d.length-1?(f[A]=f[A]||{_:[]},m.callbackCounter++,f[A]._.push(m.callbackCounter),m.callbacksMap[m.callbackCounter]=e,m.callbacksInverseMap[e]=m.callbackCounter):(f[A]=f[A]||{},f=f[A])}h!=null&&h(!0)}else h(!1)})};I.CallbacksBackend.prototype.unsubscribe=function(c){var b=this.callbacksInverseMap[c];b!=null&&(delete this.callbacksInverseMap[c],delete this.callbacksMap[b])};I.CallbacksBackend.prototype._tokenizeComponents=function(c,b,d,f){var e=
{};e.subject=c==null?I.ANYTHING:{token:"uri",value:c};e.predicate=b==null?I.ANYTHING:{token:"uri",value:b};e.object=d==null?I.ANYTHING:{token:"uri",value:d};e.graph=f==null?I.ANYTHING:{token:"uri",value:f};return e};I.CallbacksBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,d=0;d<b.length;d++)for(var f=b[d],e=this.componentOrders[f],h=0;h<e.length;h++){if(A.include(c,e[h])===!1)break;if(h==c.length-1)return f}return"SPOG"};I.CallbacksBackend.prototype.observeNode=
function(){var c,b,d,f;arguments.length===4?(c=arguments[0],b=arguments[1],d=arguments[2],f=arguments[3]):(c=arguments[0],b=this.engine.lexicon.defaultGraphUri,d=arguments[1],f=arguments[2]);var e=this,h={blanks:{},outCache:{}},m=[];this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+c+"> ?p ?o } }",function(b,r){if(b){var u=!1,w=function(b,c){if(b==="eventsFlushed"&&u)u=!1,d(r);else{u=!0;for(var f=0;f<c.length;f++){var j=c[f],o=D.buildRDFResource(j.subject,m,e.engine,h),w=
D.buildRDFResource(j.predicate,m,e.engine,h),j=D.buildRDFResource(j.object,m,e.engine,h);o!=null&&w!=null&&j!=null&&(j=new D.Triple(o,w,j),b===I.added?r.add(j):b===I.deleted&&r.remove(j))}}};e.observersMap[d]=w;e.subscribeEmpty(I.eventsFlushed,w);e.subscribe(c,null,null,null,w,f);d(r)}else f(!1)})};I.CallbacksBackend.prototype.stopObservingNode=function(c){return(c=this.observersMap[c])?(this.unsubscribe(c),this.unsubscribeEmpty(I.eventsFlushed,c),!0):!1};I.CallbacksBackend.prototype.observeQuery=
function(c,b,d){var f=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(c).units[0])),e=this,h={blanks:{},outCache:{}},m,o,r,u,w,x,C=this.queryCounter;this.queryCounter++;this.queriesMap[C]=c;this.queriesInverseMap[c]=C;this.queriesList.push(C);this.queriesCallbacksMap[C]=b;A.repeat(0,f.length,function(b,c){m=arguments.callee;r=f[c._i];if(r.graph==null)r.graph=e.engine.lexicon.defaultGraphUriTerm;e.engine.normalizeQuad(r,h,!0,function(d,f){o=new V.Pattern(f);u=e._indexForPattern(o);
w=e.componentOrders[u];x=e.queriesIndexMap[u];for(var h=0;h<w.length;h++){var j=f[w[h]];if(typeof j==="string"){x._==null&&(x._=[]);x._.push(C);break}else h===w.length-1?(x[j]=x[j]||{_:[]},x[j]._.push(C)):(x[j]=x[j]||{},x=x[j])}b(m,c)})},function(){e.engine.execute(c,function(c,d){c?b(d):console.log("ERROR in query callback "+d)});d!=null&&d()})};I.CallbacksBackend.prototype.stopObservingQuery=function(c){var b=this.queriesInverseMap[c];if(b!=null)delete this.queriesInverseMap[c],delete this.queriesMap[b],
this.queriesList=A.remove(this.queriesList,b)};I.CallbacksBackend.prototype._searchQueriesInIndex=function(c,b,d){for(var d=d[1],f=0;f<b.length+1;f++){for(var e=c._||[],h=[],m=0;m<e.length;m++){var o=e[m];A.include(this.pendingQueries,o)&&(A.remove(this.pendingQueries,o),this.matchedQueries.push(o));this.queriesMap[o]!=null&&h.push(o)}c._=h;e=b[f];if(c[""+d[e]]!=null)c=c[""+d[e]];else break}};I.CallbacksBackend.prototype.dispatchQueries=function(c){var b=this,d,f,e,h;A.repeat(0,this.matchedQueries.length,
function(c,o){d=arguments.callee;e=b.matchedQueries[o._i];f=b.queriesMap[e];h=b.queriesCallbacksMap[e];A.recur(function(){b.engine.execute(f,function(b,e){b?h(e):console.log("ERROR executing query callback "+e);c(d,o)})})},function(){c()})};var O={};O.create=function(){return arguments.length==1?new O.Store(arguments[0]):arguments.length==2?new O.Store(arguments[0],arguments[1]):new O.Store};O.Store=function(c,b){var d=null,f=null;if(arguments.length==0)f={};else if(arguments.length==1)f={},d=c;else if(arguments.length>
1)f=c,d=b;else throw"An optional argument map and a callback must be provided";f.treeOrder==null&&(f.treeOrder=2);this.rdf=D.rdf;this.functionMap={};var e=this;new S.Lexicon(function(b){new fa.QuadBackend(f,function(c){f.backend=c;f.lexicon=b;e.engine=new L.QueryEngine(f);d&&d(e)})})};O.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],
arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);this.engine.execute(c,b)}};O.Store.prototype.executeWithEnvironment=function(){var c,b,d,f;arguments.length===3?(c=arguments[0],b=function(){},d=arguments[1],f=arguments[2]):arguments.length===4&&(c=arguments[0],b=arguments[3],d=arguments[1],f=arguments[2]);this.engine.execute(c,b,d,f)};O.Store.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=
arguments[0]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",b)};O.Store.prototype.node=function(){var c=null,b=null,d=null;if(arguments.length===2)d=arguments[0],b=arguments[1]||function(){},c=this.engine.lexicon.defaultGraphUri;
else if(arguments.length===3)d=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+d+"> ?p ?o } }",b)};O.Store.prototype.startObservingNode=function(){var c,b,d;arguments.length===2?(c=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(c,
d,function(){})):arguments.length===3&&(c=arguments[0],b=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(c,b,d,function(){}))};O.Store.prototype.stopObservingNode=function(c){this.engine.callbacksBackend.stopObservingNode(c)};O.Store.prototype.startObservingQuery=function(c,b,d){d!=null?this.engine.callbacksBackend.observeQuery(uri,b,d):this.engine.callbacksBackend.observeQuery(uri,b,function(){})};O.Store.prototype.stopObservingQuery=function(c){this.engine.callbacksBackend.stopObservingQuery(c)};
O.Store.prototype.subscribe=function(c,b,d,f,e){var h=function(b,c){for(var d=[],f={blanks:{},outCache:{}},h=[],j=0;j<c.length;j++){var A=c[j],G=D.buildRDFResource(A.subject,h,this.engine,f),H=D.buildRDFResource(A.predicate,h,this.engine,f),A=D.buildRDFResource(A.object,h,this.engine,f);G!=null&&H!=null&&A!=null&&(A=new D.Triple(G,H,A),d.push(A))}e(b,d)};this.functionMap[e]=h;this.engine.callbacksBackend.subscribe(c,b,d,f,h,function(){})};O.Store.prototype.unsubscribe=function(c){this.engine.callbacksBackend.unsubscribe(this.functionMap[c]);
delete this.functionMap[c]};O.Store.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b)};O.Store.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c)};O.Store.prototype.insert=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};
else throw"The triples to insert, an optional graph and callback must be provided";var f="",e=this;b.forEach(function(b){f=f+e._nodeToQuery(b.subject)+e._nodeToQuery(b.predicate)+e._nodeToQuery(b.object)+"."});f=c!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(c)+" { "+f+" } }":"INSERT DATA { "+this._nodeToQuery(c)+" { "+f+" }";this.engine.execute(f,d)};O.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+
">"}else return c.toString()};O.Store.prototype["delete"]=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var f="",e=this;b.forEach(function(b){f=f+e._nodeToQuery(b.subject)+
e._nodeToQuery(b.predicate)+e._nodeToQuery(b.object)+"."});f=c!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(c)+" { "+f+" } }":"DELETE DATA { "+this._nodeToQuery(c)+" { "+f+" }";this.engine.execute(f,d)};O.Store.prototype.clear=function(){var c,b;if(arguments.length===1)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(arguments.length===2)c=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";
this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(c),b)};O.Store.prototype.load=function(){var c,b,d,f;if(arguments.length===3)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],b=arguments[1],f=arguments[2]||function(){};else if(arguments.length===4)c=arguments[0],b=arguments[1],d=this.rdf.createNamedNode(arguments[2]),f=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";
if(c==="remote")b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",f);else if(b&&typeof b==="string"&&b.indexOf("file://")===0){c=this.engine.rdfLoader.parsers[c];var e=this;this.engine.rdfLoader.loadFromFile(c,{token:"uri",value:d.valueOf()},b,function(b,c){b?e.engine.batchLoad(c,f):f(b,c)})}else c=this.engine.rdfLoader.parsers[c],e=this,this.engine.rdfLoader.tryToParse(c,{token:"uri",value:d.valueOf()},b,function(b,c){b?e.engine.batchLoad(c,f):
f(b,c)})};O.Store.prototype.registerParser=function(c,b){this.engine.rdfLoader.registerParser(c,b)};O.Store.prototype.registeredGraphs=function(c){this.engine.lexicon.registeredGraphs(!0,function(b,d){if(b){for(var f=[],e=0;e<d.length;e++){var h=new D.NamedNode(d[e]);f.push(h)}return c(!0,f)}else return c(b,d)})};O.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};O.Store.prototype.getNetworkTransport=
function(){return Y};O.Store.prototype.setNetworkTransport=function(c){Y=c};window.rdfstore=O})(window);
