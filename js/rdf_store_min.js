!function(ma){if("object"==typeof exports)module.exports=ma();else if("function"==typeof define&&define.amd)define(ma);else{var q;"undefined"!=typeof window?q=window:"undefined"!=typeof global?q=global:"undefined"!=typeof self&&(q=self);q.rdfstore=ma()}}(function(){return function q(z,x,k){function n(a,e){if(!x[a]){if(!z[a]){var c="function"==typeof require&&require;if(!e&&c)return c(a,!0);if(b)return b(a,!0);throw Error("Cannot find module '"+a+"'");}c=x[a]={exports:{}};z[a][0].call(c.exports,function(b){var e=
z[a][1][b];return n(e?e:b)},c,c.exports,q,z,x,k)}return x[a].exports}for(var b="function"==typeof require&&require,c=0;c<k.length;c++)n(k[c]);return n}({1:[function(q,z,x){},{}],2:[function(q,z,x){function k(a,b,e){if(!(this instanceof k))return new k(a,b,e);var d=typeof a;if("base64"===b&&"string"===d)for(a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");0!==a.length%4;)a+="=";var c;if("number"===d)c=u(a);else if("string"===d)c=k.byteLength(a,b);else if("object"===d)c=u(a.length);else throw Error("First argument needs to be a number, array or string.");
var h;k._useTypedArrays?h=k._augment(new Uint8Array(c)):(h=this,h.length=c,h._isBuffer=!0);if(k._useTypedArrays&&"number"===typeof a.byteLength)h._set(a);else{var g=a;if(I(g)||k.isBuffer(g)||g&&"object"===typeof g&&"number"===typeof g.length)for(b=0;b<c;b++)k.isBuffer(a)?h[b]=a.readUInt8(b):h[b]=a[b];else if("string"===d)h.write(a,0,b);else if("number"===d&&!k._useTypedArrays&&!e)for(b=0;b<c;b++)h[b]=0}return h}function n(a,b,e){var d="";for(e=Math.min(a.length,e);b<e;b++)d+=String.fromCharCode(a[b]);
return d}function b(a,b,e,d){d||(v("boolean"===typeof e,"missing or invalid endian"),v(void 0!==b&&null!==b,"missing offset"),v(b+1<a.length,"Trying to read beyond buffer length"));d=a.length;if(!(b>=d))return e?(e=a[b],b+1<d&&(e|=a[b+1]<<8)):(e=a[b]<<8,b+1<d&&(e|=a[b+1])),e}function c(a,b,e,d){d||(v("boolean"===typeof e,"missing or invalid endian"),v(void 0!==b&&null!==b,"missing offset"),v(b+3<a.length,"Trying to read beyond buffer length"));d=a.length;if(!(b>=d)){var c;e?(b+2<d&&(c=a[b+2]<<16),
b+1<d&&(c|=a[b+1]<<8),c|=a[b],b+3<d&&(c+=a[b+3]<<24>>>0)):(b+1<d&&(c=a[b+1]<<16),b+2<d&&(c|=a[b+2]<<8),b+3<d&&(c|=a[b+3]),c+=a[b]<<24>>>0);return c}}function a(a,e,d,c){c||(v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+1<a.length,"Trying to read beyond buffer length"));if(!(e>=a.length))return a=b(a,e,d,!0),a&32768?-1*(65535-a+1):a}function e(a,b,e,d){d||(v("boolean"===typeof e,"missing or invalid endian"),v(void 0!==b&&null!==b,"missing offset"),
v(b+3<a.length,"Trying to read beyond buffer length"));if(!(b>=a.length))return a=c(a,b,e,!0),a&2147483648?-1*(4294967295-a+1):a}function g(a,b,e,d){d||(v("boolean"===typeof e,"missing or invalid endian"),v(b+3<a.length,"Trying to read beyond buffer length"));return O.read(a,b,e,23,4)}function h(a,b,e,d){d||(v("boolean"===typeof e,"missing or invalid endian"),v(b+7<a.length,"Trying to read beyond buffer length"));return O.read(a,b,e,52,8)}function d(a,b,e,d,c){c||(v(void 0!==b&&null!==b,"missing value"),
v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+1<a.length,"trying to write beyond buffer length"),t(b,65535));var h=a.length;if(!(e>=h))for(c=0,h=Math.min(h-e,2);c<h;c++)a[e+c]=(b&255<<8*(d?c:1-c))>>>8*(d?c:1-c)}function f(a,b,e,d,c){c||(v(void 0!==b&&null!==b,"missing value"),v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+3<a.length,"trying to write beyond buffer length"),t(b,4294967295));var h=a.length;
if(!(e>=h))for(c=0,h=Math.min(h-e,4);c<h;c++)a[e+c]=b>>>8*(d?c:3-c)&255}function l(a,b,e,c,h){h||(v(void 0!==b&&null!==b,"missing value"),v("boolean"===typeof c,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+1<a.length,"Trying to write beyond buffer length"),w(b,32767,-32768));e>=a.length||(0<=b?d(a,b,e,c,h):d(a,65535+b+1,e,c,h))}function m(a,b,e,d,c){c||(v(void 0!==b&&null!==b,"missing value"),v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),
v(e+3<a.length,"Trying to write beyond buffer length"),w(b,2147483647,-2147483648));e>=a.length||(0<=b?f(a,b,e,d,c):f(a,4294967295+b+1,e,d,c))}function s(a,b,e,d,c){c||(v(void 0!==b&&null!==b,"missing value"),v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+3<a.length,"Trying to write beyond buffer length"),y(b,3.4028234663852886E38,-3.4028234663852886E38));e>=a.length||O.write(a,b,e,d,23,4)}function B(a,b,e,d,c){c||(v(void 0!==b&&null!==b,"missing value"),
v("boolean"===typeof d,"missing or invalid endian"),v(void 0!==e&&null!==e,"missing offset"),v(e+7<a.length,"Trying to write beyond buffer length"),y(b,1.7976931348623157E308,-1.7976931348623157E308));e>=a.length||O.write(a,b,e,d,52,8)}function A(a,b,e){if("number"!==typeof a)return e;a=~~a;if(a>=b)return b;if(0<=a)return a;a+=b;return 0<=a?a:0}function u(a){a=~~Math.ceil(+a);return 0>a?0:a}function I(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}
function C(a){return 16>a?"0"+a.toString(16):a.toString(16)}function F(a){for(var b=[],e=0;e<a.length;e++){var d=a.charCodeAt(e);if(127>=d)b.push(a.charCodeAt(e));else{var c=e;55296<=d&&57343>=d&&e++;d=encodeURIComponent(a.slice(c,e+1)).substr(1).split("%");for(c=0;c<d.length;c++)b.push(parseInt(d[c],16))}}return b}function J(a){for(var b=[],e=0;e<a.length;e++)b.push(a.charCodeAt(e)&255);return b}function S(a,b,e,d){for(var c=0;c<d&&!(c+e>=b.length||c>=a.length);c++)b[c+e]=a[c];return c}function r(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}
function t(a,b){v("number"===typeof a,"cannot write a non-number as a number");v(0<=a,"specified a negative value for writing an unsigned value");v(a<=b,"value is larger than maximum value for type");v(Math.floor(a)===a,"value has a fractional component")}function w(a,b,e){v("number"===typeof a,"cannot write a non-number as a number");v(a<=b,"value larger than maximum allowed value");v(a>=e,"value smaller than minimum allowed value");v(Math.floor(a)===a,"value has a fractional component")}function y(a,
b,e){v("number"===typeof a,"cannot write a non-number as a number");v(a<=b,"value larger than maximum allowed value");v(a>=e,"value smaller than minimum allowed value")}function v(a,b){if(!a)throw Error(b||"Failed assertion");}var L=q("base64-js"),O=q("ieee754");x.Buffer=k;x.SlowBuffer=k;x.INSPECT_MAX_BYTES=50;k.poolSize=8192;k._useTypedArrays=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);b.foo=function(){return 42};return 42===b.foo()&&"function"===typeof b.subarray}catch(e){return!1}}();
k.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)};k.byteLength=function(a,b){var e;a+="";switch(b||"utf8"){case "hex":e=a.length/2;break;case "utf8":case "utf-8":e=F(a).length;break;case "ascii":case "binary":case "raw":e=a.length;break;case "base64":e=L.toByteArray(a).length;
break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=2*a.length;break;default:throw Error("Unknown encoding");}return e};k.concat=function(a,b){v(I(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===a.length)return new k(0);if(1===a.length)return a[0];var e;if("number"!==typeof b)for(e=b=0;e<a.length;e++)b+=a[e].length;var d=new k(b),c=0;for(e=0;e<a.length;e++){var h=a[e];h.copy(d,c);c+=h.length}return d};k.prototype.write=function(a,b,e,d){if(isFinite(b))isFinite(e)||
(d=e,e=void 0);else{var c=d;d=b;b=e;e=c}b=Number(b)||0;c=this.length-b;e?(e=Number(e),e>c&&(e=c)):e=c;d=String(d||"utf8").toLowerCase();switch(d){case "hex":b=Number(b)||0;d=this.length-b;e?(e=Number(e),e>d&&(e=d)):e=d;d=a.length;v(0===d%2,"Invalid hex string");e>d/2&&(e=d/2);for(d=0;d<e;d++)c=parseInt(a.substr(2*d,2),16),v(!isNaN(c),"Invalid hex string"),this[b+d]=c;k._charsWritten=2*d;a=d;break;case "utf8":case "utf-8":a=k._charsWritten=S(F(a),this,b,e);break;case "ascii":a=k._charsWritten=S(J(a),
this,b,e);break;case "binary":a=k._charsWritten=S(J(a),this,b,e);break;case "base64":a=k._charsWritten=S(L.toByteArray(a),this,b,e);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var h,c=[],g=0;g<a.length;g++)h=a.charCodeAt(g),d=h>>8,h%=256,c.push(h),c.push(d);a=k._charsWritten=S(c,this,b,e);break;default:throw Error("Unknown encoding");}return a};k.prototype.toString=function(a,b,e){a=String(a||"utf8").toLowerCase();b=Number(b)||0;e=void 0!==e?Number(e):e=this.length;if(e===b)return"";
switch(a){case "hex":a=b;b=this.length;if(!a||0>a)a=0;if(!e||0>e||e>b)e=b;for(b="";a<e;a++)b+=C(this[a]);e=b;break;case "utf8":case "utf-8":var d=b;b=a="";for(e=Math.min(this.length,e);d<e;d++)127>=this[d]?(a+=r(b)+String.fromCharCode(this[d]),b=""):b+="%"+this[d].toString(16);e=a+r(b);break;case "ascii":e=n(this,b,e);break;case "binary":e=n(this,b,e);break;case "base64":a=b;e=0===a&&e===this.length?L.fromByteArray(this):L.fromByteArray(this.slice(a,e));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=
this.slice(b,e);a="";for(b=0;b<e.length;b+=2)a+=String.fromCharCode(e[b]+256*e[b+1]);e=a;break;default:throw Error("Unknown encoding");}return e};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.copy=function(a,b,e,d){e||(e=0);d||0===d||(d=this.length);b||(b=0);if(d!==e&&0!==a.length&&0!==this.length)if(v(d>=e,"sourceEnd < sourceStart"),v(0<=b&&b<a.length,"targetStart out of bounds"),v(0<=e&&e<this.length,"sourceStart out of bounds"),
v(0<=d&&d<=this.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-b<d-e&&(d=a.length-b+e),d-=e,100>d||!k._useTypedArrays)for(var c=0;c<d;c++)a[c+b]=this[c+e];else a._set(this.subarray(e,e+d),b)};k.prototype.slice=function(a,b){var e=this.length;a=A(a,e,0);b=A(b,e,e);if(k._useTypedArrays)return k._augment(this.subarray(a,b));for(var e=b-a,d=new k(e,void 0,!0),c=0;c<e;c++)d[c]=this[c+a];return d};k.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(a)};k.prototype.set=function(a,b){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,b)};k.prototype.readUInt8=function(a,b){b||(v(void 0!==a&&null!==a,"missing offset"),v(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]};k.prototype.readUInt16LE=function(a,e){return b(this,a,!0,e)};k.prototype.readUInt16BE=function(a,e){return b(this,a,!1,e)};k.prototype.readUInt32LE=function(a,b){return c(this,
a,!0,b)};k.prototype.readUInt32BE=function(a,b){return c(this,a,!1,b)};k.prototype.readInt8=function(a,b){b||(v(void 0!==a&&null!==a,"missing offset"),v(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]&128?-1*(255-this[a]+1):this[a]};k.prototype.readInt16LE=function(b,e){return a(this,b,!0,e)};k.prototype.readInt16BE=function(b,e){return a(this,b,!1,e)};k.prototype.readInt32LE=function(a,b){return e(this,a,!0,b)};k.prototype.readInt32BE=function(a,b){return e(this,
a,!1,b)};k.prototype.readFloatLE=function(a,b){return g(this,a,!0,b)};k.prototype.readFloatBE=function(a,b){return g(this,a,!1,b)};k.prototype.readDoubleLE=function(a,b){return h(this,a,!0,b)};k.prototype.readDoubleBE=function(a,b){return h(this,a,!1,b)};k.prototype.writeUInt8=function(a,b,e){e||(v(void 0!==a&&null!==a,"missing value"),v(void 0!==b&&null!==b,"missing offset"),v(b<this.length,"trying to write beyond buffer length"),t(a,255));b>=this.length||(this[b]=a)};k.prototype.writeUInt16LE=function(a,
b,e){d(this,a,b,!0,e)};k.prototype.writeUInt16BE=function(a,b,e){d(this,a,b,!1,e)};k.prototype.writeUInt32LE=function(a,b,e){f(this,a,b,!0,e)};k.prototype.writeUInt32BE=function(a,b,e){f(this,a,b,!1,e)};k.prototype.writeInt8=function(a,b,e){e||(v(void 0!==a&&null!==a,"missing value"),v(void 0!==b&&null!==b,"missing offset"),v(b<this.length,"Trying to write beyond buffer length"),w(a,127,-128));b>=this.length||(0<=a?this.writeUInt8(a,b,e):this.writeUInt8(255+a+1,b,e))};k.prototype.writeInt16LE=function(a,
b,e){l(this,a,b,!0,e)};k.prototype.writeInt16BE=function(a,b,e){l(this,a,b,!1,e)};k.prototype.writeInt32LE=function(a,b,e){m(this,a,b,!0,e)};k.prototype.writeInt32BE=function(a,b,e){m(this,a,b,!1,e)};k.prototype.writeFloatLE=function(a,b,e){s(this,a,b,!0,e)};k.prototype.writeFloatBE=function(a,b,e){s(this,a,b,!1,e)};k.prototype.writeDoubleLE=function(a,b,e){B(this,a,b,!0,e)};k.prototype.writeDoubleBE=function(a,b,e){B(this,a,b,!1,e)};k.prototype.fill=function(a,b,e){a||(a=0);b||(b=0);e||(e=this.length);
"string"===typeof a&&(a=a.charCodeAt(0));v("number"===typeof a&&!isNaN(a),"value is not a number");v(e>=b,"end < start");if(e!==b&&0!==this.length)for(v(0<=b&&b<this.length,"start out of bounds"),v(0<=e&&e<=this.length,"end out of bounds");b<e;b++)this[b]=a};k.prototype.inspect=function(){for(var a=[],b=this.length,e=0;e<b;e++)if(a[e]=C(this[e]),e===x.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<Buffer "+a.join(" ")+">"};k.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(k._useTypedArrays)return(new k(this)).buffer;
for(var a=new Uint8Array(this.length),b=0,e=a.length;b<e;b+=1)a[b]=this[b];return a.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var E=k.prototype;k._augment=function(a){a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=E.get;a.set=E.set;a.write=E.write;a.toString=E.toString;a.toLocaleString=E.toString;a.toJSON=E.toJSON;a.copy=E.copy;a.slice=E.slice;a.readUInt8=E.readUInt8;a.readUInt16LE=E.readUInt16LE;a.readUInt16BE=E.readUInt16BE;a.readUInt32LE=E.readUInt32LE;a.readUInt32BE=
E.readUInt32BE;a.readInt8=E.readInt8;a.readInt16LE=E.readInt16LE;a.readInt16BE=E.readInt16BE;a.readInt32LE=E.readInt32LE;a.readInt32BE=E.readInt32BE;a.readFloatLE=E.readFloatLE;a.readFloatBE=E.readFloatBE;a.readDoubleLE=E.readDoubleLE;a.readDoubleBE=E.readDoubleBE;a.writeUInt8=E.writeUInt8;a.writeUInt16LE=E.writeUInt16LE;a.writeUInt16BE=E.writeUInt16BE;a.writeUInt32LE=E.writeUInt32LE;a.writeUInt32BE=E.writeUInt32BE;a.writeInt8=E.writeInt8;a.writeInt16LE=E.writeInt16LE;a.writeInt16BE=E.writeInt16BE;
a.writeInt32LE=E.writeInt32LE;a.writeInt32BE=E.writeInt32BE;a.writeFloatLE=E.writeFloatLE;a.writeFloatBE=E.writeFloatBE;a.writeDoubleLE=E.writeDoubleLE;a.writeDoubleBE=E.writeDoubleBE;a.fill=E.fill;a.inspect=E.inspect;a.toArrayBuffer=E.toArrayBuffer;return a}},{"base64-js":3,ieee754:4}],3:[function(q,z,x){(function(k){function n(b){b=b.charCodeAt(0);if(b===c||b===d)return 62;if(b===a||b===f)return 63;if(b<e)return-1;if(b<e+10)return b-e+52;if(b<h+26)return b-h;if(b<g+26)return b-g+26}var b="undefined"!==
typeof Uint8Array?Uint8Array:Array,c=43,a=47,e=48,g=97,h=65,d=45,f=95;k.toByteArray=function(a){function e(a){f[C++]=a}var d,c,h,g,f;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");d=a.length;g="="===a.charAt(d-2)?2:"="===a.charAt(d-1)?1:0;f=new b(3*a.length/4-g);c=0<g?a.length-4:a.length;var C=0;for(d=0;d<c;d+=4)h=n(a.charAt(d))<<18|n(a.charAt(d+1))<<12|n(a.charAt(d+2))<<6|n(a.charAt(d+3)),e((h&16711680)>>16),e((h&65280)>>8),e(h&255);2===g?(h=n(a.charAt(d))<<2|n(a.charAt(d+
1))>>4,e(h&255)):1===g&&(h=n(a.charAt(d))<<10|n(a.charAt(d+1))<<4|n(a.charAt(d+2))>>2,e(h>>8&255),e(h&255));return f};k.fromByteArray=function(a){var b,e=a.length%3,d="",c,h;b=0;for(h=a.length-e;b<h;b+=3)c=(a[b]<<16)+(a[b+1]<<8)+a[b+2],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c&
63),d+=c;switch(e){case 1:c=a[a.length-1];d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>2);d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c<<4&63);d+="==";break;case 2:c=(a[a.length-2]<<8)+a[a.length-1],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>10),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>4&63),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c<<
2&63),d+="="}return d}})("undefined"===typeof x?this.base64js={}:x)},{}],4:[function(q,z,x){x.read=function(k,n,b,c,a){var e;e=8*a-c-1;var g=(1<<e)-1,h=g>>1,d=-7;a=b?a-1:0;var f=b?-1:1,l=k[n+a];a+=f;b=l&(1<<-d)-1;l>>=-d;for(d+=e;0<d;b=256*b+k[n+a],a+=f,d-=8);e=b&(1<<-d)-1;b>>=-d;for(d+=c;0<d;e=256*e+k[n+a],a+=f,d-=8);if(0===b)b=1-h;else{if(b===g)return e?NaN:Infinity*(l?-1:1);e+=Math.pow(2,c);b-=h}return(l?-1:1)*e*Math.pow(2,b-c)};x.write=function(k,n,b,c,a,e){var g,h=8*e-a-1,d=(1<<h)-1,f=d>>1,l=
23===a?Math.pow(2,-24)-Math.pow(2,-77):0;e=c?0:e-1;var m=c?1:-1,s=0>n||0===n&&0>1/n?1:0;n=Math.abs(n);isNaN(n)||Infinity===n?(n=isNaN(n)?1:0,c=d):(c=Math.floor(Math.log(n)/Math.LN2),1>n*(g=Math.pow(2,-c))&&(c--,g*=2),n=1<=c+f?n+l/g:n+l*Math.pow(2,1-f),2<=n*g&&(c++,g/=2),c+f>=d?(n=0,c=d):1<=c+f?(n=(n*g-1)*Math.pow(2,a),c+=f):(n=n*Math.pow(2,f-1)*Math.pow(2,a),c=0));for(;8<=a;k[b+e]=n&255,e+=m,n/=256,a-=8);c=c<<a|n;for(h+=a;0<h;k[b+e]=c&255,e+=m,c/=256,h-=8);k[b+e-m]|=128*s}},{}],5:[function(q,z,x){function k(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function n(b){return"function"===typeof b}function b(b){return"object"===typeof b&&null!==b}z.exports=k;k.EventEmitter=k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};k.prototype.emit=function(c){var a,e,g,h;this._events||(this._events={});
if("error"===c&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');}e=this._events[c];if(void 0===e)return!1;if(n(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;g=Array(a-1);for(h=1;h<a;h++)g[h-1]=arguments[h];e.apply(this,g)}else if(b(e)){a=arguments.length;
g=Array(a-1);for(h=1;h<a;h++)g[h-1]=arguments[h];e=e.slice();a=e.length;for(h=0;h<a;h++)e[h].apply(this,g)}return!0};k.prototype.addListener=function(c,a){var e;if(!n(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,n(a.listener)?a.listener:a);this._events[c]?b(this._events[c])?this._events[c].push(a):this._events[c]=[this._events[c],a]:this._events[c]=a;b(this._events[c])&&!this._events[c].warned&&(e=void 0!==this._maxListeners?
this._maxListeners:k.defaultMaxListeners)&&0<e&&this._events[c].length>e&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),"function"===typeof console.trace&&console.trace());return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(b,a){function e(){this.removeListener(b,e);g||(g=!0,a.apply(this,arguments))}if(!n(a))throw TypeError("listener must be a function");
var g=!1;e.listener=a;this.on(b,e);return this};k.prototype.removeListener=function(c,a){var e,g,h;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;e=this._events[c];h=e.length;g=-1;if(e===a||n(e.listener)&&e.listener===a)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,a);else if(b(e)){for(;0<h--;)if(e[h]===a||e[h].listener&&e[h].listener===a){g=h;break}if(0>g)return this;1===e.length?(e.length=0,delete this._events[c]):
e.splice(g,1);this._events.removeListener&&this.emit("removeListener",c,a)}return this};k.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(n(a))this.removeListener(b,
a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];return this};k.prototype.listeners=function(b){return this._events&&this._events[b]?n(this._events[b])?[this._events[b]]:this._events[b].slice():[]};k.listenerCount=function(b,a){return b._events&&b._events[a]?n(b._events[a])?1:b._events[a].length:0}},{}],6:[function(q,z,x){var k=z.exports;q("events");var n=q("./lib/request"),b=q("url");k.request=function(a,e){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||
(a.port=parseInt(window.location.port,10));!a.host&&a.hostname&&(a.host=a.hostname);a.scheme||(a.scheme=window.location.protocol.split(":")[0]);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https"==a.scheme?443:80);var g=new n(new c,a);if(e)g.on("response",e);return g};k.get=function(a,b){a.method="GET";var c=k.request(a,b);c.end();return c};k.Agent=function(){};k.Agent.defaultMaxSockets=
4;var c=function(){if("undefined"===typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{var c=new window.ActiveXObject(a[b]);return function(){if(c){var d=c;c=null;return d}return new window.ActiveXObject(a[b])}}catch(h){}throw Error("ajax not supported in this browser");}();k.STATUS_CODES={100:"Continue",101:"Switching Protocols",
102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",
409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",
503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":7,events:5,url:28}],7:[function(q,z,x){x=q("stream");var k=q("./response"),n=q("Base64");q=q("inherits");var b=z.exports=function(a,b){var h=this;h.writable=!0;h.xhr=a;h.body=[];h.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===
typeof b.withCredentials&&(b.withCredentials=!0);try{a.withCredentials=b.withCredentials}catch(d){}a.open(b.method||"GET",h.uri,!0);h._headers={};if(b.headers)for(var f=c(b.headers),l=0;l<f.length;l++){var m=f[l];h.isSafeRequestHeader(m)&&h.setHeader(m,b.headers[m])}b.auth&&this.setHeader("Authorization","Basic "+n.btoa(b.auth));var s=new k;s.on("close",function(){h.emit("close")});s.on("ready",function(){h.emit("response",s)});a.onreadystatechange=function(){a.__aborted||s.handle(a)}};q(b,x);b.prototype.setHeader=
function(a,b){this._headers[a.toLowerCase()]=b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(b){void 0!==b&&this.body.push(b);var g=c(this._headers);for(b=0;b<g.length;b++){var h=g[b],d=this._headers[h];if(a(d))for(var f=0;f<d.length;f++)this.xhr.setRequestHeader(h,
d[f]);else this.xhr.setRequestHeader(h,d)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else{if(a(this.body[0]))for(g=[],b=0;b<this.body.length;b++)g.push.apply(g,this.body[b]);else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(b=f=0;b<this.body.length;b++)f+=this.body[b].length;g=new this.body[0].constructor(f);for(b=h=0;b<this.body.length;b++)for(d=this.body[b],f=0;f<d.length;f++)g[h++]=d[f]}else for(g="",
b=0;b<this.body.length;b++)g+=this.body[b].toString();this.xhr.send(g)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var c;a:if(c=b.unsafeHeaders,a=a.toLowerCase(),c.indexOf)c=c.indexOf(a);else{for(var h=
0;h<c.length;h++)if(c[h]===a){c=h;break a}c=-1}return-1===c};var c=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":8,Base64:9,inherits:11,stream:19}],8:[function(q,z,x){function k(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var b={},g=0;g<a.length;g++){var h=a[g];if(""!==h){var d=h.match(/^([^:]+):\s*(.*)/);d?(h=d[1].toLowerCase(),d=d[2],void 0!==b[h]?c(b[h])?b[h].push(d):
b[h]=[b[h],d]:b[h]=d):b[h]=!0}}return b}x=q("stream");q=q("util");z=z.exports=function(a){this.offset=0;this.readable=!0};q.inherits(z,x);var n=!0,b=!0;z.prototype.getResponse=function(a){var b=String(a.responseType).toLowerCase();return"blob"===b?a.responseBlob||a.response:"arraybuffer"===b?a.response:a.responseText};z.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};z.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=k(a)}catch(e){b=
!1}b&&this.emit("ready")}else if(n&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=k(a),this.emit("ready"))}catch(c){}try{this._emitData(a)}catch(h){n=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};z.prototype._emitData=function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,
this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",a.slice(this.offset)),this.offset=a.length)};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:19,util:30}],9:[function(q,z,x){(function(){function k(b){this.message=b}var n="undefined"!=typeof x?x:this;k.prototype=Error();k.prototype.name="InvalidCharacterError";n.btoa||(n.btoa=function(b){for(var c,a,e=0,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
h="";b.charAt(e|0)||(g="=",e%1);h+=g.charAt(63&c>>8-e%1*8)){a=b.charCodeAt(e+=0.75);if(255<a)throw new k("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|a}return h});n.atob||(n.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new k("'atob' failed: The string to be decoded is not correctly encoded.");for(var c=0,a,e,g=0,h="";e=b.charAt(g++);~e&&(a=c%4?64*a+e:e,c++%4)?h+=String.fromCharCode(255&a>>(-2*c&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);
return h})})()},{}],10:[function(q,z,x){var k=q("http");q=z.exports;for(var n in k)k.hasOwnProperty(n)&&(q[n]=k[n]);q.request=function(b,c){b||(b={});b.scheme="https";return k.request.call(this,b,c)}},{http:6}],11:[function(q,z,x){z.exports="function"===typeof Object.create?function(k,n){k.super_=n;k.prototype=Object.create(n.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}})}:function(k,n){k.super_=n;var b=function(){};b.prototype=n.prototype;k.prototype=new b;k.prototype.constructor=
k}},{}],12:[function(q,z,x){(function(k){function n(a,b){for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];"."===f?a.splice(d,1):".."===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function b(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;x.resolve=function(){for(var a="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){var d=0<=h?arguments[h]:
k.cwd();if("string"!==typeof d)throw new TypeError("Arguments to path.resolve must be strings");d&&(a=d+"/"+a,c="/"===d.charAt(0))}a=n(b(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};x.normalize=function(e){var c=x.isAbsolute(e),h="/"===a(e,-1);(e=n(b(e.split("/"),function(a){return!!a}),!c).join("/"))||c||(e=".");e&&h&&(e+="/");return(c?"/":"")+e};x.isAbsolute=function(a){return"/"===a.charAt(0)};x.join=function(){var a=Array.prototype.slice.call(arguments,0);return x.normalize(b(a,
function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};x.relative=function(a,b){function c(a){for(var b=0;b<a.length&&""===a[b];b++);for(var e=a.length-1;0<=e&&""===a[e];e--);return b>e?[]:a.slice(b,e-b+1)}a=x.resolve(a).substr(1);b=x.resolve(b).substr(1);for(var d=c(a.split("/")),f=c(b.split("/")),l=Math.min(d.length,f.length),m=l,s=0;s<l;s++)if(d[s]!==f[s]){m=s;break}l=[];for(s=m;s<d.length;s++)l.push("..");l=l.concat(f.slice(m));
return l.join("/")};x.sep="/";x.delimiter=":";x.dirname=function(a){var b=c.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};x.basename=function(a,b){var h=c.exec(a).slice(1)[2];b&&h.substr(-1*b.length)===b&&(h=h.substr(0,h.length-b.length));return h};x.extname=function(a){return c.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){0>b&&(b=a.length+b);return a.substr(b,c)}}).call(this,q("1YiZ5S"))},{"1YiZ5S":13}],
13:[function(q,z,x){function k(){}q=z.exports={};q.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||"process-tick"!==b.data||(b.stopPropagation(),0<k.length&&k.shift()())},!0);return function(b){k.push(b);window.postMessage("process-tick","*")}}return function(b){setTimeout(b,
0)}}();q.title="browser";q.browser=!0;q.env={};q.argv=[];q.on=k;q.addListener=k;q.once=k;q.off=k;q.removeListener=k;q.removeAllListeners=k;q.emit=k;q.binding=function(k){throw Error("process.binding is not supported");};q.cwd=function(){return"/"};q.chdir=function(k){throw Error("process.chdir is not supported");}},{}],14:[function(q,z,x){(function(k){(function(n){function b(a){throw RangeError(q[a]);}function c(a,b){for(var e=a.length;e--;)a[e]=b(a[e]);return a}function a(a,b){return c(a.split(v),
b).join(".")}function e(a){for(var b=[],e=0,d=a.length,c,h;e<d;)c=a.charCodeAt(e++),55296<=c&&56319>=c&&e<d?(h=a.charCodeAt(e++),56320==(h&64512)?b.push(((c&1023)<<10)+(h&1023)+65536):(b.push(c),e--)):b.push(c);return b}function g(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=aa(a>>>10&1023|55296),a=56320|a&1023);return b+=aa(a)}).join("")}function h(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function d(a,b,e){var d=0;a=e?E(a/J):a>>1;for(a+=E(a/b);a>O*C>>1;d+=u)a=E(a/O);return E(d+(O+1)*a/
(a+F))}function f(a){var e=[],c=a.length,h,f=0,m=r,w=S,l,s,v,y,F;l=a.lastIndexOf(t);0>l&&(l=0);for(s=0;s<l;++s)128<=a.charCodeAt(s)&&b("not-basic"),e.push(a.charCodeAt(s));for(l=0<l?l+1:0;l<c;){s=f;h=1;for(v=u;;v+=u){l>=c&&b("invalid-input");y=a.charCodeAt(l++);y=10>y-48?y-22:26>y-65?y-65:26>y-97?y-97:u;(y>=u||y>E((A-f)/h))&&b("overflow");f+=y*h;F=v<=w?I:v>=w+C?C:v-w;if(y<F)break;y=u-F;h>E(A/y)&&b("overflow");h*=y}h=e.length+1;w=d(f-s,h,0==s);E(f/h)>A-m&&b("overflow");m+=E(f/h);f%=h;e.splice(f++,
0,m)}return g(e)}function l(a){var c,g,f,m,w,l,s,v,y,F=[],k,B,n;a=e(a);k=a.length;c=r;g=0;w=S;for(l=0;l<k;++l)y=a[l],128>y&&F.push(aa(y));for((f=m=F.length)&&F.push(t);f<k;){s=A;for(l=0;l<k;++l)y=a[l],y>=c&&y<s&&(s=y);B=f+1;s-c>E((A-g)/B)&&b("overflow");g+=(s-c)*B;c=s;for(l=0;l<k;++l)if(y=a[l],y<c&&++g>A&&b("overflow"),y==c){v=g;for(s=u;;s+=u){y=s<=w?I:s>=w+C?C:s-w;if(v<y)break;n=v-y;v=u-y;F.push(aa(h(y+n%v,0)));v=E(n/v)}F.push(aa(h(v,0)));w=d(g,B,f==m);g=0;++f}++g;++c}return F.join("")}var m="object"==
typeof x&&x,s="object"==typeof z&&z&&z.exports==m&&z,B="object"==typeof k&&k;if(B.global===B||B.window===B)n=B;var A=2147483647,u=36,I=1,C=26,F=38,J=700,S=72,r=128,t="-",w=/^xn--/,y=/[^ -~]/,v=/\x2E|\u3002|\uFF0E|\uFF61/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=u-I,E=Math.floor,aa=String.fromCharCode,Q,B={version:"1.2.4",ucs2:{decode:e,encode:g},decode:f,encode:l,toASCII:function(b){return a(b,
function(a){return y.test(a)?"xn--"+l(a):a})},toUnicode:function(b){return a(b,function(a){return w.test(a)?f(a.slice(4).toLowerCase()):a})}};if(m&&!m.nodeType)if(s)s.exports=B;else for(Q in B)B.hasOwnProperty(Q)&&(m[Q]=B[Q]);else n.punycode=B})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],15:[function(q,z,x){z.exports=function(n,b,c,a){c=c||"=";var e={};if("string"!==typeof n||0===n.length)return e;var g=/\+/g;n=n.split(b||"&");b=1E3;a&&"number"===
typeof a.maxKeys&&(b=a.maxKeys);a=n.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var h=n[b].replace(g,"%20"),d=h.indexOf(c),f;0<=d?(f=h.substr(0,d),h=h.substr(d+1)):(f=h,h="");f=decodeURIComponent(f);h=decodeURIComponent(h);Object.prototype.hasOwnProperty.call(e,f)?k(e[f])?e[f].push(h):e[f]=[e[f],h]:e[f]=h}return e};var k=Array.isArray||function(k){return"[object Array]"===Object.prototype.toString.call(k)}},{}],16:[function(q,z,x){function k(a,b){if(a.map)return a.map(b);for(var c=[],h=0;h<a.length;h++)c.push(b(a[h],
h));return c}var n=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};z.exports=function(a,e,g,h){e=e||"&";g=g||"=";null===a&&(a=void 0);return"object"===typeof a?k(c(a),function(d){var c=encodeURIComponent(n(d))+g;return b(a[d])?a[d].map(function(a){return c+encodeURIComponent(n(a))}).join(e):c+encodeURIComponent(n(a[d]))}).join(e):h?encodeURIComponent(n(h))+g+encodeURIComponent(n(a)):""};var b=Array.isArray||
function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],17:[function(q,z,x){x.decode=x.parse=q("./decode");x.encode=x.stringify=q("./encode")},{"./decode":15,"./encode":16}],18:[function(q,z,x){function k(b){if(!(this instanceof k))return new k(b);c.call(this,b);a.call(this,b);b&&!1===b.readable&&(this.readable=!1);b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=
!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",n)}function n(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;b(function(){a.end()})}}z.exports=k;z=q("inherits");var b=q("process/browser.js").nextTick,c=q("./readable.js"),a=q("./writable.js");z(k,c);k.prototype.write=a.prototype.write;k.prototype.end=a.prototype.end;k.prototype._write=a.prototype._write},{"./readable.js":22,"./writable.js":24,inherits:11,"process/browser.js":20}],19:[function(q,z,x){function k(){n.call(this)}
z.exports=k;var n=q("events").EventEmitter;q("inherits")(k,n);k.Readable=q("./readable.js");k.Writable=q("./writable.js");k.Duplex=q("./duplex.js");k.Transform=q("./transform.js");k.PassThrough=q("./passthrough.js");k.Stream=k;k.prototype.pipe=function(b,c){function a(a){b.writable&&!1===b.write(a)&&l.pause&&l.pause()}function e(){l.readable&&l.resume&&l.resume()}function g(){m||(m=!0,b.end())}function h(){m||(m=!0,"function"===typeof b.destroy&&b.destroy())}function d(a){f();if(0===n.listenerCount(this,
"error"))throw a;}function f(){l.removeListener("data",a);b.removeListener("drain",e);l.removeListener("end",g);l.removeListener("close",h);l.removeListener("error",d);b.removeListener("error",d);l.removeListener("end",f);l.removeListener("close",f);b.removeListener("close",f)}var l=this;l.on("data",a);b.on("drain",e);b._isStdio||c&&!1===c.end||(l.on("end",g),l.on("close",h));var m=!1;l.on("error",d);b.on("error",d);l.on("end",f);l.on("close",f);b.on("close",f);b.emit("pipe",l);return b}},{"./duplex.js":18,
"./passthrough.js":21,"./readable.js":22,"./transform.js":23,"./writable.js":24,events:5,inherits:11}],20:[function(q,z,x){q=z.exports={};q.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(k){return window.setImmediate(k)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=[];window.addEventListener("message",function(n){var b=n.source;b!==window&&null!==b||"process-tick"!==n.data||(n.stopPropagation(),0<k.length&&k.shift()())},
!0);return function(n){k.push(n);window.postMessage("process-tick","*")}}return function(k){setTimeout(k,0)}}();q.title="browser";q.browser=!0;q.env={};q.argv=[];q.binding=function(k){throw Error("process.binding is not supported");};q.cwd=function(){return"/"};q.chdir=function(k){throw Error("process.chdir is not supported");}},{}],21:[function(q,z,x){function k(b){if(!(this instanceof k))return new k(b);n.call(this,b)}z.exports=k;var n=q("./transform.js");q("inherits")(k,n);k.prototype._transform=
function(b,c,a){a(null,b)}},{"./transform.js":23,inherits:11}],22:[function(q,z,x){(function(k){function n(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||
"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(F||(F=q("string_decoder").StringDecoder),this.decoder=new F(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new n(a,this);this.readable=!0;u.call(this)}function c(a,b,d,c,h){var f;f=d;var m=null;I.isBuffer(f)||"string"===typeof f||null===f||void 0===f||b.objectMode||m||(m=new TypeError("Invalid non-string/buffer chunk"));(f=m)?a.emit("error",
f):null===d||void 0===d?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(d=b.decoder.end())&&d.length&&(b.buffer.push(d),b.length+=b.objectMode?1:d.length),b.ended=!0,0<b.length?e(a):s(a))):b.objectMode||d&&0<d.length?b.ended&&!h?(d=Error("stream.push() after EOF"),a.emit("error",d)):b.endEmitted&&h?(d=Error("stream.unshift() after end event"),a.emit("error",d)):(!b.decoder||h||c||(d=b.decoder.write(d)),b.length+=b.objectMode?1:d.length,h?b.buffer.unshift(d):(b.reading=!1,b.buffer.push(d)),b.needReadable&&
e(a),g(a,b)):h||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(isNaN(a)||null===a)return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var e=a;if(e>=J)e=J;else{e--;for(var d=1;32>d;d<<=1)e|=e>>d;e++}b.highWaterMark=e}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function e(a){var b=a._readableState;
b.needReadable=!1;b.emittedReadable||(b.emittedReadable=!0,b.sync?C(function(){a.emit("readable")}):a.emit("readable"))}function g(a,b){b.readingMore||(b.readingMore=!0,C(function(){for(var e=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),e!==b.length);)e=b.length;b.readingMore=!1}))}function h(a){return function(){var b=a._readableState;b.awaitDrain--;0===b.awaitDrain&&d(a)}}function d(a){function b(a,c,h){!1===a.write(d)&&e.awaitDrain++}var e=a._readableState,d;
for(e.awaitDrain=0;e.pipesCount&&null!==(d=a.read());)if(1===e.pipesCount?b(e.pipes,0,null):B(e.pipes,b),a.emit("data",d),0<e.awaitDrain)return;0===e.pipesCount?(e.flowing=!1,0<A.listenerCount(a,"data")&&l(a)):e.ranOut=!0}function f(){this._readableState.ranOut&&(this._readableState.ranOut=!1,d(this))}function l(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");var e=b||!1,d=!1;a.readable=!0;a.pipe=u.prototype.pipe;a.on=a.addListener=u.prototype.on;a.on("readable",function(){d=
!0;for(var b;!e&&null!==(b=a.read());)a.emit("data",b);null===b&&(d=!1,a._readableState.needReadable=!0)});a.pause=function(){e=!0;this.emit("pause")};a.resume=function(){e=!1;d?C(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function m(a,b){var e=b.buffer,d=b.length,c=!!b.decoder,h=!!b.objectMode;if(0===e.length)return null;if(0===d)d=null;else if(h)d=e.shift();else if(!a||a>=d)d=c?e.join(""):I.concat(e,d),e.length=0;else if(a<e[0].length)h=e[0],d=h.slice(0,
a),e[0]=h.slice(a);else if(a===e[0].length)d=e.shift();else for(var d=c?"":new I(a),f=0,g=0,m=e.length;g<m&&f<a;g++){var h=e[0],l=Math.min(a-f,h.length);c?d+=h.slice(0,l):h.copy(d,f,0,l);l<h.length?e[0]=h.slice(l):e.shift();f+=l}return d}function s(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,C(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function B(a,b){for(var e=0,
d=a.length;e<d;e++)b(a[e],e)}z.exports=b;b.ReadableState=n;var A=q("events").EventEmitter,u=q("./index.js"),I=q("buffer").Buffer,C=q("process/browser.js").nextTick,F;q("inherits")(b,u);b.prototype.push=function(a,b){var e=this._readableState;"string"!==typeof a||e.objectMode||(b=b||e.defaultEncoding,b!==e.encoding&&(a=new I(a,b),b=""));return c(this,e,a,b,!1)};b.prototype.unshift=function(a){return c(this,this._readableState,a,"",!0)};b.prototype.setEncoding=function(a){F||(F=q("string_decoder").StringDecoder);
this._readableState.decoder=new F(a);this._readableState.encoding=a};var J=8388608;b.prototype.read=function(b){var d=this._readableState;d.calledRead=!0;var c=b;if("number"!==typeof b||0<b)d.emittedReadable=!1;if(0===b&&d.needReadable&&(d.length>=d.highWaterMark||d.ended))return e(this),null;b=a(b,d);if(0===b&&d.ended)return 0===d.length&&s(this),null;var h=d.needReadable;d.length-b<=d.highWaterMark&&(h=!0);if(d.ended||d.reading)h=!1;h&&(d.reading=!0,d.sync=!0,0===d.length&&(d.needReadable=!0),this._read(d.highWaterMark),
d.sync=!1);h&&!d.reading&&(b=a(c,d));c=0<b?m(b,d):null;null===c&&(d.needReadable=!0,b=0);d.length-=b;0!==d.length||d.ended||(d.needReadable=!0);d.ended&&!d.endEmitted&&0===d.length&&s(this);return c};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function e(a){a===s&&g()}function c(){a.end()}function g(){a.removeListener("close",l);a.removeListener("finish",u);a.removeListener("drain",n);a.removeListener("error",m);a.removeListener("unpipe",
e);s.removeListener("end",c);s.removeListener("end",g);a._writableState&&!a._writableState.needDrain||n()}function m(b){s.unpipe(a);0===J&&0===A.listenerCount(a,"error")&&a.emit("error",b)}function l(){a.removeListener("finish",u);s.unpipe(a)}function u(){a.removeListener("close",l);s.unpipe(a)}var s=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=a;break;case 1:F.pipes=[F.pipes,a];break;default:F.pipes.push(a)}F.pipesCount+=1;var B=b&&!1===b.end||a===k.stdout||a===k.stderr?g:c;if(F.endEmitted)C(B);
else s.once("end",B);a.on("unpipe",e);var n=h(s);a.on("drain",n);var J=A.listenerCount(a,"error");a.once("error",m);a.once("close",l);a.once("finish",u);a.emit("pipe",s);F.flowing||(this.on("readable",f),F.flowing=!0,C(function(){d(s)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;this.removeListener("readable",f);b.flowing=!1;a&&a.emit("unpipe",this);
return this}if(!a){a=b.pipes;var e=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",f);b.flowing=!1;for(var d=0;d<e;d++)a[d].emit("unpipe",this);return this}a:{for(var d=b.pipes,e=0,c=d.length;e<c;e++)if(d[e]===a){d=e;break a}d=-1}if(-1===d)return this;b.pipes.splice(d,1);b.pipesCount-=1;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var d=u.prototype.on.call(this,a,b);"data"!==a||this._readableState.flowing||l(this);if("readable"===
a&&this.readable){var c=this._readableState;c.readableListening||(c.readableListening=!0,c.emittedReadable=!1,c.needReadable=!0,c.reading?c.length&&e(this,c):this.read(0))}return d};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){l(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){l(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,e=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&
d.push(a)}d.push(null)});a.on("data",function(c){b.decoder&&(c=b.decoder.write(c));c&&(b.objectMode||c.length)&&!d.push(c)&&(e=!0,a.pause())});for(var c in a)"function"===typeof a[c]&&"undefined"===typeof this[c]&&(this[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c));B(["error","close","destroy","pause","resume"],function(b){a.on(b,function(a){return d.emit.apply(d,b,a)})});d._read=function(b){e&&(e=!1,a.resume())};return d};b._fromList=m}).call(this,q("1YiZ5S"))},{"./index.js":19,
"1YiZ5S":13,buffer:2,events:5,inherits:11,"process/browser.js":20,string_decoder:25}],23:[function(q,z,x){function k(a,b){this.afterTransform=function(a,c){var d;d=b._transformState;d.transforming=!1;var f=d.writecb;f?(d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&b.push(c),f&&f(a),d=b._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&b._read(d.highWaterMark),d=void 0):d=b.emit("error",Error("no writecb in Transform class"));return d};this.transforming=this.needTransform=
!1;this.writechunk=this.writecb=null}function n(a){if(!(this instanceof n))return new n(a);c.call(this,a);this._transformState=new k(a,this);var e=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(e,a)}):b(e)})}function b(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");if(c.transforming)throw Error("calling transform done when still transforming");
return a.push(null)}z.exports=n;var c=q("./duplex.js");q("inherits")(n,c);n.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};n.prototype._transform=function(a,b,c){throw Error("not implemented");};n.prototype._write=function(a,b,c){var h=this._transformState;h.writecb=c;h.writechunk=a;h.writeencoding=b;h.transforming||(a=this._readableState,(h.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};n.prototype._read=
function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":18,inherits:11}],24:[function(q,z,x){function k(a,b,e){this.chunk=a;this.encoding=b;this.callback=e}function n(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.objectMode=!!a.objectMode;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;
this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){d(b,a)};this.writecb=null;this.writelen=0;this.buffer=[]}function b(a){if(!(this instanceof b||this instanceof A.Duplex))return new b(a);this._writableState=new n(a,this);this.writable=!0;A.call(this)}function c(a,b,e){var d=Error("write after end");a.emit("error",d);u(function(){e(d)})}function a(a,b,e,d){var c=!0;if(!I.isBuffer(e)&&
"string"!==typeof e&&null!==e&&void 0!==e&&!b.objectMode){var h=new TypeError("Invalid non-string/buffer chunk");a.emit("error",h);u(function(){d(h)});c=!1}return c}function e(a,b,e,d,c){b.objectMode||!1===b.decodeStrings||"string"!==typeof e||(e=new I(e,d));var h=b.objectMode?1:e.length;b.length+=h;var f=b.length<b.highWaterMark;b.needDrain=!f;b.writing?b.buffer.push(new k(e,d,c)):(b.writelen=h,b.writecb=c,b.writing=!0,b.sync=!0,a._write(e,d,b.onwrite),b.sync=!1);return f}function g(a,b,e,d,c){e?
u(function(){c(d)}):c(d);a.emit("error",d)}function h(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function d(a,b){var e=a._writableState,d=e.sync,c=e.writecb;h(e);if(b)g(a,e,d,b,c);else{var m=e.ending&&0===e.length&&!e.finished&&!e.writing;m||e.bufferProcessing||!e.buffer.length||l(a,e);d?u(function(){f(a,e,m,c)}):f(a,e,m,c)}}function f(a,b,e,d){!e&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));d();e&&m(a,b)}function l(a,b){b.bufferProcessing=!0;for(var e=0;e<b.buffer.length;e++){var d=
b.buffer[e],c=d.chunk,h=a,f=b,g=c,m=d.encoding,d=d.callback;f.writelen=b.objectMode?1:c.length;f.writecb=d;f.writing=!0;f.sync=!0;h._write(g,m,f.onwrite);f.sync=!1;if(b.writing){e++;break}}b.bufferProcessing=!1;e<b.buffer.length?b.buffer=b.buffer.slice(e):b.buffer.length=0}function m(a,b){var e=b.ending&&0===b.length&&!b.finished&&!b.writing;e&&(b.finished=!0,a.emit("finish"));return e}z.exports=b;b.WritableState=n;var s="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:
function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},B="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};z=q("inherits");var A=q("./index.js"),u=q("process/browser.js").nextTick,I=q("buffer").Buffer;z(b,A);b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};b.prototype.write=function(b,d,h){var f=this._writableState,g=!1;"function"===typeof d&&(h=
d,d=null);!I.isBuffer(b)&&s(b)&&(b=new I(b));B(b)&&"undefined"!==typeof Uint8Array&&(b=new I(new Uint8Array(b)));I.isBuffer(b)?d="buffer":d||(d=f.defaultEncoding);"function"!==typeof h&&(h=function(){});f.ended?c(this,f,h):a(this,f,b,h)&&(g=e(this,f,b,d,h));return g};b.prototype._write=function(a,b,e){e(Error("not implemented"))};b.prototype.end=function(a,b,e){var d=this._writableState;"function"===typeof a?(e=a,b=a=null):"function"===typeof b&&(e=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,
b);if(!d.ending&&!d.finished){a=e;d.ending=!0;m(this,d);if(a)if(d.finished)u(a);else this.once("finish",a);d.ended=!0}}},{"./index.js":19,buffer:2,inherits:11,"process/browser.js":20}],25:[function(q,z,x){function k(a){return a.toString(this.encoding)}function n(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function b(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var c=q("buffer").Buffer;q=x.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,
"");if(a&&!c.isEncoding(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=n;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=k;return}this.charBuffer=new c(6);this.charLength=this.charReceived=0};q.prototype.write=function(a){for(var b="",c=0;this.charLength;){var h=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:
a.length;a.copy(this.charBuffer,this.charReceived,c,h);this.charReceived+=h-c;c=h;if(this.charReceived<this.charLength)return"";var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),d=b.charCodeAt(b.length-1);if(55296<=d&&56319>=d)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(h==a.length)return b;a=a.slice(h,a.length);break}}d=this.detectIncompleteChar(a);c=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-d,c),this.charReceived=d,
c-=d);b+=a.toString(this.encoding,0,c);c=b.length-1;d=b.charCodeAt(c);return 55296<=d&&56319>=d?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,c)):b};q.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=
4;break}}return b};q.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:2}],26:[function(q,z,x){"undefined"!==typeof setTimeout&&(x.setTimeout=function(){return setTimeout.apply(window,arguments)});"undefined"!==typeof clearTimeout&&(x.clearTimeout=function(){clearTimeout.apply(window,arguments)});"undefined"!==typeof setInterval&&(x.setInterval=function(){return setInterval.apply(window,
arguments)});"undefined"!==typeof clearInterval&&(x.clearInterval=function(){clearInterval.apply(window,arguments)});x.enroll=function(k,n){k._timeoutID=setTimeout(k._onTimeout,n)};x.unenroll=function(k){clearTimeout(k._timeoutID)};x.active=function(k){};x.setImmediate=q("process/browser.js").nextTick},{"process/browser.js":27}],27:[function(q,z,x){z.exports=q(20)},{}],28:[function(q,z,x){function k(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=
this.auth=this.slashes=this.protocol=null}function n(a,d,e){if(a&&b(a)&&a instanceof k)return a;var c=new k;c.parse(a,d,e);return c}function b(a){return"object"===typeof a&&null!==a}var c=q("punycode");x.parse=n;x.resolve=function(a,b){return n(a,!1,!0).resolve(b)};x.resolveObject=function(a,b){return a?n(a,!1,!0).resolveObject(b):b};x.format=function(a){"string"===typeof a&&(a=n(a));return a instanceof k?a.format():k.prototype.format.call(a)};x.Url=k;var a=/^([a-z0-9.+-]+:)/i,e=/:[0-9]*$/;z="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));
var g=["'"].concat(z),h=["%","/","?",";","#"].concat(g),d=["/","?","#"],f=/^[a-z0-9A-Z_-]{0,63}$/,l=/^([a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},s={javascript:!0,"javascript:":!0},B={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=q("querystring");k.prototype.parse=function(b,e,C){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var k=a.exec(b);if(k){var k=k[0],n=k.toLowerCase();
this.protocol=n;b=b.substr(k.length)}if(C||k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var q="//"===b.substr(0,2);!q||k&&s[k]||(b=b.substr(2),this.slashes=!0)}if(!s[k]&&(q||k&&!B[k])){q=-1;for(C=0;C<d.length;C++)k=b.indexOf(d[C]),-1!==k&&(-1===q||k<q)&&(q=k);q=-1===q?b.lastIndexOf("@"):b.lastIndexOf("@",q);-1!==q&&(C=b.slice(0,q),b=b.slice(q+1),this.auth=decodeURIComponent(C));q=-1;for(C=0;C<h.length;C++)k=b.indexOf(h[C]),-1!==k&&(-1===q||k<q)&&(q=k);-1===q&&(q=b.length);this.host=b.slice(0,q);b=b.slice(q);
this.parseHost();this.hostname=this.hostname||"";q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!q){var r=this.hostname.split(/\./);C=0;for(k=r.length;C<k;C++){var t=r[C];if(t&&!t.match(f)){for(var w="",y=0,v=t.length;y<v;y++)w=127<t.charCodeAt(y)?w+"x":w+t[y];if(!w.match(f)){k=r.slice(0,C);C=r.slice(C+1);if(t=t.match(l))k.push(t[1]),C.unshift(t[2]);C.length&&(b="/"+C.join(".")+b);this.hostname=k.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
if(!q){t=this.hostname.split(".");r=[];for(C=0;C<t.length;++C)k=t[C],r.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode(k):k);this.hostname=r.join(".")}C=this.port?":"+this.port:"";this.host=(this.hostname||"")+C;this.href+=this.host;q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[n])for(C=0,k=g.length;C<k;C++)q=g[C],t=encodeURIComponent(q),t===q&&(t=escape(q)),b=b.split(q).join(t);C=b.indexOf("#");-1!==C&&(this.hash=b.substr(C),b=b.slice(0,C));C=b.indexOf("?");
-1!==C?(this.search=b.substr(C),this.query=b.substr(C+1),e&&(this.query=A.parse(this.query)),b=b.slice(0,C)):e&&(this.search="",this.query={});b&&(this.pathname=b);B[n]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)C=this.pathname||"",k=this.search||"",this.path=C+k;this.href=this.format();return this};k.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var e=this.protocol||"",d=this.pathname||"",c=this.hash||
"",h=!1,f="";this.host?h=a+this.host:this.hostname&&(h=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));a=this.search||f&&"?"+f||"";e&&":"!==e.substr(-1)&&(e+=":");this.slashes||(!e||B[e])&&!1!==h?(h="//"+(h||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):h||(h="");c&&"#"!==c.charAt(0)&&(c="#"+c);a&&"?"!==a.charAt(0)&&(a="?"+a);d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)});
a=a.replace("#","%23");return e+h+d+a+c};k.prototype.resolve=function(a){return this.resolveObject(n(a,!1,!0)).format()};k.prototype.resolveObject=function(a){if("string"===typeof a){var b=new k;b.parse(a,!1,!0);a=b}var e=new k;Object.keys(this).forEach(function(a){e[a]=this[a]},this);e.hash=a.hash;if(""===a.href)return e.href=e.format(),e;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(e[b]=a[b])}),B[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),
e.href=e.format(),e;if(a.protocol&&a.protocol!==e.protocol){if(!B[a.protocol])return Object.keys(a).forEach(function(b){e[b]=a[b]}),e.href=e.format(),e;e.protocol=a.protocol;if(a.host||s[a.protocol])e.pathname=a.pathname;else{for(var d=(a.pathname||"").split("/");d.length&&!(a.host=d.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==d[0]&&d.unshift("");2>d.length&&d.unshift("");e.pathname=d.join("/")}e.search=a.search;e.query=a.query;e.host=a.host||"";e.auth=a.auth;e.hostname=a.hostname||
a.host;e.port=a.port;if(e.pathname||e.search)e.path=(e.pathname||"")+(e.search||"");e.slashes=e.slashes||a.slashes;e.href=e.format();return e}var b=e.pathname&&"/"===e.pathname.charAt(0),c=a.host||a.pathname&&"/"===a.pathname.charAt(0),h=b=c||b||e.host&&a.pathname,f=e.pathname&&e.pathname.split("/")||[],d=a.pathname&&a.pathname.split("/")||[],g=e.protocol&&!B[e.protocol];g&&(e.hostname="",e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host="",a.protocol&&(a.hostname=null,a.port=null,
a.host&&(""===d[0]?d[0]=a.host:d.unshift(a.host)),a.host=null),b=b&&(""===d[0]||""===f[0]));if(c)e.host=a.host||""===a.host?a.host:e.host,e.hostname=a.hostname||""===a.hostname?a.hostname:e.hostname,e.search=a.search,e.query=a.query,f=d;else if(d.length)f||(f=[]),f.pop(),f=f.concat(d),e.search=a.search,e.query=a.query;else if(null!=a.search){g&&(e.hostname=e.host=f.shift(),g=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=g.shift(),e.host=e.hostname=g.shift());e.search=a.search;e.query=
a.query;if(null!==e.pathname||null!==e.search)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");e.href=e.format();return e}if(!f.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var c=f.slice(-1)[0],d=(e.host||a.host)&&("."===c||".."===c)||""===c,m=0,l=f.length;0<=l;l--)c=f[l],"."==c?f.splice(l,1):".."===c?(f.splice(l,1),m++):m&&(f.splice(l,1),m--);if(!b&&!h)for(;m--;m)f.unshift("..");!b||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift("");d&&"/"!==f.join("/").substr(-1)&&
f.push("");h=""===f[0]||f[0]&&"/"===f[0].charAt(0);g&&(e.hostname=e.host=h?"":f.length?f.shift():"",g=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=g.shift(),e.host=e.hostname=g.shift());(b=b||e.host&&f.length)&&!h&&f.unshift("");f.length?e.pathname=f.join("/"):(e.pathname=null,e.path=null);if(null!==e.pathname||null!==e.search)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");e.auth=a.auth||e.auth;e.slashes=e.slashes||a.slashes;e.href=e.format();return e};k.prototype.parseHost=
function(){var a=this.host,b=e.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{punycode:14,querystring:17}],29:[function(q,z,x){z.exports=function(k){return k&&"object"===typeof k&&"function"===typeof k.copy&&"function"===typeof k.fill&&"function"===typeof k.readUInt8}},{}],30:[function(q,z,x){(function(k,n){function b(b,e){var d={seen:[],stylize:a};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.colors=arguments[3]);
B(e)?d.showHidden=e:e&&x._extend(d,e);I(d.showHidden)&&(d.showHidden=!1);I(d.depth)&&(d.depth=2);I(d.colors)&&(d.colors=!1);I(d.customInspect)&&(d.customInspect=!0);d.colors&&(d.stylize=c);return g(d,b,d.depth)}function c(a,e){var d=b.styles[e];return d?"\u001b["+b.colors[d][0]+"m"+a+"\u001b["+b.colors[d][1]+"m":a}function a(a,b){return a}function e(a){var b={};a.forEach(function(a,e){b[a]=!0});return b}function g(a,b,c){if(a.customInspect&&b&&r(b.inspect)&&b.inspect!==x.inspect&&(!b.constructor||
b.constructor.prototype!==b)){var t=b.inspect(c,a);u(t)||(t=g(a,t,c));return t}if(t=h(a,b))return t;var w=Object.keys(b),v=e(w);a.showHidden&&(w=Object.getOwnPropertyNames(b));if(S(b)&&(0<=w.indexOf("message")||0<=w.indexOf("description")))return d(b);if(0===w.length){if(r(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(C(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(J(b))return a.stylize(Date.prototype.toString.call(b),"date");if(S(b))return d(b)}var t=
"",y=!1,k=["{","}"];s(b)&&(y=!0,k=["[","]"]);r(b)&&(t=" [Function"+(b.name?": "+b.name:"")+"]");C(b)&&(t=" "+RegExp.prototype.toString.call(b));J(b)&&(t=" "+Date.prototype.toUTCString.call(b));S(b)&&(t=" "+d(b));if(0===w.length&&(!y||0==b.length))return k[0]+t+k[1];if(0>c)return C(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);w=y?f(a,b,c,v,w):w.map(function(e){return l(a,b,c,v,e,y)});a.seen.pop();return m(w,t,k)}function h(a,b){if(I(b))return a.stylize("undefined",
"undefined");if(u(b)){var e="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(e,"string")}if(A(b))return a.stylize(""+b,"number");if(B(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function d(a){return"["+Error.prototype.toString.call(a)+"]"}function f(a,b,e,d,c){for(var h=[],f=0,g=b.length;f<g;++f)Object.prototype.hasOwnProperty.call(b,String(f))?h.push(l(a,b,e,d,String(f),!0)):h.push("");c.forEach(function(c){c.match(/^\d+$/)||
h.push(l(a,b,e,d,c,!0))});return h}function l(a,b,e,d,c,h){var f,m;b=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]};b.get?m=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(m=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,c)||(f="["+c+"]");m||(0>a.seen.indexOf(b.value)?(m=null===e?g(a,b.value,null):g(a,b.value,e-1),-1<m.indexOf("\n")&&(m=h?m.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+
a}).join("\n"))):m=a.stylize("[Circular]","special"));if(I(f)){if(h&&c.match(/^\d+$/))return m;f=JSON.stringify(""+c);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=a.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.stylize(f,"string"))}return f+": "+m}function m(a,b,e){var d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?e[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+
" "+e[1]:e[0]+b+" "+a.join(", ")+" "+e[1]}function s(a){return Array.isArray(a)}function B(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function u(a){return"string"===typeof a}function I(a){return void 0===a}function C(a){return F(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function F(a){return"object"===typeof a&&null!==a}function J(a){return F(a)&&"[object Date]"===Object.prototype.toString.call(a)}function S(a){return F(a)&&("[object Error]"===Object.prototype.toString.call(a)||
a instanceof Error)}function r(a){return"function"===typeof a}function t(a){return 10>a?"0"+a.toString(10):a.toString(10)}function w(){var a=new Date,b=[t(a.getHours()),t(a.getMinutes()),t(a.getSeconds())].join(":");return[a.getDate(),O[a.getMonth()],b].join(" ")}var y=/%[sdj%]/g;x.format=function(a){if(!u(a)){for(var e=[],d=0;d<arguments.length;d++)e.push(b(arguments[d]));return e.join(" ")}for(var d=1,c=arguments,h=c.length,e=String(a).replace(y,function(a){if("%%"===a)return"%";if(d>=h)return a;
switch(a){case "%s":return String(c[d++]);case "%d":return Number(c[d++]);case "%j":try{return JSON.stringify(c[d++])}catch(b){return"[Circular]"}default:return a}}),f=c[d];d<h;f=c[++d])e=null!==f&&F(f)?e+(" "+b(f)):e+(" "+f);return e};x.deprecate=function(a,b){if(I(n.process))return function(){return x.deprecate(a,b).apply(this,arguments)};if(!0===k.noDeprecation)return a;var e=!1;return function(){if(!e){if(k.throwDeprecation)throw Error(b);k.traceDeprecation?console.trace(b):console.error(b);e=
!0}return a.apply(this,arguments)}};var v={},L;x.debuglog=function(a){I(L)&&(L=k.env.NODE_DEBUG||"");a=a.toUpperCase();if(!v[a])if((new RegExp("\\b"+a+"\\b","i")).test(L)){var b=k.pid;v[a]=function(){var e=x.format.apply(x,arguments);console.error("%s %d: %s",a,b,e)}}else v[a]=function(){};return v[a]};x.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,
39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};x.isArray=s;x.isBoolean=B;x.isNull=function(a){return null===a};x.isNullOrUndefined=function(a){return null==a};x.isNumber=A;x.isString=u;x.isSymbol=function(a){return"symbol"===typeof a};x.isUndefined=I;x.isRegExp=C;x.isObject=F;x.isDate=J;x.isError=S;x.isFunction=r;x.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===
typeof a||"symbol"===typeof a||"undefined"===typeof a};x.isBuffer=q("./support/isBuffer");var O="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");x.log=function(){console.log("%s - %s",w(),x.format.apply(x,arguments))};x.inherits=q("inherits");x._extend=function(a,b){if(!b||!F(b))return a;for(var e=Object.keys(b),d=e.length;d--;)a[e[d]]=b[e[d]];return a}}).call(this,q("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":29,"1YiZ5S":13,inherits:11}],
31:[function(q,z,x){},{}],32:[function(q,z,x){(function(k,n,b){(function(){var c="undefined"!==typeof k&&k.versions&&k.versions.node,a=!c&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof n&&("undefined"!==typeof window?n=window:"undefined"!==typeof self?n=self:"undefined"!==typeof $&&(n=$));var e=function(e){function d(){}function f(a,b){if(G(b))for(var e=0;e<b.length;++e)b[e]=f(a,b[e]);else if(U(b))b["@list"]=f(a,b["@list"]);else if(H(b)){ia(b)&&(b["@id"]=a.getName(b["@id"]));
for(var e=Object.keys(b).sort(),d=0;d<e.length;++d){var c=e[d];"@id"!==c&&(b[c]=f(a,b[c]))}}return b}function g(a,b,d){if(null===d||void 0===d)return null;var c=E(a,b,{vocab:!0});if("@id"===c)return E(a,d,{base:!0});if("@type"===c)return E(a,d,{vocab:!0,base:!0});var f=e.getContextValue(a,b,"@type");if("@id"===f||"@graph"===c&&K(d))return{"@id":E(a,d,{base:!0})};if("@vocab"===f)return{"@id":E(a,d,{vocab:!0,base:!0})};if(M(c))return d;c={};null!==f?c["@type"]=f:K(d)&&(a=e.getContextValue(a,b,"@language"),
null!==a&&(c["@language"]=a));-1===["boolean","number","string"].indexOf(typeof d)&&(d=d.toString());c["@value"]=d;return c}function m(a){var b={};if(T(a)){b.type="literal";var e=a["@value"],d=a["@type"]||null;"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)?(b.value=e.toString(),b.datatype=d||na):da(e)||d===ja?(da(e)||(e=parseFloat(e)),b.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),b.datatype=d||ja):ha(e)?(b.value=e.toFixed(0),b.datatype=d||oa):"@language"in a?
(b.value=e,b.datatype=d||ka,b.language=a["@language"]):(b.value=e,b.datatype=d||ba)}else a=H(a)?a["@id"]:a,b.type=0===a.indexOf("_:")?"blank node":"IRI",b.value=a;return"IRI"!==b.type||Y(b.value)?b:null}function s(a,b){if("hash"in b[a])return b[a].hash;for(var e=b[a].quads,d=[],c=0;c<e.length;++c)d.push(pa(e[c],e[c].name?e[c].name.value:null,a));d.sort();return b[a].hash=N.hash(d)}function B(a,b,d,c,f){function g(f){if(f===w.length)return l=Object.keys(t).sort(),m(0);var r=w[f],v=A(r.subject,a),y=
null;null!==v?y="p":(v=A(r.object,a),null!==v&&(y="r"));if(null!==v){var k;k=d.isNamed(v)?d.getName(v):c.isNamed(v)?c.getName(v):s(v,b);var u=N.create();u.update(y);u.update(r.predicate.value);u.update(k);r=u.digest();r in t?t[r].push(v):t[r]=[v]}e.setImmediate(function(){g(f+1)})}function m(a){function g(){function t(a){if(a===k.length)return ea(!1);var e=k[a];B(e,b,d,fa,function(b,d){if(b)return f(b);y+=fa.getName(e)+"<"+d.hash+">";fa=d.pathNamer;if(null!==w&&y.length>=w.length&&y>w)return ea(!0);
t(a+1)})}function ea(b){!b&&(null===w||y<w)&&(w=y,s=fa);v.hasNext()?e.setImmediate(function(){g()}):(r.update(w),c=s,m(a+1))}var l=v.next(),fa=c.clone(),y="",k=[],u;for(u in l){var A=l[u];d.isNamed(A)?y+=d.getName(A):(fa.isNamed(A)||k.push(A),y+=fa.getName(A));if(null!==w&&y.length>=w.length&&y>w)return ea(!0)}t(0)}if(a===l.length)return f(null,{hash:r.digest(),pathNamer:c});var ea=l[a];r.update(ea);var w=null,s=null,v=new qa(t[ea]);e.setImmediate(function(){g()})}var r=N.create(),t={},l,w=b[a].quads;
e.setImmediate(function(){g(0)})}function A(a,b){return"blank node"===a.type&&a.value!==b?a.value:null}function u(a,b,d,c,f,g){if(G(a))for(var m=0;m<a.length;++m)u(a[m],b,d,c,void 0,g);else if(H(a))if(T(a)){if("@type"in a){var r=a["@type"];0===r.indexOf("_:")&&(a["@type"]=c.getName(r))}g&&g.push(a)}else{if("@type"in a)for(var t=a["@type"],m=0;m<t.length;++m)r=t[m],0===r.indexOf("_:")&&c.getName(r);W(f)&&(f=ia(a)?c.getName(a["@id"]):a["@id"]);g&&g.push({"@id":f});g=b[d];m=g[f]=g[f]||{};m["@id"]=f;
r=Object.keys(a).sort();for(t=0;t<r.length;++t){var l=r[t];if("@id"!==l)if("@reverse"===l){var l={"@id":f},w=a["@reverse"],s;for(s in w)for(var y=w[s],v=0;v<y.length;++v){var k=y[v],B=k["@id"];ia(k)&&(B=c.getName(B));u(k,b,d,c,B);e.addValue(g[B],s,l,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===l)f in b||(b[f]={}),u(a[l],b,"@merged"===d?d:f,c);else if("@type"!==l&&M(l)){if("@index"===l&&"@index"in m)throw new D("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",
{code:"conflicting indexes",subject:m});m[l]=a[l]}else if(w=a[l],0===l.indexOf("_:")&&(l=c.getName(l)),0===w.length)e.addValue(m,l,[],{propertyIsArray:!0});else for(y=0;y<w.length;++y)v=w[y],"@type"===l&&(v=0===v.indexOf("_:")?c.getName(v):v),k=v,B=!1,!H(k)||"@value"in k||"@set"in k||"@list"in k||(B=1<Object.keys(k).length||!("@id"in k)),B||X(v)?(k=ia(v)?c.getName(v["@id"]):v["@id"],e.addValue(m,l,{"@id":k},{propertyIsArray:!0,allowDuplicate:!1}),u(v,b,d,c,k)):(U(v)?(k=[],u(v["@list"],b,d,c,f,k),
v={"@list":k}):u(v,b,d,c,f),e.addValue(m,l,v,{propertyIsArray:!0,allowDuplicate:!1}))}}else g&&g.push(a)}function I(a){for(var b=a["@default"],e=Object.keys(a).sort(),d=0;d<e.length;++d){var c=e[d];if("@default"!==c){var f=a[c],g=b[c];g?"@graph"in g||(g["@graph"]=[]):b[c]=g={"@id":c,"@graph":[]};for(var c=g["@graph"],g=Object.keys(f).sort(),h=0;h<g.length;++h){var m=f[g[h]];X(m)||c.push(m)}}}return b}function C(a,b,e,d,c){var f=e;if(!G(f)||1!==f.length||!H(f[0]))throw new D("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.",
"jsonld.SyntaxError",{frame:f});e=e[0];for(var f=a.options,g={embed:J(e,f,"embed"),explicit:J(e,f,"explicit"),requireAll:J(e,f,"requireAll")},h=e,m={},l=0;l<b.length;++l){var w=b[l],s=a.subjects[w];x(s,h,g)&&(m[w]=s)}b=Object.keys(m).sort();for(var v in b)if(w=b[v],l=m[w],"@link"===g.embed&&w in a.link)t(d,c,a.link[w]);else{null===c&&(a.uniqueEmbeds={});h={};h["@id"]=w;a.link[w]=h;if(!(s="@never"===g.embed))a:{for(var s=a.subjectStack,y=s.length-1;0<=y;--y)if(s[y]["@id"]===l["@id"]){s=!0;break a}s=
!1}if(s)t(d,c,h);else{"@last"===g.embed&&(w in a.uniqueEmbeds&&r(a,w),a.uniqueEmbeds[w]={parent:d,property:c});a.subjectStack.push(l);w=Object.keys(l).sort();for(s=0;s<w.length;s++)if(y=w[s],M(y))h[y]=R(l[y]);else if(!g.explicit||y in e)for(var k=l[y],u=0;u<k.length;++u){var B=k[u];if(U(B)){var A={"@list":[]};t(h,y,A);var n=B["@list"],q;for(q in n)if(B=n[q],X(B)){var I=y in e?e[y][0]["@list"]:F(g);C(a,[B["@id"]],I,A,"@list")}else t(A,"@list",R(B))}else X(B)?(I=y in e?e[y]:F(g),C(a,[B["@id"]],I,h,
y)):t(h,y,R(B))}w=Object.keys(e).sort();for(s=0;s<w.length;++s)y=w[s],M(y)||(l=e[y][0],J(l,f,"omitDefault")||y in h||(k="@null","@default"in l&&(k=R(l["@default"])),G(k)||(k=[k]),h[y]=[{"@preserve":k}]));t(d,c,h);a.subjectStack.pop()}}}function F(a){var b={},e;for(e in a)void 0!==a[e]&&(b["@"+e]=[a[e]]);return[b]}function J(a,b,e){var d="@"+e;a=d in a?a[d][0]:b[e];"embed"===e&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function x(a,b,d){if("@type"in
b&&(1!==b["@type"].length||!H(b["@type"][0]))){b=b["@type"];for(d=0;d<b.length;++d)if(e.hasValue(a,"@type",b[d]))return!0;return!1}var c=!0,f=!1,g;for(g in b){if(M(g)){if("@id"!==g&&"@type"!==g)continue;c=!1;if("@id"===g&&K(b[g])){if(a[g]!==b[g])return!1;f=!0;continue}}c=!1;if(g in a){if(G(b[g])&&0===b[g].length&&void 0!==a[g])return!1;f=!0}else{var m=G(b[g])&&H(b[g][0])&&"@default"in b[g][0];if(d.requireAll&&!m)return!1}}return c||f}function r(a,b){var d=a.uniqueEmbeds,c=d[b],f=c.parent,g=c.property,
c={"@id":b};if(G(f))for(g=0;g<f.length;++g){if(e.compareValues(f[g],c)){f[g]=c;break}}else{var m=G(f[g]);e.removeValue(f,g,c,{propertyIsArray:m});e.addValue(f,g,c,{propertyIsArray:m})}var r=function(a){for(var b=Object.keys(d),e=0;e<b.length;++e){var c=b[e];c in d&&H(d[c].parent)&&d[c].parent["@id"]===a&&(delete d[c],r(c))}};r(b)}function t(a,b,d){H(a)?e.addValue(a,b,d,{propertyIsArray:!0}):a.push(d)}function w(a,b,d){if(G(b)){for(var c=[],f=0;f<b.length;++f){var g=w(a,b[f],d);null!==g&&c.push(g)}b=
c}else if(H(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(T(b))return b;if(U(b))return b["@list"]=w(a,b["@list"],d),b;g=v(a,"@id");if(g in b)if(g=b[g],g in d.link)if(f=d.link[g].indexOf(b),-1===f)d.link[g].push(b);else return d.link[g][f];else d.link[g]=[b];for(c in b)g=w(a,b[c],d),f=e.getContextValue(a,c,"@container"),d.compactArrays&&G(g)&&1===g.length&&null===f&&(g=g[0]),b[c]=g}return b}function y(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:
1}function v(a,b,d,c,f){if(null===b)return b;W(d)&&(d=null);W(f)&&(f=!1);c=c||{};M(b)&&(c.vocab=!0);if(c.vocab&&b in a.getInverse()){var g=a["@language"]||"@none",m=[];H(d)&&"@index"in d&&m.push("@index");var r="@language",t="@null";if(f)r="@type",t="@reverse",m.push("@set");else if(U(d)){"@index"in d||m.push("@list");t=d["@list"];f=0===t.length?g:null;for(var g=null,l=0;l<t.length;++l){var w=t[l],s="@none",k="@none";T(w)?"@language"in w?s=w["@language"]:"@type"in w?k=w["@type"]:s="@null":k="@id";
null===f?f=s:s!==f&&T(w)&&(f="@none");null===g?g=k:k!==g&&(g="@none");if("@none"===f&&"@none"===g)break}f=f||"@none";g=g||"@none";"@none"!==g?(r="@type",t=g):t=f}else T(d)?"@language"in d&&!("@index"in d)?(m.push("@language"),t=d["@language"]):"@type"in d&&(r="@type",t=d["@type"]):(r="@type",t="@id"),m.push("@set");m.push("@none");a:{f=d;g=t;null===g&&(g="@null");t=[];"@id"!==g&&"@reverse"!==g||!X(f)?t.push(g):("@reverse"===g&&t.push("@reverse"),g=v(a,f["@id"],null,{vocab:!0}),g in a.mappings&&a.mappings[g]&&
a.mappings[g]["@id"]===f["@id"]?t.push.apply(t,["@vocab","@id"]):t.push.apply(t,["@id","@vocab"]));t.push("@none");f=a.inverse[b];for(g=0;g<m.length;++g)if(l=m[g],l in f)for(l=f[l][r],w=0;w<t.length;++w)if(s=t[w],s in l){m=l[s];break a}m=null}if(null!==m)return m}if(c.vocab&&"@vocab"in a&&(r=a["@vocab"],0===b.indexOf(r)&&b!==r&&(r=b.substr(r.length),!(r in a.mappings))))return r;r=null;for(m in a.mappings)-1===m.indexOf(":")&&(t=a.mappings[m])&&t["@id"]!==b&&0===b.indexOf(t["@id"])&&(t=m+":"+b.substr(t["@id"].length),
t in a.mappings&&(null!==d||!a.mappings[t]||a.mappings[t]["@id"]!==b)||!(null===r||0>y(t,r))||(r=t));if(null!==r)return r;if(!c.vocab&&(a=a["@base"],null!==a&&(K(a)&&(a=e.url.parse(a||"")),d="",""!==a.href?d+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(d+="//"),0===b.indexOf(d)))){b=e.url.parse(b.substr(d.length));a=a.normalizedPath.split("/");d=b.normalizedPath.split("/");for(c=b.fragment||b.query?0:1;0<a.length&&d.length>c&&a[0]===d[0];)a.shift(),d.shift();c="";if(0<a.length)for(a.pop(),
m=0;m<a.length;++m)c+="../";c+=d.join("/");null!==b.query&&(c+="?"+b.query);null!==b.fragment&&(c+="#"+b.fragment);""===c&&(c="./");b=c}return b}function L(a,b,d){if(T(d)){var c=e.getContextValue(a,b,"@type"),f=e.getContextValue(a,b,"@language"),g=e.getContextValue(a,b,"@container"),g="@index"in d&&"@index"!==g;if(!g&&(d["@type"]===c||d["@language"]===f))return d["@value"];var c=Object.keys(d).length,c=1===c||2===c&&"@index"in d&&!g,f="@language"in a,m=K(d["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];
if(c&&(!f||!m||b))return d["@value"];b={};g&&(b[v(a,"@index")]=d["@index"]);"@type"in d?b[v(a,"@type")]=v(a,d["@type"],null,{vocab:!0}):"@language"in d&&(b[v(a,"@language")]=d["@language"]);b[v(a,"@value")]=d["@value"];return b}g=E(a,b,{vocab:!0});c=e.getContextValue(a,b,"@type");d=v(a,d["@id"],null,{vocab:"@vocab"===c});if("@id"===c||"@vocab"===c||"@graph"===g)return d;b={};b[v(a,"@id")]=d;return b}function O(a,b,e,d){if(e in d){if(d[e])return;throw new D("Cyclical context definition detected.",
"jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:e});}d[e]=!1;if(M(e))throw new D("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:e});if(""===e)throw new D("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[e]&&delete a.mappings[e];var c=b[e];if(null===c||H(c)&&null===c["@id"])a.mappings[e]=null,d[e]=!0;else{K(c)&&(c={"@id":c});
if(!H(c))throw new D("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:b});var f=a.mappings[e]={};f.reverse=!1;if("@reverse"in c){if("@id"in c)throw new D("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});var g=c["@reverse"];if(!K(g))throw new D("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b});g=E(a,g,{vocab:!0,base:!1},b,d);if(!Y(g))throw new D("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=g;f.reverse=!0}else if("@id"in c){g=c["@id"];if(!K(g))throw new D("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(g!==e){g=E(a,g,{vocab:!0,
base:!1},b,d);if(!Y(g)&&!M(g))throw new D("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=g}}if(!("@id"in f)){var h=e.indexOf(":");if(-1!==h)g=e.substr(0,h),g in b&&O(a,b,g,d),a.mappings[g]?(h=e.substr(h+1),f["@id"]=a.mappings[g]["@id"]+h):f["@id"]=e;else{if(!("@vocab"in a))throw new D("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b,term:e});f["@id"]=a["@vocab"]+e}}d[e]=!0;if("@type"in c){e=c["@type"];if(!K(e))throw new D("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if("@id"!==e&&"@vocab"!==e){e=E(a,e,{vocab:!0,base:!1},b,d);if(!Y(e))throw new D("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===e.indexOf("_:"))throw new D("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.",
"jsonld.SyntaxError",{code:"invalid type mapping",context:b});}f["@type"]=e}if("@container"in c){a=c["@container"];if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new D("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(f.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new D("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.",
"jsonld.SyntaxError",{code:"invalid reverse property",context:b});f["@container"]=a}if("@language"in c&&!("@type"in c)){c=c["@language"];if(null!==c&&!K(c))throw new D("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==c&&(c=c.toLowerCase());f["@language"]=c}g=f["@id"];if("@context"===g||"@preserve"===g)throw new D("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",
{code:"invalid keyword alias",context:b});}}function E(a,b,e,d,c){if(null===b||M(b))return b;d&&b in d&&!0!==c[b]&&O(a,d,b,c);e=e||{};if(e.vocab){var f=a.mappings[b];if(null===f)return null;if(f)return f["@id"]}f=b.indexOf(":");if(-1!==f){e=b.substr(0,f);var g=b.substr(f+1);if("_"===e||0===g.indexOf("//"))return b;d&&e in d&&O(a,d,e,c);return(f=a.mappings[e])?f["@id"]+g:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=z(a["@base"],b));return b}function z(a,b){if(null===a||-1!==b.indexOf(":"))return b;
K(a)&&(a=e.url.parse(a||""));var d=e.url.parse(b),c=a.protocol||"",f,g,m;null!==d.authority?(f=d.authority,g=d.path,m=d.query):(f=a.authority,""===d.path?(g=a.path,m=null!==d.query?d.query:a.query):(0===d.path.indexOf("/")?g=d.path:(g=a.path,""!==d.path&&(g=g.substr(0,g.lastIndexOf("/")+1),0<g.length&&"/"!==g.substr(-1)&&(g+="/"),g+=d.path)),m=d.query));g=ua(g,!!f);null!==f&&(c+="//"+f);c+=g;null!==m&&(c+="?"+m);null!==d.fragment&&(c+="#"+d.fragment);""===c&&(c="./");return c}function Q(a){return{"@base":e.url.parse(a.base||
""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;for(var a=this.inverse={},b=this["@language"]||"@none",e=this.mappings,d=Object.keys(e).sort(y),c=0;c<d.length;++c){var f=d[c],g=e[f];if(null!==g){var h=g["@container"]||"@none",m=g["@id"];G(m)||(m=[m]);for(var t=0;t<m.length;++t){var r=m[t],l=a[r];l||(a[r]=l={});l[h]||(l[h]={"@language":{},"@type":{}});l=l[h];g.reverse?(l=l["@type"],"@reverse"in l||(l["@reverse"]=f)):"@type"in g?(l=l["@type"],r=g["@type"],r in
l||(l[r]=f)):"@language"in g?(l=l["@language"],r=g["@language"]||"@null",r in l||(l[r]=f)):(r=l["@language"],b in r||(r[b]=f),r=l["@type"],"@none"in r||(r["@none"]=f),l=l["@language"],"@none"in l||(l["@none"]=f))}}}return a},clone:function(){var a={};a["@base"]=this["@base"];a.mappings=R(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function M(a){if(!K(a))return!1;
switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}function H(a){return"[object Object]"===Object.prototype.toString.call(a)}function G(a){return Array.isArray(a)}function K(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}
function ha(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function da(a){return ha(a)&&-1!==String(a).indexOf(".")}function W(a){return"undefined"===typeof a}function X(a){return H(a)&&1===Object.keys(a).length&&"@id"in a}function T(a){return H(a)&&"@value"in a}function U(a){return H(a)&&"@list"in a}function ia(a){var b=!1;H(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function Y(a){return K(a)&&
-1!==a.indexOf(":")}function R(a){if(a&&"object"===typeof a){var b;if(G(a)){b=[];for(var e=0;e<a.length;++e)b[e]=R(a[e])}else if(H(a))for(e in b={},a)b[e]=R(a[e]);else b=a.toString();return b}return a}function ga(a,b,e,d){var c=Object.keys(b).length;if(G(a)){for(var f=0;f<a.length;++f)ga(a[f],b,e,d);return c<Object.keys(b).length}if(H(a)){for(var g in a)if("@context"!==g)ga(a[g],b,e,d);else{var h=a[g];if(G(h))for(var m=h.length,f=0;f<m;++f){var r=h[f];K(r)&&(r=z(d,r),e?(r=b[r],G(r)?(Array.prototype.splice.apply(h,
[f,1].concat(r)),f+=r.length-1,m=h.length):h[f]=r):r in b||(b[r]=!1))}else K(h)&&(h=z(d,h),e?a[g]=b[h]:h in b||(b[h]=!1))}return c<Object.keys(b).length}return!1}function va(a,b,e){var d=null,c=function(a,b,e,f,g){if(Object.keys(b).length>wa)return d=new D("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:wa}),g(d);var h={};ga(a,h,!1,f)||(ga(a,h,!0,f),g(null,a));var m=[],r;for(r in h)!1===h[r]&&m.push(r);var t=m.length;for(r=0;r<m.length;++r)(function(m){if(m in
b)return d=new D("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:m}),g(d);var r=R(b);r[m]=!0;var l=function(b,l){if(!d){var w=l?l.document:null;if(!b&&K(w))try{w=JSON.parse(w)}catch(s){b=s}b?b=new D("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:m,cause:b}):H(w)||(b=new D("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:m,cause:b}));if(b)return d=b,g(d);w="@context"in w?{"@context":w["@context"]}:{"@context":{}};l.contextUrl&&(G(w["@context"])||(w["@context"]=[w["@context"]]),w["@context"].push(l.contextUrl));c(w,r,e,m,function(b,e){if(b)return g(b);h[m]=e["@context"];
t-=1;0===t&&(ga(a,h,!0,f),g(null,a))})}},w=e(m,l);w&&"then"in w&&w.then(l.bind(null,null),l)})(m[r])};c(a,{},b.documentLoader,b.base,e)}function xa(a){var b=/^[ \t]*$/,e=RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*$'),d={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var c=0,f=0;f<a.length;++f){var g=a[f];c++;if(!b.test(g)){var h=g.match(e);if(null===h)throw new D("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:c});g={};W(h[1])?g.subject={type:"blank node",value:h[2]}:g.subject={type:"IRI",value:h[1]};g.predicate={type:"IRI",value:h[3]};if(W(h[4]))if(W(h[5])){g.object={type:"literal"};W(h[7])?W(h[8])?g.object.datatype=ba:(g.object.datatype=ka,g.object.language=h[8]):g.object.datatype=h[7];var m=h[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");g.object.value=m}else g.object={type:"blank node",value:h[5]};else g.object={type:"IRI",value:h[4]};m="@default";W(h[9])?W(h[10])||(m=h[10]):m=h[9];if(m in d){for(var h=!0,m=d[m],r=0;h&&r<m.length;++r){var t;a:{t=m[r];for(var l=["subject","predicate","object"],w=0;w<l.length;++w){var s=l[w];if(t[s].type!==g[s].type||t[s].value!==g[s].value){t=!1;break a}}t=t.object.language!==g.object.language||t.object.datatype!==g.object.datatype?
!1:!0}t&&(h=!1)}h&&m.push(g)}else d[m]=[g]}}return d}function pa(a,b,e){var d=a.subject,c=a.predicate;a=a.object;var f="",f="IRI"===d.type?f+("<"+d.value+">"):e?f+(d.value===e?"_:a":"_:z"):f+d.value,f=f+" ",f="IRI"===c.type?f+("<"+c.value+">"):e?f+"_:p":f+c.value,f=f+" ";"IRI"===a.type?f+="<"+a.value+">":"blank node"===a.type?f=e?f+(a.value===e?"_:a":"_:z"):f+a.value:(d=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),f+='"'+d+'"',a.datatype===
ka?a.language&&(f+="@"+a.language):a.datatype!==ba&&(f+="^^<"+a.datatype+">"));null!==b&&(f=0!==b.indexOf("_:")?f+(" <"+b+">"):e?f+" _:g":f+(" "+b));return f+" .\n"}function V(a){this.prefix=a;this.counter=0;this.existing={}}function ua(a,b){var e="";0===a.indexOf("/")&&(e="/");for(var d=a.split("/"),c=[];0<d.length;)"."===d[0]||""===d[0]&&1<d.length?d.shift():".."===d[0]?(d.shift(),b||0<c.length&&".."!==c[c.length-1]?c.pop():c.push("..")):c.push(d.shift());return e+c.join("/")}e.compact=function(a,
b,d,c){if(2>arguments.length)return e.nextTick(function(){c(new TypeError("Could not compact, too few arguments."))});"function"===typeof d&&(c=d,d={});d=d||{};if(null===b)return e.nextTick(function(){c(new D("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return e.nextTick(function(){c(null,null)});"base"in d||(d.base="string"===typeof a?a:"");"compactArrays"in d||(d.compactArrays=!0);"graph"in d||(d.graph=!1);"skipExpansion"in d||(d.skipExpansion=
!1);"documentLoader"in d||(d.documentLoader=e.loadDocument);"link"in d||(d.link=!1);d.link&&(d.skipExpansion=!0);(function(a,b,d){e.nextTick(function(){if(b.skipExpansion)return d(null,a);e.expand(a,b,d)})})(a,d,function(a,f){if(a)return c(new D("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var g=Q(d);e.processContext(g,b,d,function(a,e){if(a)return c(new D("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var g;try{g=(new P).compact(e,
null,f,d)}catch(h){return c(h)}var m=d;m.compactArrays&&!m.graph&&G(g)?1===g.length?g=g[0]:0===g.length&&(g={}):m.graph&&H(g)&&(g=[g]);H(b)&&"@context"in b&&(b=b["@context"]);b=R(b);G(b)||(b=[b]);m=b;b=[];for(var r=0;r<m.length;++r)(!H(m[r])||0<Object.keys(m[r]).length)&&b.push(m[r]);m=0<b.length;1===b.length&&(b=b[0]);if(G(g)){var t=v(e,"@graph"),r=g;g={};m&&(g["@context"]=b);g[t]=r}else if(H(g)&&m)for(t in r=g,g={"@context":b},r)g[t]=r[t];c(null,g,e)})})};e.expand=function(a,b,d){function c(a){"base"in
b||(b.base=a.documentUrl||"");a={document:R(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var e=R(b.expandContext);a.expandContext="object"===typeof e&&"@context"in e?e:{"@context":e}}va(a,b,function(a,e){if(a)return d(a);var c;try{var f=new P,g=Q(b),h=e.document,m=e.remoteContext["@context"];e.expandContext&&(g=f.processContext(g,e.expandContext["@context"],b));m&&(g=f.processContext(g,m,b));c=f.expand(g,null,h,b,!1);H(c)&&"@graph"in c&&1===Object.keys(c).length?c=
c["@graph"]:null===c&&(c=[]);G(c)||(c=[c])}catch(r){return d(r)}d(null,c)})}if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(d=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=e.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);e.nextTick(function(){if("string"===typeof a){var e=function(a,b){if(a)return d(a);try{if(!b.document)throw new D("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(e){return d(new D("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:b}))}c(b)},f=b.documentLoader(a,e);f&&"then"in f&&f.then(e.bind(null,null),e)}else c({contextUrl:null,documentUrl:null,document:a})})};e.flatten=function(a,b,d,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof d?(c=d,d={}):"function"===typeof b&&(c=b,b=null,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||(d.documentLoader=e.loadDocument);e.expand(a,d,function(a,f){if(a)return c(new D("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var g;try{g=(new P).flatten(f)}catch(m){return c(m)}if(null===b)return c(null,g);d.graph=!0;d.skipExpansion=!0;e.compact(g,b,d,function(a,b){if(a)return c(new D("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));c(null,b)})})};e.frame=function(a,b,d,c){function f(b){var g=b.document,m;g?(m=g["@context"],b.contextUrl?(m?G(m)?m.push(b.contextUrl):m=[m,b.contextUrl]:m=b.contextUrl,g["@context"]=m):m=m||{}):m={};e.expand(a,d,function(a,b){if(a)return c(new D("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var f=R(d);f.isFrame=!0;f.keepFreeFloatingNodes=!0;e.expand(g,f,function(a,d){if(a)return c(new D("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var g;try{g=(new P).frame(b,d,f)}catch(r){return c(r)}f.graph=!0;f.skipExpansion=!0;f.link={};e.compact(g,m,f,function(a,b,e){if(a)return c(new D("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=v(e,"@graph");f.link={};b[a]=w(e,b[a],f);c(null,b)})})})}if(2>arguments.length)return e.nextTick(function(){c(new TypeError("Could not frame, too few arguments."))});"function"===typeof d&&(c=d,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||
(d.documentLoader=e.loadDocument);"embed"in d||(d.embed="@last");d.explicit=d.explicit||!1;"requireAll"in d||(d.requireAll=!0);d.omitDefault=d.omitDefault||!1;e.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return c(a);try{if(!b.document)throw new D("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(e){return c(new D("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:b}))}f(b)},e=d.documentLoader(b,a);e&&"then"in e&&e.then(a.bind(null,null),a)}else f({contextUrl:null,documentUrl:null,document:b})})};e.link=function(a,b,d,c){var f={};b&&(f["@context"]=b);f["@embed"]="@link";e.frame(a,f,d,c)};e.objectify=function(a,b,d,c){"function"===typeof d&&(c=d,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||(d.documentLoader=e.loadDocument);e.expand(a,d,function(a,
f){if(a)return c(new D("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var g;try{g=(new P).flatten(f)}catch(m){return c(m)}d.graph=!0;d.skipExpansion=!0;e.compact(g,b,d,function(a,b,d){if(a)return c(new D("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=v(d,"@graph");var f=b[a][0],g=function(a){if(H(a)||G(a)){if(H(a)){if(g.visited[a["@id"]])return;g.visited[a["@id"]]=!0}for(var b in a){var c=a[b],m="@id"===e.getContextValue(d,b,"@type");
if(G(c)||H(c)||m)if(K(c)&&m)a[b]=c=f[c],g(c);else if(G(c))for(var r=0;r<c.length;++r)K(c[r])&&m?c[r]=f[c[r]]:H(c[r])&&"@id"in c[r]&&(c[r]=f[c[r]["@id"]]),g(c[r]);else H(c)&&(a[b]=c=f[c["@id"]],g(c))}}};g.visited={};g(f);b.of_type={};for(var m in f)if("@type"in f[m]){a=f[m]["@type"];G(a)||(a=[a]);for(var r in a)a[r]in b.of_type||(b.of_type[a[r]]=[]),b.of_type[a[r]].push(f[m])}c(null,b)})})};e.normalize=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);var c=R(b);delete c.format;c.produceGeneralizedRdf=!1;e.toRDF(a,c,function(a,e){if(a)return d(new D("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new P).normalize(e,b,d)})};e.fromRDF=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(d=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!K(a)||"format"in b||(b.format="application/nquads");e.nextTick(function(){function e(a,b,d){(new P).fromRDF(a,b,d)}var c;if(b.format){if(c=b.rdfParser||ra[b.format],!c)return d(new D("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else c=function(){return a};var f=!1;try{a=c(a,function(a,c){f=!0;if(a)return d(a);e(c,b,d)})}catch(g){if(!f)return d(g);
throw g;}if(a){if("then"in a)return a.then(function(a){e(a,b,d)},d);e(a,b,d)}})};e.toRDF=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return d(new D("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var c;
try{if(c=P.prototype.toRDF(e,b),b.format){if("application/nquads"===b.format){var f=d,g,m=[],h;for(h in c)for(var r=c[h],t=0;t<r.length;++t){var l=r[t];"@default"===h&&(h=null);m.push(pa(l,h))}m.sort();g=m.join("");return f(null,g)}throw new D("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(w){return d(w)}d(null,c)})};e.createNodeMap=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return d(new D("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var c;try{c=(new P).createNodeMap(e,b)}catch(f){return d(f)}d(null,c)})};e.merge=function(a,b,d,c){function f(a,b){if(!r){if(a)return r=a,c(new D("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));m.push(b);
0===--t&&g(m)}}function g(a){var f=!0;"mergeNodes"in d&&(f=d.mergeNodes);var m=d.namer||new V("_:b"),r={"@default":{}},t;try{for(var l=0;l<a.length;++l){var w=a[l],w=e.relabelBlankNodes(w,{namer:new V("_:b"+l+"-")}),s=f||0===l?r:{"@default":{}};u(w,s,"@default",m);if(s!==r)for(var y in s){var v=s[y];if(y in r){var k=r[y],B;for(B in v)B in k||(k[B]=v[B])}else r[y]=v}}t=I(r)}catch(A){return c(A)}a=[];f=Object.keys(t).sort();for(m=0;m<f.length;++m)r=t[f[m]],X(r)||a.push(r);if(null===b)return c(null,
a);d.graph=!0;d.skipExpansion=!0;e.compact(a,b,d,function(a,b){if(a)return c(new D("Could not compact merged output.","jsonld.MergeError",{cause:a}));c(null,b)})}if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not merge, too few arguments."))});if(!G(a))return e.nextTick(function(){c(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof d?(c=d,d={}):"function"===typeof b&&(c=b,b=null,d={});d=d||{};for(var m=[],r=null,t=a.length,l=0;l<a.length;++l){var w=
{},s;for(s in d)w[s]=d[s];e.expand(a[l],w,f)}};e.relabelBlankNodes=function(a,b){b=b||{};var e=b.namer||new V("_:b");return f(e,a)};e.documentLoader=function(a,b){var d=new D("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return c?b(d,{contextUrl:null,documentUrl:a,document:null}):e.promisify(function(a){a(d)})};e.loadDocument=function(a,b){var d=e.documentLoader(a,b);d&&"then"in d&&d.then(b.bind(null,
null),b)};e.promises=function(a){a=a||{};var b=Array.prototype.slice,d=e.promisify,c=a.api||{},f=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(f=a.api),c={});c.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return d.apply(null,[e.expand].concat(b.call(arguments)))};c.compact=function(a,c){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");return d.apply(null,[function(a,b,d,c){e.compact(a,b,d,function(a,
b){c(a,b)})}].concat(b.call(arguments)))};c.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return d.apply(null,[e.flatten].concat(b.call(arguments)))};c.frame=function(a,c){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return d.apply(null,[e.frame].concat(b.call(arguments)))};c.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");return d.apply(null,
[e.fromRDF].concat(b.call(arguments)))};c.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return d.apply(null,[e.toRDF].concat(b.call(arguments)))};c.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return d.apply(null,[e.normalize].concat(b.call(arguments)))};"jsonld.js"===f&&(c.link=function(a,c){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");return d.apply(null,
[e.link].concat(b.call(arguments)))},c.objectify=function(a){return d.apply(null,[e.objectify].concat(b.call(arguments)))},c.createNodeMap=function(a){return d.apply(null,[e.createNodeMap].concat(b.call(arguments)))},c.merge=function(a){return d.apply(null,[e.merge].concat(b.call(arguments)))});try{e.Promise=n.Promise||q("es6-promise").Promise}catch(g){a=function(){throw Error("Unable to find a Promise implementation.");};for(var m in c)c[m]=a}return c};e.promisify=function(a){if(!e.Promise)try{e.Promise=
n.Promise||q("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var d=Array.prototype.slice.call(arguments,1);return new e.Promise(function(b,e){a.apply(null,d.concat(function(a,d){a?e(a):b(d)}))})};e.promises({api:e.promises});d.prototype=e.promises({version:"json-ld-1.0"});d.prototype.toString=function(){return this instanceof d?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};e.JsonLdProcessor=d;var ca=!!Object.defineProperty;if(ca)try{Object.defineProperty({},
"x",{})}catch(za){ca=!1}ca&&(Object.defineProperty(d,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(d.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:d}));a&&"undefined"===typeof n.JsonLdProcessor&&(ca?Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:d}):n.JsonLdProcessor=d);"undefined"!==typeof k&&k.nextTick?(e.nextTick=k.nextTick,e.setImmediate="function"===typeof setImmediate?setImmediate:e.nextTick):"function"===
typeof setImmediate?e.setImmediate=e.nextTick=function(a){return setImmediate(a)}:(e.setImmediate=function(a){setTimeout(a,0)},e.nextTick=e.setImmediate);e.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var e=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,d=0;d<a.length;++d){var c=a[d].match(e);if(c){for(var f={target:c[1]},g=c[2],m=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;c=m.exec(g);)f[c[1]]=void 0===c[2]?c[3]:c[2];c=f.rel||"";G(b[c])?b[c].push(f):b[c]=c in b?[b[c],
f]:f}}return b};e.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};e.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};e.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};e.ActiveContextCache=
function(a){this.order=[];this.cache={};this.size=a||100};e.ActiveContextCache.prototype.get=function(a,b){var e=JSON.stringify(a),d=JSON.stringify(b);return(e=this.cache[e])&&d in e?e[d]:null};e.ActiveContextCache.prototype.set=function(a,b,e){if(this.order.length===this.size){var d=this.order.shift();delete this.cache[d.activeCtx][d.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=R(e)};e.cache={activeCtx:new e.ActiveContextCache};
e.documentLoaders={};e.documentLoaders.jquery=function(a,b){b=b||{};var d=function(d,c){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))return c(new D('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});if(b.secure&&0!==d.indexOf("https"))return c(new D('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",
{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});a.ajax({url:d,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,f){a={contextUrl:null,documentUrl:d,document:a};b=f.getResponseHeader("Content-Type");if((f=f.getResponseHeader("Link"))&&"application/ld+json"!==b){f=e.parseLinkHeader(f)[sa];if(G(f))return c(new D("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:d}),a);f&&(a.contextUrl=f.target)}c(null,a)},error:function(a,b,e){c(new D("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d,cause:e}),{contextUrl:null,documentUrl:d,document:null})}})},c="undefined"!==typeof Promise;"usePromise"in b&&(c=b.usePromise);return c?function(a){return e.promisify(d,a)}:d};e.documentLoaders.node=function(a){function b(r,t,l){if(0!==r.indexOf("http:")&&
0!==r.indexOf("https:"))return l(new D('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});if(a.secure&&0!==r.indexOf("https"))return l(new D('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null});var w=m.get(r);if(null!==w)return l(null,
w);f({url:r,headers:{Accept:"application/ld+json, application/json"},strictSSL:d,followRedirect:!1},function(a,d,f){w={contextUrl:null,documentUrl:r,document:f||null};if(a)return l(new D("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:a}),w);var s=g.STATUS_CODES[d.statusCode];if(400<=d.statusCode)return l(new D("URL could not be dereferenced: "+s,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:d.statusCode}),
w);if(d.headers.link&&"application/ld+json"!==d.headers["content-type"]){s=e.parseLinkHeader(d.headers.link)[sa];if(G(s))return l(new D("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),w);s&&(w.contextUrl=s.target)}if(300<=d.statusCode&&400>d.statusCode&&d.headers.location){if(t.length===c)return l(new D("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",
url:r,httpStatusCode:d.statusCode,redirects:t}),w);if(-1!==t.indexOf(r))return l(new D("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:d.statusCode,redirects:t}),w);t.push(r);return b(d.headers.location,t,l)}t.push(r);for(d=0;d<t.length;++d)m.set(t[d],{contextUrl:null,documentUrl:t[d],document:f});l(a,w)})}a=a||{};var d="strictSSL"in a?a.strictSSL:!0,c="maxRedirects"in a?a.maxRedirects:-1,
f=q("request"),g=q("http"),m=new e.DocumentCache,r=function(a,e){b(a,[],e)};return a.usePromise?function(a){return e.promisify(r,a)}:r};e.documentLoaders.xhr=function(a){var b=/(^|(\r\n))link:/i;a=a||{};var d=function(d,c){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))return c(new D('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});if(a.secure&&0!==d.indexOf("https"))return c(new D('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});var f=new (a.xhr||XMLHttpRequest);f.onload=function(a){if(400<=f.status)return c(new D("URL could not be dereferenced: "+f.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:d,httpStatusCode:f.status}),{contextUrl:null,documentUrl:d,document:null});a={contextUrl:null,documentUrl:d,document:f.response};var g=f.getResponseHeader("Content-Type"),m;b.test(f.getAllResponseHeaders())&&
(m=f.getResponseHeader("Link"));if(m&&"application/ld+json"!==g){m=e.parseLinkHeader(m)[sa];if(G(m))return c(new D("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:d}),a);m&&(a.contextUrl=m.target)}c(null,a)};f.onerror=function(){c(new D("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null})};
f.open("GET",d,!0);f.setRequestHeader("Accept","application/ld+json, application/json");f.send()},c="undefined"!==typeof Promise;"usePromise"in a&&(c=a.usePromise);return c?function(a){return e.promisify(d,a)}:d};e.useDocumentLoader=function(a){if(!(a in e.documentLoaders))throw new D('Unknown document loader type: "'+a+'"',"jsonld.UnknownDocumentLoader",{type:a});e.documentLoader=e.documentLoaders[a].apply(e,Array.prototype.slice.call(arguments,1))};e.processContext=function(a,b){var d={},c=2;3<
arguments.length&&(d=arguments[2]||{},c+=1);var f=arguments[c];"base"in d||(d.base="");"documentLoader"in d||(d.documentLoader=e.loadDocument);if(null===b)return f(null,Q(d));b=R(b);H(b)&&"@context"in b||(b={"@context":b});va(b,d,function(b,e){if(b)return f(b);try{e=(new P).processContext(a,e,d)}catch(c){return f(c)}f(null,e)})};e.hasProperty=function(a,b){var e=!1;b in a&&(e=a[b],e=!G(e)||0<e.length);return e};e.hasValue=function(a,b,d){var c=!1;if(e.hasProperty(a,b))if(a=a[b],b=U(a),G(a)||b)for(b&&
(a=a["@list"]),b=0;b<a.length;++b){if(e.compareValues(d,a[b])){c=!0;break}}else G(d)||(c=e.compareValues(d,a));return c};e.addValue=function(a,b,d,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);"allowDuplicate"in c||(c.allowDuplicate=!0);if(G(d)){0!==d.length||!c.propertyIsArray||b in a||(a[b]=[]);for(var f=0;f<d.length;++f)e.addValue(a,b,d[f],c)}else b in a?(f=!c.allowDuplicate&&e.hasValue(a,b,d),G(a[b])||f&&!c.propertyIsArray||(a[b]=[a[b]]),f||a[b].push(d)):a[b]=c.propertyIsArray?[d]:
d};e.getValues=function(a,b){var e=a[b]||[];G(e)||(e=[e]);return e};e.removeProperty=function(a,b){delete a[b]};e.removeValue=function(a,b,d,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);var f=e.getValues(a,b).filter(function(a){return!e.compareValues(a,d)});0===f.length?e.removeProperty(a,b):a[b]=1!==f.length||c.propertyIsArray?f:f[0]};e.compareValues=function(a,b){return a===b||T(a)&&T(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===
b["@index"]?!0:H(a)&&"@id"in a&&H(b)&&"@id"in b?a["@id"]===b["@id"]:!1};e.getContextValue=function(a,b,e){var d=null;if(null===b)return d;"@language"===e&&e in a&&(d=a[e]);a.mappings[b]&&(a=a.mappings[b],W(e)?d=a:e in a&&(d=a[e]));return d};var ra={};e.registerRDFParser=function(a,b){ra[a]=b};e.unregisterRDFParser=function(a){delete ra[a]};if(c){if("undefined"===typeof la)var la=null;if("undefined"===typeof ta)var ta={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,
ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var na="http://www.w3.org/2001/XMLSchema#boolean",ja="http://www.w3.org/2001/XMLSchema#double",oa="http://www.w3.org/2001/XMLSchema#integer",ba="http://www.w3.org/2001/XMLSchema#string",ka="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",sa="http://www.w3.org/ns/json-ld#context",wa=10,D=function(a,b,e){c?(Error.call(this),Error.captureStackTrace(this,
this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=e||{}};c?q("util").inherits(D,Error):"undefined"!==typeof Error&&(D.prototype=Error());var P=function(){};P.prototype.compact=function(a,b,d,c){if(G(d)){for(var f=[],g=0;g<d.length;++g){var m=this.compact(a,b,d[g],c);null!==m&&f.push(m)}if(c.compactArrays&&1===f.length){var r=e.getContextValue(a,b,"@container");null===r&&(f=f[0])}return f}if(H(d)){if(c.link&&
"@id"in d&&d["@id"]in c.link)for(f=c.link[d["@id"]],g=0;g<f.length;++g)if(f[g].expanded===d)return f[g].compacted;if(T(d)||X(d))return f=L(a,b,d),c.link&&X(d)&&(d["@id"]in c.link||(c.link[d["@id"]]=[]),c.link[d["@id"]].push({expanded:d,compacted:f})),f;g="@reverse"===b;f={};c.link&&"@id"in d&&(d["@id"]in c.link||(c.link[d["@id"]]=[]),c.link[d["@id"]].push({expanded:d,compacted:f}));for(var t=Object.keys(d).sort(),l=0;l<t.length;++l){var w=t[l],s=d[w];if("@id"===w||"@type"===w){var y;if(K(s))y=v(a,
s,null,{vocab:"@type"===w});else{y=[];for(var k=0;k<s.length;++k)y.push(v(a,s[k],null,{vocab:!0}))}w=v(a,w);r=G(y)&&0===s.length;e.addValue(f,w,y,{propertyIsArray:r})}else if("@reverse"===w){y=this.compact(a,"@reverse",s,c);for(m in y)a.mappings[m]&&a.mappings[m].reverse&&(s=y[m],r=e.getContextValue(a,m,"@container"),e.addValue(f,m,s,{propertyIsArray:"@set"===r||!c.compactArrays}),delete y[m]);0<Object.keys(y).length&&(w=v(a,w),e.addValue(f,w,y))}else if("@index"===w)r=e.getContextValue(a,b,"@container"),
"@index"!==r&&(w=v(a,w),e.addValue(f,w,s));else if("@graph"!==w&&"@list"!==w&&M(w))w=v(a,w),e.addValue(f,w,s);else for(0===s.length&&(y=v(a,w,s,{vocab:!0},g),e.addValue(f,y,s,{propertyIsArray:!0})),k=0;k<s.length;++k){var u=s[k];y=v(a,w,u,{vocab:!0},g);var r=e.getContextValue(a,y,"@container"),B=U(u),A=null;B&&(A=u["@list"]);A=this.compact(a,y,B?A:u,c);if(B)if(G(A)||(A=[A]),"@list"!==r)B={},B[v(a,"@list")]=A,A=B,"@index"in u&&(A[v(a,"@index")]=u["@index"]);else if(y in f)throw new D('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',
"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===r||"@index"===r){var n;y in f?n=f[y]:f[y]=n={};"@language"===r&&T(A)&&(A=A["@value"]);e.addValue(n,u[r],A)}else r=!c.compactArrays||"@set"===r||"@list"===r||G(A)&&0===A.length||"@list"===w||"@graph"===w,e.addValue(f,y,A,{propertyIsArray:r})}}return f}return d};P.prototype.expand=function(a,b,d,c,f){if(null===d||void 0===d)return null;if(!G(d)&&!H(d))return f||null!==b&&"@graph"!==E(a,b,{vocab:!0})?g(a,b,d):null;if(G(d)){var m=
[],r=e.getContextValue(a,b,"@container");f=f||"@list"===r;for(var t=0;t<d.length;++t){var w=this.expand(a,b,d[t],c);if(f&&(G(w)||U(w)))throw new D("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==w&&(G(w)?m=m.concat(w):m.push(w))}return m}"@context"in d&&(a=this.processContext(a,d["@context"],c));for(var t=E(a,b,{vocab:!0}),m={},w=Object.keys(d).sort(),s=0;s<w.length;++s){var y=w[s],k=d[y];if("@context"!==y){var v=E(a,y,{vocab:!0});if(null!==
v&&(Y(v)||M(v))){if(M(v)){if("@reverse"===t)throw new D("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:k});if(v in m)throw new D("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v});}if("@id"===v&&!K(k)){if(!c.isFrame)throw new D('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:k});if(!H(k))throw new D('Invalid JSON-LD syntax; "@id" value must be a string or an object.',
"jsonld.SyntaxError",{code:"invalid @id value",value:k});}if("@type"===v){var r=k,u=void 0;(u=K(r))||(u=H(r)&&0===Object.keys(r).length);if(!u){u=!1;if(G(r))for(var u=!0,B=0;B<r.length;++B)if(!K(r[B])){u=!1;break}if(!u)throw new D('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:r});}}if("@graph"===v&&!H(k)&&!G(k))throw new D('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',
"jsonld.SyntaxError",{code:"invalid @graph value",value:k});if("@value"===v&&(H(k)||G(k)))throw new D('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:k});if("@language"===v){if(null===k)continue;if(!K(k))throw new D('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:k});k=k.toLowerCase()}if("@index"===v&&!K(k))throw new D('Invalid JSON-LD syntax; "@index" value must be a string.',
"jsonld.SyntaxError",{code:"invalid @index value",value:k});if("@reverse"===v){if(!H(k))throw new D('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:k});k=this.expand(a,"@reverse",k,c);if("@reverse"in k)for(var A in k["@reverse"])e.addValue(m,A,k["@reverse"][A],{propertyIsArray:!0});y=m["@reverse"]||null;for(A in k)if("@reverse"!==A)for(null===y&&(y=m["@reverse"]={}),e.addValue(y,A,[],{propertyIsArray:!0}),v=k[A],r=0;r<v.length;++r){u=
v[r];if(T(u)||U(u))throw new D('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});e.addValue(y,A,u,{propertyIsArray:!0})}}else{r=e.getContextValue(a,y,"@container");if("@language"===r&&H(k)){for(var u=[],B=Object.keys(k).sort(),n=0;n<B.length;++n){var C=B[n],q=k[C];G(q)||(q=[q]);for(var F=0;F<q.length;++F){var I=q[F];if(!K(I))throw new D("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",
{code:"invalid language map value",languageMap:k});u.push({"@value":I,"@language":C.toLowerCase()})}}k=u}else if("@index"===r&&H(k)){u=y;B=[];n=Object.keys(k).sort();for(C=0;C<n.length;++C)for(q=n[C],F=k[q],G(F)||(F=[F]),F=this.expand(a,u,F,c,!1),I=0;I<F.length;++I){var L=F[I];"@index"in L||(L["@index"]=q);B.push(L)}k=B}else if((u="@list"===v)||"@set"===v){if(B=b,u&&"@graph"===t&&(B=null),k=this.expand(a,B,k,c,u),u&&U(k))throw new D("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",
{code:"list of lists"});}else k=this.expand(a,y,k,c,!1);if(null!==k||"@value"===v)if("@list"===v||U(k)||"@list"!==r||(k=G(k)?k:[k],k={"@list":k}),a.mappings[y]&&a.mappings[y].reverse)for(y=m["@reverse"]=m["@reverse"]||{},G(k)||(k=[k]),r=0;r<k.length;++r){u=k[r];if(T(u)||U(u))throw new D('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});e.addValue(y,v,u,{propertyIsArray:!0})}else y=-1===["@index","@id",
"@type","@value","@language"].indexOf(v),e.addValue(m,v,k,{propertyIsArray:y})}}}}w=Object.keys(m);a=w.length;if("@value"in m){if("@type"in m&&"@language"in m)throw new D('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:m});d=a-1;"@type"in m&&(d-=1);"@index"in m&&(d-=1);"@language"in m&&(d-=1);if(0!==d)throw new D('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:m});if(null===m["@value"])m=null;else{if("@language"in m&&!K(m["@value"]))throw new D("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:m});if("@type"in m&&(!Y(m["@type"])||0===m["@type"].indexOf("_:")))throw new D('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",
element:m});}}else if("@type"in m&&!G(m["@type"]))m["@type"]=[m["@type"]];else if("@set"in m||"@list"in m){if(1<a&&!(2===a&&"@index"in m))throw new D('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:m});"@set"in m&&(m=m["@set"],w=Object.keys(m),a=w.length)}else 1===a&&"@language"in m&&(m=null);!H(m)||c.keepFreeFloatingNodes||f||null!==b&&"@graph"!==
t||!(0===a||"@value"in m||"@list"in m||1===a&&"@id"in m)||(m=null);return m};P.prototype.createNodeMap=function(a,b){b=b||{};var e=b.namer||new V("_:b"),d={"@default":{}};u(a,d,"@default",e);return I(d)};P.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],e=Object.keys(a).sort(),d=0;d<e.length;++d){var c=a[e[d]];X(c)||b.push(c)}return b};P.prototype.frame=function(a,b,e){e={options:e,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var d=new V("_:b");u(a,e.graphs,"@merged",
d);e.subjects=e.graphs["@merged"];a=[];C(e,Object.keys(e.subjects).sort(),b,a,null);return a};P.prototype.normalize=function(a,b,d){function c(a){function b(c){if(c===a.length)return f(m,g,d);var r=a[c],l=s(r,t);l in g?(g[l].push(r),d.push(r)):l in m?(g[l]=[m[l],r],d.push(m[l]),d.push(r),delete m[l]):m[l]=r;e.setImmediate(function(){b(c+1)})}var d=[],g={},m={};e.setImmediate(function(){b(0)})}function f(a,b,d){for(var e=!1,m=Object.keys(a).sort(),h=0;h<m.length;++h)n.getName(a[m[h]]),e=!0;e?c(d):
g(b)}function g(a){function b(c){function f(a,e){if(e===a.length){g.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var m in g)for(var h in g[m].pathNamer.existing)n.getName(h);return b(c+1)}m=a[e];if(n.isNamed(m))return f(a,e+1);h=new V("_:b");h.getName(m);B(m,t,n,h,function(b,c){if(b)return d(b);g.push(c);f(a,e+1)})}if(c===e.length)return m();var g=[];f(a[e[c]],0)}var e=Object.keys(a).sort();b(0)}function m(){for(var a=[],e=0;e<r.length;++e){for(var c=r[e],f=["subject","object",
"name"],g=0;g<f.length;++g){var h=f[g];c[h]&&"blank node"===c[h].type&&0!==c[h].value.indexOf("_:c14n")&&(c[h].value=n.getName(c[h].value))}a.push(pa(c,c.name?c.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?d(null,a.join("")):d(new D("Unknown output format.","jsonld.UnknownFormat",{format:b.format}));d(null,xa(a.join("")))}var r=[],t={},l;for(l in a){var w=a[l];"@default"===l&&(l=null);for(var k=0;k<w.length;++k){var y=w[k];null!==l&&(0===l.indexOf("_:")?y.name={type:"blank node",
value:l}:y.name={type:"IRI",value:l});r.push(y);for(var v=["subject","object","name"],u=0;u<v.length;++u){var A=v[u];y[A]&&"blank node"===y[A].type&&(A=y[A].value,A in t?t[A].quads.push(y):t[A]={quads:[y]})}}}var n=new V("_:c14n");return c(Object.keys(t))};P.prototype.fromRDF=function(a,b,d){var c={},f={"@default":c},g={},m;for(m in a){var r=a[m];m in f||(f[m]={});"@default"===m||m in c||(c[m]={"@id":m});for(var t=f[m],l=0;l<r.length;++l){var w=r[l],s=w.subject.value,k=w.predicate.value,w=w.object;
s in t||(t[s]={"@id":s});var s=t[s],y="IRI"===w.type||"blank node"===w.type;!y||w.value in t||(t[w.value]={"@id":w.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===k&&!b.useRdfType&&y)e.addValue(s,"@type",w.value,{propertyIsArray:!0});else{var v;var u=w,B=b.useNativeTypes;"IRI"===u.type||"blank node"===u.type?v={"@id":u.value}:(v={"@value":u.value},u.language?v["@language"]=u.language:((u=u.datatype)||(u=ba),B?(u===na?"true"===v["@value"]?v["@value"]=!0:"false"===v["@value"]&&(v["@value"]=
!1):(B=v["@value"],!isNaN(parseFloat(B))&&isFinite(B)&&(u===oa?(B=parseInt(v["@value"],10),B.toFixed(0)===v["@value"]&&(v["@value"]=B)):u===ja&&(v["@value"]=parseFloat(v["@value"])))),-1===[na,oa,ja,ba].indexOf(u)&&(v["@type"]=u)):u!==ba&&(v["@type"]=u)));e.addValue(s,k,v,{propertyIsArray:!0});y&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===w.value?(w=t[w.value],"usages"in w||(w.usages=[]),w.usages.push({node:s,property:k,value:v})):g[w.value]=w.value in g?!1:{node:s,property:k,value:v})}}}for(m in f)if(b=
f[m],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in b){r=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<r.usages.length;++a){w=r.usages[a];s=w.node;l=w.property;w=w.value;k=[];t=[];for(y=Object.keys(s).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===l&&H(g[s["@id"]])&&G(s["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===s["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&G(s["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===s["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&
(3===y||4===y&&G(s["@type"])&&1===s["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===s["@type"][0])&&(k.push(s["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),t.push(s["@id"]),w=g[s["@id"]],s=w.node,l=w.property,w=w.value,y=Object.keys(s).length,0===s["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===l){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===s["@id"])continue;w=b[w["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];
k.pop();t.pop()}delete w["@id"];w["@list"]=k.reverse();for(s=0;s<t.length;++s)delete b[t[s]]}delete r.usages}g=[];m=Object.keys(c).sort();for(a=0;a<m.length;++a){b=m[a];s=c[b];if(b in f)for(r=s["@graph"]=[],b=f[b],t=Object.keys(b).sort(),l=0;l<t.length;++l)k=b[t[l]],X(k)||r.push(k);X(s)||g.push(s)}d(null,g)};P.prototype.toRDF=function(a,b){var e=new V("_:b"),d={"@default":{}};u(a,d,"@default",e);for(var c={},f=Object.keys(d).sort(),g=0;g<f.length;++g){var h=f[g];if("@default"===h||Y(h)){for(var r=
c,t=h,h=d[h],l=e,w=b,s=[],k=Object.keys(h).sort(),y=0;y<k.length;++y)for(var v=k[y],B=h[v],A=Object.keys(B).sort(),n=0;n<A.length;++n){var C=A[n],q=B[C];if("@type"===C)C="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(M(C))continue;for(var F=0;F<q.length;++F){var I=q[F],L={};L.type=0===v.indexOf("_:")?"blank node":"IRI";L.value=v;if(Y(v)){var J={};J.type=0===C.indexOf("_:")?"blank node":"IRI";J.value=C;if(Y(C)&&("blank node"!==J.type||w.produceGeneralizedRdf))if(U(I)){for(var I=I["@list"],
O=l,E=s,x={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},S={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},da=0;da<I.length;++da){var z=I[da],D={type:"blank node",value:O.getName()};E.push({subject:L,predicate:J,object:D});L=D;J=x;(z=m(z))&&E.push({subject:L,predicate:J,object:z});J=S}E.push({subject:L,predicate:J,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(I=m(I))&&s.push({subject:L,predicate:J,object:I})}}}r[t]=s}}return c};
P.prototype.processContext=function(a,b,d){H(b)&&"@context"in b&&G(b["@context"])&&(b=b["@context"]);b=G(b)?b:[b];if(0===b.length)return a.clone();for(var c=a,f=0;f<b.length;++f){var g=b[f];if(null===g)c=a=Q(d);else{H(g)&&"@context"in g&&(g=g["@context"]);if(!H(g))throw new D("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});if(e.cache.activeCtx&&(a=e.cache.activeCtx.get(a,g))){c=a;continue}a=c;var c=c.clone(),m={};if("@base"in g){var r=
g["@base"];if(null===r)r=null;else{if(!K(r))throw new D('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});if(""!==r&&!Y(r))throw new D('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});}null!==r&&(r=e.url.parse(r||""));c["@base"]=r;m["@base"]=!0}if("@vocab"in g){r=g["@vocab"];if(null===r)delete c["@vocab"];
else if(K(r))if(Y(r))c["@vocab"]=r;else throw new D('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});else throw new D('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});m["@vocab"]=!0}if("@language"in g){r=g["@language"];if(null===r)delete c["@language"];else if(K(r))c["@language"]=r.toLowerCase();else throw new D('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid default language",context:g});m["@language"]=!0}for(var t in g)O(c,g,t,m);e.cache.activeCtx&&e.cache.activeCtx.set(a,g,c)}}return c};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.push(e);return b});e.registerRDFParser("application/nquads",xa);e.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},e=a.getSubjects(),d=0;d<
e.length;++d){var c=e[d];if(null!==c){var f=a.getSubjectTriples(c);if(null!==f){var f=f.predicates,g;for(g in f)for(var m=f[g].objects,h=0;h<m.length;++h){var r=m[h],t={};0===c.indexOf("_:")?t.subject={type:"blank node",value:c}:t.subject={type:"IRI",value:c};0===g.indexOf("_:")?t.predicate={type:"blank node",value:g}:t.predicate={type:"IRI",value:g};var l=r.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===r.type){la||(la=q("xmldom").XMLSerializer);for(var w=new la,l="",s=0;s<r.value.length;s++)r.value[s].nodeType===
ta.ELEMENT_NODE?l+=w.serializeToString(r.value[s]):r.value[s].nodeType===ta.TEXT_NODE&&(l+=r.value[s].nodeValue)}t.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===r.type?0===r.value.indexOf("_:")?t.object.type="blank node":t.object.type="IRI":(t.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===r.type?r.language?(t.object.datatype=ka,t.object.language=r.language):t.object.datatype=ba:t.object.datatype=r.type);t.object.value=l;b["@default"].push(t)}}}}return b});
e.UniqueNamer=V;V.prototype.clone=function(){var a=new V(this.prefix);a.counter=this.counter;a.existing=R(this.existing);return a};V.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};V.prototype.isNamed=function(a){return a in this.existing};var qa=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};qa.prototype.hasNext=function(){return!this.done};
qa.prototype.next=function(){for(var a=this.list.slice(),b=null,e=0,d=this.list.length,c=0;c<d;++c){var f=this.list[c],g=this.left[f];(null===b||f>b)&&(g&&0<c&&f>this.list[c-1]||!g&&c<d-1&&f>this.list[c+1])&&(b=f,e=c)}if(null===b)this.done=!0;else for(c=this.left[b]?e-1:e+1,this.list[e]=this.list[c],this.list[c]=b,c=0;c<d;++c)this.list[c]>b&&(this.left[this.list[c]]=!this.left[this.list[c]]);return a};var N=e.sha1={};if(c){var ya=q("crypto");N.create=function(){var a=ya.createHash("sha1");return{update:function(b){a.update(b,
"utf8")},digest:function(){return a.digest("hex")}}}}else N.create=function(){return new N.MessageDigest};N.hash=function(a){for(var b=N.create(),e=0;e<a.length;++e)b.update(a[e]);return b.digest()};if(!c){N.Buffer=function(){this.data="";this.read=0};N.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};N.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<
24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};N.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};N.Buffer.prototype.length=function(){return this.data.length-this.read};N.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};N.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var e=this.data.charCodeAt(b);16>e&&(a+="0");a+=e.toString(16)}return a};
N.MessageDigest=function(){Z.initialized||Z.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new N.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};N.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;Z.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};N.MessageDigest.prototype.digest=
function(){var a=this.messageLength,b=new N.Buffer;b.data+=this.input.bytes();b.data+=Z.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);Z.update(this.state,this.words,b);a=new N.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var Z={padding:null,initialized:!1,init:function(){Z.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&1&&(Z.padding+=
a),b>>>=1,0<b&&(a+=a);Z.initialized=!0},update:function(a,b,e){for(var d,c,f,g,m,h,r,t,l=e.length();64<=l;){c=a.h0;f=a.h1;g=a.h2;m=a.h3;h=a.h4;for(t=0;16>t;++t)d=e.getInt32(),b[t]=d,r=m^f&(g^m),d=(c<<5|c>>>27)+r+h+1518500249+d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;for(;20>t;++t)d=b[t-3]^b[t-8]^b[t-14]^b[t-16],d=d<<1|d>>>31,b[t]=d,r=m^f&(g^m),d=(c<<5|c>>>27)+r+h+1518500249+d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;for(;32>t;++t)d=b[t-3]^b[t-8]^b[t-14]^b[t-16],d=d<<1|d>>>31,b[t]=d,r=f^g^m,d=(c<<5|c>>>27)+r+h+1859775393+
d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;for(;40>t;++t)d=b[t-6]^b[t-16]^b[t-28]^b[t-32],d=d<<2|d>>>30,b[t]=d,r=f^g^m,d=(c<<5|c>>>27)+r+h+1859775393+d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;for(;60>t;++t)d=b[t-6]^b[t-16]^b[t-28]^b[t-32],d=d<<2|d>>>30,b[t]=d,r=f&g|m&(f^g),d=(c<<5|c>>>27)+r+h+2400959708+d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;for(;80>t;++t)d=b[t-6]^b[t-16]^b[t-28]^b[t-32],d=d<<2|d>>>30,b[t]=d,r=f^g^m,d=(c<<5|c>>>27)+r+h+3395469782+d,h=m,m=g,g=f<<30|f>>>2,f=c,c=d;a.h0+=c;a.h1+=f;a.h2+=g;a.h3+=m;a.h4+=h;l-=64}}}}e.url=
{};e.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};e.url.parse=function(a,b){for(var d={},c=e.url.parsers[b||"full"],f=
c.regex.exec(a),g=c.keys.length;g--;)d[c.keys[g]]=void 0===f[g]?null:f[g];d.normalizedPath=ua(d.path,!!d.authority);return d};c?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr");c&&(e.use=function(a){switch(a){case "request":e.request=q("./request");break;default:throw new D("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},ca={exports:{},filename:b},q("pkginfo")(ca,"version"),e.version=ca.exports.version);return e},g=function(){return e(function(){return g()})};
e(g);"function"===typeof q&&"undefined"!==typeof z&&z.exports&&(z.exports=g);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=g:jsonldjs=g);return g})()}).call(this,q("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/../node_modules/jsonld/js")},{"./request":31,"1YiZ5S":13,crypto:31,"es6-promise":33,http:31,pkginfo:34,request:31,util:31,xmldom:31}],33:[function(q,z,x){(function(k,n){(function(){function b(a){return"function"===typeof a}function c(){return function(){k.nextTick(h)}}
function a(){var a=0,b=new O(h),d=document.createTextNode("");b.observe(d,{characterData:!0});return function(){d.data=a=++a%2}}function e(){var a=new MessageChannel;a.port1.onmessage=h;return function(){a.port2.postMessage(0)}}function g(){return function(){setTimeout(h,1)}}function h(){for(var a=0;a<y;a+=2)(0,E[a])(E[a+1]),E[a]=void 0,E[a+1]=void 0;y=0}function d(){}function f(a,b,d,e){try{a.call(b,d,e)}catch(c){return c}}function l(a,b,d){v(function(a){var e=!1,c=f(d,b,function(d){e||(e=!0,b!==
d?s(a,d):A(a,d))},function(b){e||(e=!0,u(a,b))},"Settle: "+(a._label||" unknown promise"));!e&&c&&(e=!0,u(a,c))},a)}function m(a,b){b._state===M?A(a,b._result):a._state===H?u(a,b._result):q(b,void 0,function(b){s(a,b)},function(b){u(a,b)})}function s(a,d){if(a===d)u(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof d||"object"===typeof d&&null!==d)if(d.constructor===a.constructor)m(a,d);else{var e;try{e=d.then}catch(c){G.error=c,e=G}e===G?u(a,G.error):void 0===
e?A(a,d):b(e)?l(a,d,e):A(a,d)}else A(a,d)}function B(a){a._onerror&&a._onerror(a._result);C(a)}function A(a,b){a._state===Q&&(a._result=b,a._state=M,0!==a._subscribers.length&&v(C,a))}function u(a,b){a._state===Q&&(a._state=H,a._result=b,v(B,a))}function q(a,b,d,e){var c=a._subscribers,f=c.length;a._onerror=null;c[f]=b;c[f+M]=d;c[f+H]=e;0===f&&a._state&&v(C,a)}function C(a){var b=a._subscribers,d=a._state;if(0!==b.length){for(var e,c,f=a._result,g=0;g<b.length;g+=3)e=b[g],c=b[g+d],e?J(d,e,c,f):c(f);
a._subscribers.length=0}}function F(){this.error=null}function J(a,d,e,c){var f=b(e),g,m,h,r;if(f){try{g=e(c)}catch(t){K.error=t,g=K}g===K?(r=!0,m=g.error,g=null):h=!0;if(d===g){u(d,new TypeError("A promises callback cannot return that same promise."));return}}else g=c,h=!0;d._state===Q&&(f&&h?s(d,g):r?u(d,m):a===M?A(d,g):a===H&&u(d,g))}function x(a,b){try{b(function(b){s(a,b)},function(b){u(a,b)})}catch(d){u(a,d)}}function r(a,b,e,c){this._instanceConstructor=a;this.promise=new a(d,c);this._abortOnReject=
e;this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):u(this.promise,this._validationError())}function t(a){this._id=ha++;this._result=this._state=void 0;this._subscribers=[];if(d!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
x(this,a)}}var w=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},y=0,v=function(a,b){E[y]=a;E[y+1]=b;y+=2;2===y&&aa()},L="undefined"!==typeof window?window:{},O=L.MutationObserver||L.WebKitMutationObserver,L="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,E=Array(1E3),aa;aa="undefined"!==typeof k&&"[object process]"==={}.toString.call(k)?c():O?a():L?e():g();var Q=void 0,M=1,H=2,G=new F,
K=new F;r.prototype._validateInput=function(a){return w(a)};r.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};r.prototype._init=function(){this._result=Array(this.length)};r.prototype._enumerate=function(){for(var a=this.length,b=this.promise,d=this._input,e=0;b._state===Q&&e<a;e++)this._eachEntry(d[e],e)};r.prototype._eachEntry=function(a,b){var d=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===d&&a._state!==Q?(a._onerror=null,
this._settledAt(a._state,b,a._result)):this._willSettleAt(d.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(M,b,a))};r.prototype._settledAt=function(a,b,d){var e=this.promise;e._state===Q&&(this._remaining--,this._abortOnReject&&a===H?u(e,d):this._result[b]=this._makeResult(a,b,d));0===this._remaining&&A(e,this._result)};r.prototype._makeResult=function(a,b,d){return d};r.prototype._willSettleAt=function(a,b){var d=this;q(a,void 0,function(a){d._settledAt(M,b,a)},function(a){d._settledAt(H,
b,a)})};var ha=0;t.all=function(a,b){return(new r(this,a,!0,b)).promise};t.race=function(a,b){function e(a){s(f,a)}function c(a){u(f,a)}var f=new this(d,b);if(!w(a))return u(f,new TypeError("You must pass an array to race.")),f;for(var g=a.length,m=0;f._state===Q&&m<g;m++)q(this.resolve(a[m]),void 0,e,c);return f};t.resolve=function(a,b){if(a&&"object"===typeof a&&a.constructor===this)return a;var e=new this(d,b);s(e,a);return e};t.reject=function(a,b){var e=new this(d,b);u(e,a);return e};t.prototype=
{constructor:t,then:function(a,b){var e=this._state;if(e===M&&!a||e===H&&!b)return this;var c=new this.constructor(d),f=this._result;if(e){var g=arguments[e-1];v(function(){J(e,c,g,f)})}else q(this,c,a,b);return c},"catch":function(a){return this.then(null,a)}};L={Promise:t,polyfill:function(){var a;a="undefined"!==typeof n?n:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var d;
new a.Promise(function(a){d=a});return b(d)}()||(a.Promise=t)}};"undefined"!==typeof z&&z.exports?z.exports=L:"undefined"!==typeof this&&(this.ES6Promise=L)}).call(this)}).call(this,q("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"1YiZ5S":13}],34:[function(q,z,x){(function(k){var n=q("fs"),b=q("path"),c=z.exports=function(a,b){var g=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:"string"===typeof b&&(b={include:[b]});
b=b||{};b.include=b.include||[];0<g.length&&(b.include=b.include.concat(g));var h=c.read(a,b.dir).package;Object.keys(h).forEach(function(d){0<b.include.length&&!~b.include.indexOf(d)||a.exports[d]||(a.exports[d]=h[d])});return c};c.find=function(a,e){e||(e=b.dirname(a.filename));if(~n.readdirSync(e).indexOf("package.json"))return b.join(e,"package.json");if("/"===e)throw Error("Could not find package.json up from: "+e);if(!e||"."===e)throw Error("Cannot find package.json from unspecified directory");
return c.find(a,b.dirname(e))};c.read=function(a,b){b=c.find(a,b);var g=n.readFileSync(b).toString();return{dir:b,package:JSON.parse(g)}};c(z,{dir:k,include:["version"],target:c})}).call(this,"/../node_modules/jsonld/node_modules/pkginfo/lib")},{fs:1,path:12}],35:[function(q,z,x){function k(a){if(!(this instanceof k))return new k(a);if(a&&a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,e){this._tokenize(a,function(a,
d){!a&&/IRI|prefixed|literal|langcode|type|\.|eof/.test(d.type)?e&&e(a,d):e&&e(a||b._syntaxError(d.type,e=null))})}}}var n=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},e=/[\x00-\x20<>\\"\{\}\|\^\`]/;
k.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,
_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function d(b){a(b._syntaxError(/^\S*/.exec(c)[0]))}for(var c=this._input;;){for(var l;l=this._newline.exec(c);)c=c.substr(l[0].length,c.length),this._line++;if(l=this._whitespace.exec(c))c=c.substr(l[0].length,c.length);if(this._endOfFile.test(c))return b&&
a(c=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=c;l=this._line;var m="",s="",k="",A=c[0],u=null,n=0,C=!1;switch(A){case "^":if(1===c.length)break;else if("^"!==c[1])return d(this);this._prevTokenType="^";c=c.substr(2);if("<"!==c[0]){C=!0;break}case "<":if(u=this._unescapedIri.exec(c))m="IRI",s=u[1];else if(u=this._iri.exec(c)){s=this._unescape(u[1]);if(null===s||e.test(s))return d(this);m="IRI"}break;case "_":if((u=this._blank.exec(c))||b&&(u=this._blank.exec(c+" ")))m="prefixed",
k="_",s=u[1];break;case '"':case "'":if(u=this._unescapedString.exec(c))m="literal",s=u[0];else if(u=this._singleQuotedString.exec(c)){s=this._unescape(u[0]);if(null===s)return d(this);m="literal";s=s.replace(/^'|'$/g,'"')}else if(u=this._tripleQuotedString.exec(c)){s=u[1]||u[2];this._line+=s.split(/\r\n|\r|\n/).length-1;s=this._unescape(s);if(null===s)return d(this);m="literal";s=s.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(u=this._langcode.exec(c)))m="langcode",s=
u[1];else if(u=this._keyword.exec(c))m=u[0];break;case ".":if(1===c.length?b:"0">c[1]||"9"<c[1]){m=".";n=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(u=this._number.exec(c))m="literal",s='"'+u[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(u[1]?"double":/^[+\-]?\d+$/.test(u[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(u=this._sparqlKeyword.exec(c))?m=u[0].toUpperCase():C=!0;break;case "f":case "t":(u=
this._boolean.exec(c))?(m="literal",s='"'+u[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):C=!0;break;case "a":(u=this._shortPredicates.exec(c))?(m="abbreviation",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):C=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":n=1;m=A;break;default:C=!0}if(C)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(u=this._prefix.exec(c)))m="prefix",s=u[1]||"";else if((u=this._prefixed.exec(c))||b&&(u=this._prefixed.exec(c+
" ")))m="prefixed",k=u[1]||"",s=this._unescape(u[2]);"^"===this._prevTokenType&&(m="IRI"===m||"prefixed"===m?"type":"");if(!m)return b||!/^'''|^"""/.test(c)&&/\n|\r/.test(c)?d(this):this._input=c;a(null,{line:l,type:m,value:s,prefix:k});this._prevTokenType=m;c=c.substr(n||u[0].length,c.length)}},_unescape:function(b){try{return b.replace(c,function(b,e,c,g){if(e){b=parseInt(e,16);if(isNaN(b))throw Error();return n(b)}if(c){b=parseInt(c,16);if(isNaN(b))throw Error();return 65535>=b?n(b):n(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[g];if(!b)throw Error();return b})}catch(e){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,e){function d(a){null!==l._input&&(l._input+=a,l._tokenizeToEnd(e,!1))}function c(){null!==l._input&&l._tokenizeToEnd(e,!0)}var l=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){l._tokenizeToEnd(e,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",d),a.on("end",c)):(this.addChunk=d,this.end=c,e||(e=a)))}};z.exports=k},{}],36:[function(q,z,x){function k(d){if(!(this instanceof k))return new k(d);this._tripleStack=[];this._graph=null;d=d||{};if(d.documentIRI){if(0<d.documentIRI.indexOf("#"))throw Error("Invalid document IRI");this._baseIRI=d.documentIRI;this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0]}else this._baseIRIPath=this._baseIRI=null;var c=
"string"===typeof d.format&&d.format.match(/\w*$/)[0].toLowerCase(),g="turtle"===c,m="trig"===c,h=/triple/.test(c),c=/quad/.test(c),c=h||c;(this._supportsNamedGraphs=!g)||(this._readPredicateOrNamedGraph=this._readPredicate);this._supportsQuads=!(g||m||h);c&&(this._baseIRI="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=n,this._subject=null});this._lexer=d.lexer||new b({lineMode:c})}function n(){}var b=q("./N3Lexer"),c=/:/,a=/[^\/]*$/,e=/^(?:[^:]+:\/*)?[^\/]*/,
g=0,h=0;k._resetBlankNodeIds=function(){g=h=0};k.prototype={_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=!0,this._readPrefix;case "@base":return this._sparqlStyle=!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph=
"",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._baseIRI||c.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject=
"_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);default:return this._error("Expected subject but got "+a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===
this._baseIRI||c.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;
default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._baseIRI||c.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+h++,this._tripleStack.push({subject:this._subject,
predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},
_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,
graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._baseIRI||c.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);
a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,e=null,c=this._subject,g=this._tripleStack,k=g[g.length-1],A=this._readListItem;switch(a.type){case "IRI":b=a.value;break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;
case "literal":b=a.value;A=this._readDataTypeOrLang;break;case "[":e="_:b"+h++;b="_:b"+h++;g.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=b;A=this._readBlankNodeHead;break;case "(":e="_:b"+h++;g.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"});this._subject=null;A=this._readListItem;break;case ")":g.pop();0!==g.length&&"list"===g[g.length-
1].type&&this._callback(null,{subject:k.subject,predicate:k.predicate,object:k.object,graph:this._graph||""});this._subject=k.subject;if(null===k.predicate){if(A=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.subject)return A}else if(this._predicate=k.predicate,this._object=k.object,A=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.object)return A;e="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+
a.type+'"',a)}null===e&&(this._subject=e="_:b"+h++);null===c?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.object?k.object=e:k.subject=e:this._callback(null,{subject:c,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",object:e,graph:this._graph||""});null!==b&&this._callback(null,{subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,graph:this._graph||""});return A},_readPunctuation:function(a){var b=this._subject,e=this._graph;switch(a.type){case "}":if(null===
this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&null===this._graph){e=null===this._baseIRI||c.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;break}case "prefixed":if(this._supportsQuads&&null===this._graph){e=this._prefixes[a.prefix];if(void 0===e)return this._error('Undefined prefix "'+
a.prefix+':"',a);e+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,graph:e||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,
predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._baseIRI||c.test(a.value)?
a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(b){if("IRI"!==b.type)return this._error("Expected IRI to follow base declaration",b);if(0<b.value.indexOf("#"))return this._error("Invalid base IRI",b);null===this._baseIRI||c.test(b.value)?this._baseIRI=b.value:this._baseIRI=this._resolveIRI(b);this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0];return this._readDeclarationPunctuation},
_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",a);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",
a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+b.line+"."))},_resolveIRI:function(a){a=a.value;switch(a[0]){case void 0:return this._baseIRI;case "#":return this._baseIRI+a;case "?":return this._baseIRI.replace(/(?:\?.*)?$/,a);case "/":return this._baseIRIRoot+
a;default:return this._baseIRIPath+a}},parse:function(a,b,e){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._="_:b"+g++ +"_";"function"===typeof a&&(e=b,b=a,a=null);this._callback=b||n;this._prefixCallback=e||n;var c=this;this._lexer.tokenize(a,function(a,b){null!==a?(c._callback(a),c._callback=n):void 0!==c._readCallback&&(c._readCallback=c._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};z.exports=k},{"./N3Lexer":35}],
37:[function(q,z,x){function k(a,b){this.name="NonSupportedSparqlFeatureError";this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function n(a){this.name=ParserError;this.message=a||"Error parsing SPARQL query"}var b=q("./parser"),c=q("./utils");k.prototype=Error();k.constructor=k;n.prototype=Error();n.constructor=n;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===
a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=
function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,b);if("basicgraphpattern"===a.token){var c={kind:"BGP",value:a.triplesContext};return c=AbstractQueryTree.translatePathExpressionsInBGP(c,b)}if("graphunionpattern"===a.token){var c=this.build(a.value[0],b),h=this.build(a.value[1],b);return{kind:"UNION",value:[c,h]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",
value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new k(a.token,"Non implemented SPARQL graph pattern: '"+a.token+"'");throw new n("Error parsing graph pattern: '"+JSON.stringify(a)+"'");};AbstractQueryTree.translatePathExpressionsInBGP=function(a,b){var g,h=[],d,f;for(f=0;f<a.value.length;f++)if(a.value[f].predicate&&"path"===a.value[f].predicate.token){g=a.value[f];d=a.value.slice(f+1);var l=AbstractQueryTree.translatePathExpression(g,b);g=null;if("BGP"===l.kind)h=h.concat(l.value);
else{if("ZERO_OR_MORE_PATH"===l.kind||"ONE_OR_MORE_PATH"===l.kind){f=0<h.length?{kind:"JOIN",lvalue:{kind:"BGP",value:h},rvalue:l}:l;if("ZERO_OR_MORE_PATH"===l.kind)if("var"===l.y.token&&0===l.y.value.indexOf("fresh:")&&"var"===l.x.token&&0===l.x.value.indexOf("fresh:"))for(var m=0;m<a.value.length;m++)a.value[m].object&&"var"===a.value[m].object.token&&a.value[m].object.value===l.x.value&&(g=c.clone(a.value[m],!0),g.object=l.y);else if("var"===l.y.token&&0===l.y.value.indexOf("fresh:"))for(m=0;m<
a.value.length;m++)a.value[m].subject&&"var"===a.value[m].subject.token&&a.value[m].subject.value===l.y.value&&(g=c.clone(a.value[m],!0),g.subject=l.x);return 0<d.length?(l=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:d},b),null!=g?(h=h.concat([g]).concat(d),{kind:"UNION",value:[{kind:"JOIN",lvalue:f,rvalue:l},{kind:"BGP",value:h}]}):{kind:"JOIN",lvalue:f,rvalue:l}):f}return l}}else h.push(a.value[f]);a.value=h;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===
a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var g=AbstractQueryTree.translatePathExpression(a,b);return{kind:"ONE_OR_MORE_PATH",path:g,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=null,g=AbstractQueryTree.translatePathExpression(a,b),{kind:"ZERO_OR_MORE_PATH",path:g,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var g=a.subject,h=a.object,d=a.graph,f,l,m=[],
s=0;s<a.predicate.value.length;s++)s!=a.predicate.value.length-1?(f={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):f=h,l={subject:g,predicate:a.predicate.value[s],object:f},null!=d&&(l.graph=c.clone(d,!0)),m.push(l),s!=a.predicate.value.length-1&&(g=c.clone(f,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:m},b)}throw new k("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var c=a.filters||
[],h={kind:"EMPTY_PATTERN"},d=0;d<a.patterns.length;d++){var f=a.patterns[d];"optionalgraphpattern"===f.token?(f=this.build(f.value,b),h="FILTER"===f.kind?{kind:"LEFT_JOIN",lvalue:h,rvalue:f.value,filter:f.filter}:{kind:"LEFT_JOIN",lvalue:h,rvalue:f,filter:!0}):(f=this.build(f,b),h="EMPTY_PATTERN"==h.kind?f:{kind:"JOIN",lvalue:h,rvalue:f})}if(0!=c.length){if("EMPTY_PATTERN"===h.kind||"LEFT_JOIN"===h.kind&&!0===h.filter||"LEFT_JOIN"===h.kind||"JOIN"===h.kind||"UNION"===h.kind||"GRAPH"===h.kind||"BGP"===
h.kind)return{kind:"FILTER",filter:c,value:h};throw Error("Unknow kind of algebra expression: "+h.kind);}return h};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=
this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=
b[a.graph.value]);if(null!=a.filter){for(var c=[],h=0;h<a.filter.length;h++)a.filter[h].value=this._bindFilter(a.filter[h].value,b),c.push(a.filter[h]);a.filter=c}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===
a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind)a.filter=this._bindFilter(a.filter[h].value,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var c=0;c<a.length;c++){delete a[c].graph;delete a[c].variables;
for(var h in a[c]){var d=a[c][h];"var"===d.token&&null!=b[d.value]&&(a[c][h]=b[d.value])}}return a};AbstractQueryTree.prototype._bindFilter=function(a,b){if(null!=a.expressionType){var c=a.expressionType;if("relationalexpression"==c)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==c||"conditionaland"==c)for(c=0;c<a.operands.length;c++)a.operands[c]=this._bindFilter(a.operands[c],b);else if("additiveexpression"==c)for(a.summand=this._bindFilter(a.summand,b),
c=0;c<a.summands.length;c++)a.summands[c].expression=this._bindFilter(a.summands[c].expression,b);else if("builtincall"==c)for(c=0;c<a.args.length;c++)a.args[c]=this._bindFilter(a.args[c],b);else if("multiplicativeexpression"==c)for(a.factor=this._bindFilter(a.factor,b),c=0;c<a.factors.length;c++)a.factors[c].expression=this._bindFilter(a.factors[c].expression,b);else if("unaryexpression"==c)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==c)for(c=0;c<a.factors.args;c++)a.args[c]=
this._bindFilter(a.args[c],b);else"atomic"==c&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(c=b[a.value.value],a.primaryexpression="uri"===c.token?"iri":"literal",a.value=c)}return a};AbstractQueryTree.prototype.replace=function(a,b,g,h){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=c.clone(g,!0));if(null!=a.filter){for(var d=[],f=0;f<a.filter.length;f++)a.filter[f].value=this._replaceFilter(a.filter[f].value,b,g,h),d.push(a.filter[f]);a.filter=d}if("select"===
a.kind)a.pattern=this.replace(a.pattern,b,g,h);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,g,h);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._replaceTripleContext(a.path,b,g,h),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=c.clone(g,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=c.clone(g,!0));else if("UNION"===a.kind)a.value[0]=this.replace(a.value[0],b,g,h),a.value[1]=this.replace(a.value[1],b,g,h);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,g);
else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,g,h),a.rvalue=this.replace(a.rvalue,b,g,h);else if("FILTER"===a.kind)a.value=this._replaceFilter(a.value,b,g,h);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,g,h){for(var d=0;d<a.length;d++)for(var f in a[d]){var l=a[d][f];"var"===l.token&&"var"===b.token&&l.value===b.value?a[d][f]=g:"blank"===l.token&&"blank"===b.token&&l.value===
b.value?a[d][f]=g:"literal"!==l.token&&"uri"!==l.token||"literal"!==b.token&&"uri"!==b.token||l.token!==b.token||c.lexicalFormTerm(l,h)[l.token]!==c.lexicalFormTerm(b,h)[l.token]||(a[d][f]=g)}return a};AbstractQueryTree.prototype._replaceFilter=function(a,b,c,h){if(null!=a.expressionType){var d=a.expressionType;if("relationalexpression"==d)a.op1=this._replaceFilter(a.op1,b,c,h),a.op2=this._replaceFilter(a.op2,b,c,h);else if("conditionalor"==d||"conditionaland"==d)for(d=0;d<a.operands.length;d++)a.operands[d]=
this._replaceFilter(a.operands[d],b,c,h);else if("additiveexpression"==d)for(a.summand=this._replaceFilter(a.summand,b,c,h),d=0;d<a.summands.length;d++)a.summands[d].expression=this._replaceFilter(a.summands[d].expression,b,c,h);else if("builtincall"==d)for(d=0;d<a.args.length;d++)a.args[d]=this._replaceFilter(a.args[d],b,c,h);else if("multiplicativeexpression"==d)for(a.factor=this._replaceFilter(a.factor,b,c,h),d=0;d<a.factors.length;d++)a.factors[d].expression=this._replaceFilter(a.factors[d].expression,
b,c,h);else if("unaryexpression"==d)a.expression=this._replaceFilter(a.expression,b,c,h);else if("irireforfunction"==d)for(d=0;d<a.factors.args;d++)a.args[d]=this._replaceFilter(a.args[d],b,c,h);else"atomic"==d&&(h=null,a.primaryexpression==b.token&&a.value==b.value?h=c.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(h=c.value),null!=h&&(a.primaryexpression="uri"===c.token?"iri":c.token,a.value=h))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==
a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=a.value[0].value&&null!=a.value[0].value.variables&&null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==
a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};z.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:k,SparqlParserError:n}},{"./parser":44,"./utils":55}],38:[function(q,z,x){var k=q("./utils"),n=k.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var c=this;this._diskWrite(this.root,function(a){c.root=a;c._updateRootNode(c.root,function(a){c.comparator=
function(a,b){return a<b?-1:a>b?1:0};c.merger=null;null!=b&&b(c)})})}};b.prototype._allocateNode=function(){return new c};b.prototype._diskWrite=function(a,b){n(function(){b(a)})};b.prototype._diskRead=function(a,b){n(function(){b(a)})};b.prototype._diskDelete=function(a,b){n(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,c){this.__search(this,a,this.root,b,c)};b.prototype.__search=function(a,b,c,h,d){for(var f=0;f<c.numberActives&&1===a.comparator(b,
c.keys[f].key);)f++;f<c.numberActives&&0===a.comparator(c.keys[f].key,b)?null!=d&&!0==d?h(!0):h(c.keys[f].data):!0===c.isLeaf?h(null):a._diskRead(c.children[f],function(c){a.__search(a,b,c,h,d)})};b.prototype.walk=function(a,b){this.__walk(this,this.root,a,b)};b.prototype.__walk=function(a,b,c,h){var d=b.numberActives,f=0;if(b.isLeaf){for(f=0;f<b.numberActives;f++)c(b.keys[f]);return h()}k.whilst(function(){return f<d},function(d){a._diskRead(b.children[f],function(m){a.__walk(a,m,c,function(){a._diskRead(b.keys[f],
function(a){c(a);f++;d()})})})},function(){a._diskRead(b.children[d],function(b){a.__walk(a,b,c,function(){h()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};b.prototype.__walkNodes=function(a,b,c,h){if(b.isLeaf)return c(b),h();c(b);var d=b.numberActives,f=0;k.whilst(function(){return f<d},function(d){a._diskRead(b.children[f],function(b){a.__walkNodes(a,b,c,function(){f++;d()})})},function(){a._diskRead(b.children[d],function(b){a.__walkNodes(a,b,c,function(){})})})};
b.prototype._splitChild=function(a,b,c,h){var d=this._allocateNode();d.isLeaf=c.isLeaf;d.level=c.level;d.numberActives=this.order-1;var f=c.keys[this.order-1];c.keys[this.order-1]=null;for(var l=0;l<this.order-1;l++)d.keys[l]=c.keys[l+this.order],c.keys[l+this.order]=null,c.isLeaf||(d.children[l]=c.children[l+this.order],c.children[l+this.order]=null);c.isLeaf||(d.children[l]=c.children[l+this.order],c.children[l+this.order]=null);c.numberActives=this.order-1;for(l=a.numberActives+1;l>b+1;l--)a.children[l]=
a.children[l-1];a.children[b+1]=d;for(l=a.numberActives;l>b;l--)a.keys[l]=a.keys[l-1];a.keys[b]=f;a.numberActives++;var m=this;this._diskWrite(d,function(d){m._diskWrite(a,function(a){a.children[b+1]=d;m._diskWrite(c,function(b){return h(a)})})})};b.prototype.insert=function(a,b,c){if(this.root.numberActives===2*this.order-1){var h=this._allocateNode();h.isLeaf=!1;h.level=this.root.level+1;h.numberActives=0;h.children[0]=this.root;var d=this;this._splitChild(h,0,this.root,function(f){h=f;d.root=h;
d._updateRootNode(h,function(f){d._insertNonFull(f,a,b,c)})})}else this._insertNonFull(this.root,a,b,c)};b.prototype._insertNonFull=function(a,b,c,h){this.__insertNonFull(this,a,a.numberActives-1,b,c,h)};b.prototype.__insertNonFull=function(a,b,c,h,d,f){if(b.isLeaf){for(;0<=c&&-1===a.comparator(h,b.keys[c].key);)b.keys[c+1]=b.keys[c],c--;0<=c&&0===a.comparator(h,b.keys[c].key)?b.keys[c]={key:h,data:d}:(b.keys[c+1]={key:h,data:d},b.numberActives++);a._diskWrite(b,function(a){return f(a)})}else{for(;0<=
c&&-1===a.comparator(h,b.keys[c].key);)c--;c++;a._diskRead(b.children[c],function(l){l.numberActives===2*a.order-1?a._splitChild(b,c,l,function(){1===a.comparator(h,b.keys[c].key)&&c++;a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,h,d,f)})}):a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,h,d,f)})})}};b.prototype.delete=function(a,c){b.prototype.__deleteSearchNode(this,a,this.root,c)};b.prototype.__deleteSearchNode=function(a,b,
c,h){var d=0;if(0===c.numberActives)return h(!1);for(;d<c.numberActives&&1===a.comparator(b,c.keys[d].key);)d++;var f=d;if(d<c.numberActives&&0===a.comparator(b,c.keys[d].key))return a.__deleteNodeFound(a,f,b,c,h);if(!0===c.isLeaf)return h(!1);a._diskRead(c.children[d],function(l){if(null===l)return h(!1);var m=!1,s=!1,k=null,A=null;f===c.numberActives?(s=!0,A=c.children[f-1],k=c.children[f-1]):0===f?(m=!0,k=c.children[1],A=c.children[1]):(A=c.children[f-1],k=c.children[f+1]);a._diskRead(A,function(f){a._diskRead(k,
function(k){!0===s&&(k=null);!0===m&&(f=null);l.numberActives===a.order-1&&null!=c?null!=k&&k.numberActives>a.order-1?a._moveKey(c,d,-1,function(c){a.__deleteSearchNode(a,b,l,h)}):null!=f&&f.numberActives>a.order-1?a._moveKey(c,d,1,function(c){a.__deleteSearchNode(a,b,l,h)}):null!=f&&f.numberActives===a.order-1?a._mergeSiblings(c,d,-1,function(c){a.__deleteSearchNode(a,b,c,h)}):null!=k&&k.numberActives===a.order-1&&a._mergeSiblings(c,d,1,function(c){a.__deleteSearchNode(a,b,c,h)}):a.__deleteSearchNode(a,
b,l,h)})})})};b.prototype.__deleteNodeFound=function(a,b,c,h,d){if(h.isLeaf&&h.numberActives>a.order-1||h.isLeaf&&h===a.root)return a._deleteKeyFromNode(h,b,function(){d(!0)}),!0;!1===h.isLeaf&&a._diskRead(h.children[b],function(f){f.numberActives>a.order-1?a._getMaxKeyPos(a,f,function(l){c=l.node.keys[l.index];h.keys[b]=c;a._diskWrite(h,function(b){b=f;c=c.key;a.__deleteSearchNode(a,c,b,d)})}):a._diskRead(h.children[b+1],function(l){l.numberActives>a.order-1?a._getMinKeyPos(a,l,function(f){c=f.node.keys[f.index];
h.keys[b]=c;a._diskWrite(h,function(b){b=l;c=c.key;a.__deleteSearchNode(a,c,b,d)})}):f.numberActives===a.order-1&&l.numberActives===a.order-1&&a._mergeNodes(f,h.keys[b],l,function(f){h.children[b]=f;b++;for(var l=b;l<h.numberActives;l++)h.children[l]=h.children[l+1],h.keys[l-1]=h.keys[l];h.children[l]=null;h.keys[l-1]=null;h.numberActives--;0===h.numberActives&&a.root===h&&(a.root=f);a._diskWrite(h,function(b){a.__deleteSearchNode(a,c,f,d)})})})});h.isLeaf&&h.numberActives>a.order-1&&a._deleteKeyFromNode(h,
b,function(b){a.__deleteSearchNode(a,c,b,d)})};b.prototype._moveKey=function(a,b,c,h){1===c&&b--;var d=this;d._diskRead(a.children[b],function(f){d._diskRead(a.children[b+1],function(l){if(-1==c){f.keys[f.numberActives]=a.keys[b];f.children[f.numberActives+1]=l.children[0];l.children[0]=null;f.numberActives++;a.keys[b]=l.keys[0];for(var m=1;m<l.numberActives;m++)l.keys[m-1]=l.keys[m],l.children[m-1]=l.children[m];l.children[l.numberActives-1]=l.children[l.numberActives];l.numberActives--}else{l.children[l.numberActives+
1]=l.children[l.numberActives];for(m=l.numberActives;0<m;m--)l.children[m]=l.children[m-1],l.keys[m]=l.keys[m-1];l.keys[0]=null;l.children[0]=null;l.children[0]=f.children[f.numberActives];l.keys[0]=a.keys[b];l.numberActives++;f.children[f.numberActives]=null;a.keys[b]=f.keys[f.numberActives-1];f.keys[f.numberActives-1]=null;f.numberActives--}d._diskWrite(f,function(b){d._diskWrite(l,function(b){d._diskWrite(a,function(a){return h(a)})})})})})};b.prototype._mergeSiblings=function(a,b,c,h){var d,f,
l;b===a.numberActives?(b--,c=a.children[a.numberActives-1],l=a.children[a.numberActives]):(c=a.children[b],l=a.children[b+1]);var m=this;m._diskRead(c,function(c){m._diskRead(l,function(g){var l=m._allocateNode();l.isLeaf=c.isLeaf;l.level=c.level;for(f=0;f<m.order-1;f++)l.keys[f]=c.keys[f],l.children[f]=c.children[f];l.keys[m.order-1]=a.keys[b];l.children[m.order-1]=c.children[m.order-1];for(f=0;f<m.order-1;f++)l.keys[f+m.order]=g.keys[f],l.children[f+m.order]=g.children[f];l.children[2*m.order-1]=
g.children[m.order-1];a.children[b]=l;for(f=b;f<a.numberActives;f++)a.keys[f]=a.keys[f+1],a.children[f+1]=a.children[f+2];l.numberActives=c.numberActives+g.numberActives+1;a.numberActives--;for(d=a.numberActives;d<2*m.order-1;d++)a.keys[d]=null;0===a.numberActives&&m.root===a&&(m.root=l,l.isLeaf=l.level?!1:!0);m._diskWrite(l,function(b){m._diskWrite(a,function(a){m._diskDelete(c,function(){m._diskDelete(g,function(){if(m.root===b)m._updateRootNode(m.root,function(){return h(b)});else return h(b)})})})})})})};
b.prototype._deleteKeyFromNode=function(a,b,c){var h=2*this.order-1;a.numberActives<h&&(h=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<h-1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();a.numberActives--;this._diskWrite(a,function(a){return c(a)})};b.prototype._mergeNodes=function(a,b,c,h){var d,f;d=this._allocateNode();d.isLeaf=!0;for(f=0;f<a.numberActives;f++)d.keys[f]=a.keys[f],d.children[f]=a.children[f];d.children[a.numberActives]=a.children[a.numberActives];d.keys[a.numberActives]=b;for(f=0;f<
c.numberActives;f++)d.keys[f+a.numberActives+1]=c.keys[f],d.children[f+a.numberActives+1]=c.children[f];d.children[2*this.order-1]=c.children[c.numberActives];d.numberActives=a.numberActives+c.numberActives+1;d.isLeaf=a.isLeaf;d.level=a.level;var l=this;this._diskWrite(d,function(b){l._diskDelete(a,function(){l._diskDelete(c,function(){return h(b)})})})};b.prototype.audit=function(a){var b=[],c=[],h=this,d=function(d){for(var f=0;f<c.length;f++)if(0===h.comparator(c[f],d)){var s=" !!! duplicated key "+
d;!0===a&&console.log(s);b.push(s)}},f=null,h=this;this.walkNodes(function(l){!0===a&&(console.log("--- Node at "+l.level+" level"),console.log(" - leaf? "+l.isLeaf),console.log(" - num actives? "+l.numberActives),console.log(" - keys: "));for(var m=l.numberActives;m<l.keys.length;m++)null!=l.keys[m]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(m=l.numberActives+1;m<l.children.length;m++)null!=l.children[m]&&!0===a&&(console.log(" * warning : redundant children data"),
b.push(" * warning : redundant key data"));if(!1===l.isLeaf)for(m=0;m<l.numberActives;m++){var s=this._diskRead(l.children[m]).keys[this._diskRead(l.children[m]).numberActives-1].key,k=this._diskRead(l.children[m+1]).keys[0].key;!0===a&&console.log("   "+l.keys[m].key+"("+s+","+k+")");if(-1===h.comparator(l.keys[m].key,s)){var A=" !!! value max left "+s+" > key "+l.keys[m].key;!0===a&&console.log(A);b.push(A)}1===h.comparator(l.keys[m].key,k)&&(A=" !!! value min right "+k+" < key "+l.keys[m].key,
!0===a&&console.log(A),b.push(A));d(l.keys[m].key);c.push(l.keys[m].key)}else for(null===f?f=l.level:f!=l.level&&(A=" !!! Leaf node with wrong level value",!0===a&&console.log(A),b.push(A)),m=0;m<l.numberActives;m++)!0===a&&console.log(" "+l.keys[m].key),d(l.keys[m].key),c.push(l.keys[m].key);l!=h.root&&(l.numberActives>2*h.order-1&&(!0===a&&(A=" !!!! MAX num keys restriction violated "),console.log(A),b.push(A)),l.numberActives<h.order-1&&(!0===a&&(A=" !!!! MIN num keys restriction violated "),console.log(A),
b.push(A)))});return b};b.prototype._getMaxKeyPos=function(a,b,c){var h={};if(null===b)return c(null);if(!0===b.isLeaf)return h.node=b,h.index=b.numberActives-1,c(h);h.node=b;h.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,c)})};b.prototype._getMinKeyPos=function(a,b,c){var h={};null===b&&c(null);if(!0===b.isLeaf)return h.node=b,h.index=0,c(h);h.node=b;h.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,c)})};var c=function(){this.numberActives=
0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};z.exports={Tree:b,Node:c}},{"./utils":55}],39:[function(q,z,x){(function(k){var n=q("./query_engine").QueryEngine,b=q("./quad_backend").QuadBackend,c=q("./persistent_quad_backend").QuadBackend,a=q("./lexicon").Lexicon,e=q("./persistent_lexicon").Lexicon,g=q("./rdf_model"),h=q("./utils");Store=function(d,f){var g=null,m=null;if(0==arguments.length)m={};else if(1==arguments.length)m={},g=d;else if(1<arguments.length)m=d,g=f;else throw"An optional argument map and a callback must be provided";
null==m.treeOrder&&(m.treeOrder=15);var h=a,k=b;!0===m.persistent&&(h=e,k=c);this.functionMap={};var A=this;this.customFns={};new h(function(a){var b=function(){new k(m,function(b){var c=function(){m.backend=b;m.lexicon=a;A.engine=new n(m);g(null,A)};m.overwrite?b.clear(c):c()})};!0===m.overwrite?a.clear(b):b()},m.name)};Store.prototype.rdf=g.rdf;Store.prototype.rdf.api=g;Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=
function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,c;if(3===arguments.length){a=arguments[0];var e=function(){};b=arguments[1];c=arguments[2]}else 4===
arguments.length&&(a=arguments[0],e=arguments[3],b=arguments[1],c=arguments[2]);b=h.map(b,function(a){return{token:"uri",value:a}});c=h.map(c,function(a){return{token:"uri",value:a}});this.engine.execute(a,e,b,c)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";
null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,c=null;if(2===arguments.length)c=arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)c=arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=
this.rdf.resolve(a));null!=this.rdf.resolve(c)&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+c+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,b,c;2===arguments.length?(a=arguments[0],c=arguments[1],this.engine.callbacksBackend.observeNode(a,c,function(){})):3===arguments.length&&(a=arguments[0],b=arguments[1],c=arguments[2],this.engine.callbacksBackend.observeNode(a,b,c,function(){}))};Store.prototype.stopObservingNode=
function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,b,c){null!=c?this.engine.callbacksBackend.observeQuery(a,b,c):this.engine.callbacksBackend.observeQuery(a,b,function(){})};Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=function(a,b,c,e,s){var k=this,A=function(a,b){var c=[],d={blanks:{},outCache:{}},e=[];h.each(b,function(a){var b=g.buildRDFResource(a.subject,
e,k.engine,d),f=g.buildRDFResource(a.predicate,e,k.engine,d);a=g.buildRDFResource(a.object,e,k.engine,d);null!=b&&null!=f&&null!=a&&(a=new g.Triple(b,f,a),c.push(a))});s(a,c)};this.functionMap[s]=A;this.engine.callbacksBackend.subscribe(a,b,c,e,A,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};
Store.prototype.insert=function(){var a,b,c;if(1===arguments.length)b=arguments[0],c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var e="",g=this;b.forEach(function(a){e=e+g._nodeToQuery(a.subject)+g._nodeToQuery(a.predicate)+g._nodeToQuery(a.object)+"."});e=null!=
a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+e+" } }":"INSERT DATA { "+e+" }";this.engine.execute(e,c)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype.delete=function(){var a,b,c;if(1===arguments.length)b=arguments[0],c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],
a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var e="",g=this;b.forEach(function(a){e=e+g._nodeToQuery(a.subject)+g._nodeToQuery(a.predicate)+g._nodeToQuery(a.object)+"."});e=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+e+" } }":"DELETE DATA { "+e+" }";this.engine.execute(e,c)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,
b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),b;for(b in a)this.registerDefaultNamespace(b,a[b])};Store.prototype.load=function(){var a,b,c,e,g={};if(3===arguments.length)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],b=arguments[1],e=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],g=arguments[2],"string"===typeof g?(c=this.rdf.createNamedNode(g),
g={}):(c=this.rdf.createNamedNode(g.graph||this.engine.lexicon.defaultGraphUri),delete g.graph),e=arguments[3]||function(){};else if(2===arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+c.valueOf()+">",e);else{var h=this,k=this.engine.rdfLoader.parsers[a];if(!k)return e(Error("Cannot find parser for the provided media type:"+a));a=[k,
{token:"uri",value:c.valueOf()},b,g,function(a,b){a?e(a,b):h.engine.batchLoad(b,function(a){null!=a?e(null,a):e(Error("Erro batch-loading triples."))})}];b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=h.map(b,function(a){return new g.NamedNode(a)});
a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?this.engine.close(a):a()};Store.VERSION="0.9.7";z.exports.Store=Store;z.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};z.exports.connect=function(){(1==arguments.length?arguments[0]:
2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,"/")},{"./lexicon":42,"./persistent_lexicon":45,"./persistent_quad_backend":46,"./quad_backend":47,"./query_engine":49,"./rdf_model":53,"./utils":55}],40:[function(q,z,x){var k=q("./utils"),n=q("./utils");q("./quad_index");var b=q("./quad_index").Pattern,c=q("./rdf_model"),a=q("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",
deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate",
"object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=
[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var c=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,
c[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,c[Callbacks.added],function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,c){for(var d={},f=0;f<b.length;f++){var l=b[f],m;for(m in this.indexMap){var k=
this.indexMap[m],B=this.componentOrders[m];this._searchCallbacksInIndex(k,B,a,l,d);0!=this.pendingQueries.length&&(k=this.queriesIndexMap[m],this._searchQueriesInIndex(k,B,l))}}this.dispatchNotifications(d);null!=c&&c(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,c){for(var d=this.emptyNotificationsMap[a]||[],f=0;f<d.length;f++)d[f](a,b);c()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var c=this.callbacksMap[b],d=a[b][Callbacks.deleted];
if(null!=d)try{c(Callbacks.deleted,d)}catch(f){}for(var l in a[b])if(l!=Callbacks.deleted)try{c(l,a[b][l])}catch(m){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(a,b,c,d,f){var l=d[1];d=d[0];for(var m=0;m<b.length+1;m++){for(var k=a._||[],B=[],A=0;A<k.length;A++){var u=k[A];null!=this.callbacksMap[u]&&(f[u]=f[u]||{},f[u][c]=f[u][c]||[],f[u][c].push(d),B.push(u))}a._=B;k=b[m];if(null!=a[""+l[k]])a=a[""+l[k]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=
function(a,b){var c=this.emptyNotificationsMap[a]||[];c.push(b);this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a];null!=c&&(c=k.reject(c,function(a){return a===b}));this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.subscribe=function(a,c,h,d,f,l){a=this._tokenizeComponents(a,c,h,d);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);var m=this;this.engine.normalizeQuad(a,c,
!0,function(a){for(var c=new b(a),d=m._indexForPattern(c),c=m.componentOrders[d],d=m.indexMap[d],e=0;e<c.length;e++){var g=a[c[e]];if("_"===g){null==d._&&(d._=[]);m.callbackCounter++;d._.push(m.callbackCounter);m.callbacksMap[m.callbackCounter]=f;m.callbacksInverseMap[f]=m.callbackCounter;break}else e===c.length-1?(d[g]=d[g]||{_:[]},m.callbackCounter++,d[g]._.push(m.callbackCounter),m.callbacksMap[m.callbackCounter]=f,m.callbacksInverseMap[f]=m.callbackCounter):(d[g]=d[g]||{},d=d[g])}null!=l&&l(!0)})};
Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(a,b,c,d){var f={};null==a?f.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?f.subject={token:"blank",value:a}:f.subject={token:"uri",value:a};f.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};f.object=null==c?Callbacks.ANYTHING:{token:"uri",value:c};f.graph=
null==d?Callbacks.ANYTHING:{token:"uri",value:d};return f};Callbacks.CallbacksBackend.prototype._indexForPattern=function(a){a=a.indexKey;for(var b=this.indices,c=0;c<b.length;c++)for(var d=b[c],f=this.componentOrders[d],l=0;l<f.length&&!1!==k.include(a,f[l]);l++)if(l==a.length-1)return d;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,h,d;4===arguments.length?(a=arguments[0],b=arguments[1],h=arguments[2],d=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,
h=arguments[1],d=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";var f=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var m=[];this.engine.execute(b,function(b,g){if(b)d&&d(!1);else{var k=!1,u=function(a,b){if("eventsFlushed"===a&&k){k=!1;try{h(g)}catch(d){}}else if("eventsFlushed"!==a){k=!0;for(var e=0;e<b.length;e++){var s=b[e],r=c.buildRDFResource(s.subject,m,f.engine,l),t=c.buildRDFResource(s.predicate,m,f.engine,l),s=c.buildRDFResource(s.object,
m,f.engine,l);null!=r&&null!=t&&null!=s&&(s=new c.Triple(r,t,s),a===Callbacks.added?g.add(s):a===Callbacks.deleted&&g.remove(s))}}};f.observersMap[h]=u;f.subscribeEmpty(Callbacks.eventsFlushed,u);f.subscribe(a,null,null,null,u,function(){try{h(g)}catch(a){}d&&d(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,
c,h){var d=this.aqt.parseQueryString(a),d=this.aqt.parseSelect(d.units[0]),d=this.aqt.collectBasicTriples(d),f=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var m=this.queryCounter;this.queryCounter++;this.queriesMap[m]=a;this.queriesInverseMap[a]=m;this.queriesList.push(m);this.queriesCallbacksMap[m]=c;n.eachSeries(d,function(a,c){null==a.graph&&(a.graph=f.engine.lexicon.defaultGraphUriTerm);f.engine.normalizeQuad(a,l,!0,function(a){for(var d=new b(a),e=f._indexForPattern(d),
d=f.componentOrders[e],e=f.queriesIndexMap[e],g=0;g<d.length;g++){var h=a[d[g]];if("string"===typeof h){null==e._&&(e._=[]);e._.push(m);break}else g===d.length-1?(e[h]=e[h]||{_:[]},e[h]._.push(m)):(e[h]=e[h]||{},e=e[h])}c()})},function(){f.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):c(b)});null!=h&&h()})};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],
this.queriesList=k.reject(this.queriesList,function(a){return a===b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,c){var d=c[1];c=c[0];for(c=0;c<b.length+1;c++){for(var f=a._||[],l=[],m=0;m<f.length;m++){var s=f[m];k.include(this.pendingQueries,s)&&(k.remove(this.pendingQueries,function(a){return a===s}),this.matchedQueries.push(s));null!=this.queriesMap[s]&&l.push(s)}a._=l;f=b[c];if(null!=a[""+d[f]])a=a[""+d[f]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=
function(a){var b=this,c,d,f={};n.eachSeries(this.matchedQueries,function(a,e){null==f[a]?(f[a]=!0,c=b.queriesMap[a],d=b.queriesCallbacksMap[a],b.engine.execute(c,function(a,b){if(!a)try{d(b)}catch(c){}e()})):e()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;z.exports=Callbacks},{"./abstract_query_tree":37,"./quad_index":48,"./rdf_model":53,"./utils":55}],41:[function(q,
z,x){var k=q("jsonld"),n=function(b,c,a){var e=null;k.normalize(b,{},function(b,h){if(b)a(b);else{var d=function(a){if("blank node"===a.type)return{blank:a.value};if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};e=[];var f=function(a,b,f){e.push({subject:d(a),predicate:d(b),object:d(f),graph:c})},l;for(l in h)for(var m=h[l],
k=0;k<m.length;k++){var n=m[k];f(n.subject,n.predicate,n.object)}a(null,e)}})};x.JSONLDParser={};q=x.JSONLDParser;q.parser={async:!0,parse:function(b,c,a,e){try{"string"===typeof b&&(b=JSON.parse(b)),n(b,c,e)}catch(g){e(g)}}};z.exports={JSONLDParser:q}},{jsonld:32}],42:[function(q,z,x){var k=q("./utils"),n=q("./btree").Tree;Lexicon=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",
prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,function(b){c.uris=b;a()})},function(a){new n(2,function(b){c.literals=b;a()})},function(a){new n(2,function(b){c.knownGraphs=b;a()})},function(a){new n(2,function(b){c.oidUris=b;a()})},function(a){new n(2,function(b){c.oidLiterals=b;a()})},function(a){new n(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b(c)})};Lexicon.prototype.registerGraph=function(b,c,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,
c,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[];this.knownGraphs.walk(function(c){!0===b?a.push(c.data):a.push(c.key)},function(){c(a)})};Lexicon.prototype.registerUri=function(b,c){var a=this;b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(e){if(null==e){var g=a.oidCounter,h="u"+g;a.oidCounter++;k.seq(function(c){a.uris.insert(b,[g,0],function(){c()})},function(c){a.oidUris.insert(h,b,function(){c()})})(function(){c(g)})}else g=e[0],
e[1]+=1,c(g)})};Lexicon.prototype.resolveUri=function(b,c){b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveUriCost=function(b,c){b===this.defaultGraphUri?c(0):this.uris.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.registerBlank=function(b){var c=this.oidCounter;this.oidCounter++;var a=""+c;this.oidBlanks.insert(a,a,function(){b(c)})};Lexicon.prototype.resolveBlank=function(b,c){var a=this;this.oidBlanks.search(b,
function(b){null!=b?c(b):(b=a.oidCounter,this.oidCounter++,c(""+b))})};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this;this.literals.search(b,function(e){if(null==e){var g=a.oidCounter,h="l"+g;a.oidCounter++;k.seq(function(c){a.literals.insert(b,[g,0],function(){c()})},function(c){a.oidLiterals.insert(h,b,function(){c()})})(function(){c(g)})}else g=e[0],e[1]+=1,c(g)})};Lexicon.prototype.resolveLiteral=function(b,c){this.literals.search(b,
function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveLiteralCost=function(b,c){this.literals.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");if(-1!=c&&'"'===b[c-1]&&null!=b.substring(c,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,c-1);b=b.substring(c+1,b.length);return{token:"literal",value:a,lang:b}}c=b.lastIndexOf("^^");if(-1!=c&&'"'===b[c-1]&&"<"===b[c+2]&&">"===b[b.length-1])return a=b.substring(1,c-1),b=b.substring(c+
3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};Lexicon.prototype.retrieve=function(b,c){var a=this;b===this.defaultGraphOid?c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):k.seq(function(c,g){a.oidUris.search("u"+b,function(b){null!=b?g(null,a.parseUri(b)):g(null,null)})},function(c,g){null==c?a.oidLiterals.search("l"+b,function(b){null!=
b?g(null,a.parseLiteral(b)):g(null,null)}):g(null,c)},function(c,g){null==c?a.oidBlanks.search(""+b,function(a){null!=a?g(null,{token:"blank",value:"_:"+b}):g(null,null)}):g(null,c)})(null,function(a,b){c(b)})};Lexicon.prototype.clear=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,function(b){c.uris=
b;a()})},function(a){new n(2,function(b){c.literals=b;a()})},function(a){new n(2,function(b){c.knownGraphs=b;a()})},function(a){new n(2,function(b){c.oidUris=b;a()})},function(a){new n(2,function(b){c.oidLiterals=b;a()})},function(a){new n(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var e=this;k.seq(function(a){e._unregisterTerm(b.subject.token,c.subject,a)},function(a){e._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){e._unregisterTerm(b.object.token,
c.object,a)},function(a){null!=b.graph?e._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,c,a){var e=this;if("uri"===b)if(c!=this.defaultGraphOid){var g="u"+c;e.oidUris.search(g,function(b){e.uris.search(b,function(d){var f=d[1];""+d[0]===""+c?0===f?k.seq(function(a){e.oidUris.delete(g,function(){a()})},function(a){e.uris.delete(b,function(){a()})},function(a){e.knownGraphs.delete(c,function(){a()})})(function(){a()}):e.uris.insert(b,
[c,f-1],function(){a()}):a()})})}else a();else"literal"===b?(this.oidCounter++,g="l"+c,e.oidLiterals.search(g,function(b){e.literals.search(b,function(d){var f=d[1];""+d[0]===""+c?0===f?k.seq(function(a){e.oidLiterals.delete(g,function(){a()})},function(a){e.literals.delete(b,function(){a()})})(function(){a()}):e.literals.insert(b,[c,f-1],function(){a()}):a()})})):"blank"===b?e.oidBlanks.delete(""+c,function(){a()}):a()};z.exports={Lexicon:Lexicon}},{"./btree":38,"./utils":55}],43:[function(q,z,x){var k=
q("http"),n=q("https"),b=q("url");NetworkTransport={load:function(c,a,e,g){var h=null==g?3:g;c=b.parse(c,!0,!0);g={host:c.host,hostname:c.hostname,method:"GET",path:c.path,headers:{host:c.hostname,Accept:a}};var d=null;"http:"===c.protocol?(g.port=c.port||80,d=k):"https:"===c.protocol&&(g.port=c.port||443,d=n);c=d.request(g,function(b){var c=b.headers,d="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){e(null,{headers:c,data:d})}),b.on("data",function(a){d+=a})):"3"==(""+b.statusCode)[0]?0==h?e(Error("Too many redirections")):
(b=c.Location||c.location,null!=b?NetworkTransport.load(b,a,e,h-1):e(Error("Redirection without location header"))):e(Error("HTTP error: "+b.statusCode))});c.on("error",e);c.end()}};z.exports={NetworkTransport:NetworkTransport}},{http:6,https:10,url:28}],44:[function(q,z,x){z.exports=function(){function k(k,b,c,a,e,g){this.message=k;this.expected=b;this.found=c;this.offset=a;this.line=e;this.column=g;this.name="SyntaxError"}(function(k,b){function c(){this.constructor=k}c.prototype=b.prototype;k.prototype=
new c})(k,Error);return{SyntaxError:k,parse:function(n){function b(a){if(B!==a){B>a&&(B=0,A={line:1,column:1,seenCR:!1});var b=A,c,d;for(c=B;c<a;c++)d=n.charAt(c),"\n"===d?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1);B=a}return A}function c(a){s<u||(s>u&&(u=s,q=[]),q.push(a))}function a(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function e(a){function b(a){return"[object Array]"===
Object.prototype.toString.apply(a)?[]:a}a=m[a];for(var d=0,f=[],g=a.length,k=[],u=[],B,A;;){for(;d<g;)switch(a[d]){case 0:u.push(b(l[a[d+1]]));d+=2;break;case 1:u.push(s);d++;break;case 2:u.pop();d++;break;case 3:s=u.pop();d++;break;case 4:u.length-=a[d+1];d+=2;break;case 5:u.splice(-2,1);d++;break;case 6:u[u.length-2].push(u.pop());d++;break;case 7:u.push(u.splice(u.length-a[d+1],a[d+1]));d+=2;break;case 8:u.pop();u.push(n.substring(u[u.length-1],s));d++;break;case 9:k.push(g);f.push(d+3+a[d+1]+
a[d+2]);u[u.length-1]?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 10:k.push(g);f.push(d+3+a[d+1]+a[d+2]);u[u.length-1]===h?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 11:k.push(g);f.push(d+3+a[d+1]+a[d+2]);u[u.length-1]!==h?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 12:u[u.length-1]!==h?(k.push(g),f.push(d),g=d+2+a[d+1],d+=2):d+=2+a[d+1];break;case 13:k.push(g);f.push(d+3+a[d+1]+a[d+2]);n.length>s?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+
2],d+=3+a[d+1]);break;case 14:k.push(g);f.push(d+4+a[d+2]+a[d+3]);n.substr(s,l[a[d+1]].length)===l[a[d+1]]?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 15:k.push(g);f.push(d+4+a[d+2]+a[d+3]);n.substr(s,l[a[d+1]].length).toLowerCase()===l[a[d+1]]?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 16:k.push(g);f.push(d+4+a[d+2]+a[d+3]);l[a[d+1]].test(n.charAt(s))?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 17:u.push(n.substr(s,a[d+1]));s+=a[d+1];
d+=2;break;case 18:u.push(l[a[d+1]]);s+=l[a[d+1]].length;d+=2;break;case 19:u.push(h);0===C&&c(l[a[d+1]]);d+=2;break;case 20:d+=2;break;case 21:d++;break;case 22:B=a.slice(d+4,d+4+a[d+3]);for(A=0;A<a[d+3];A++)B[A]=u[u.length-1-B[A]];u.splice(u.length-a[d+2],a[d+2],l[a[d+1]].apply(null,B));d+=4+a[d+3];break;case 23:u.push(e(a[d+1]));d+=2;break;case 24:C++;d++;break;case 25:C--;d++;break;default:throw Error("Invalid opcode: "+a[d]+".");}if(0<k.length)g=k.pop(),d=f.pop();else break}return u[0]}var g=
1<arguments.length?arguments[1]:{},h={},d={DOCUMENT:0},f=0,l=[{type:"other",description:"[1] QueryUnit"},{type:"other",description:"[2] Query"},h,function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},null,[],function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b=
{token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},{type:"other",description:"[6] SelectQuery"},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&
e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=e;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);null!=d&&null!=d.group&&(b.group=d.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var d={kind:"select",
token:"subselect"};d.projection=a.vars;d.modifier=a.modifier;d.pattern=b;null!=c&&null!=c.limit&&(d.limit=c.limit);null!=c&&null!=c.offset&&(d.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(d.order=c.order);null!=c&&null!=c.group&&(d.group=c.group);return d},{type:"other",description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},
"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===
b[1])return{vars:[{token:"variable",kind:"*"}],modifier:x(a)};for(var d=0;d<b.length;d++){var e=b[d];3===e.length?c.push({token:"variable",kind:"var",value:e[1]}):c.push({token:"variable",kind:"aliased",expression:e[3],alias:e[7]})}return{vars:c,modifier:x(a)}},{type:"other",description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,d){for(var e={named:[],implicit:[]},
f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=e;b.template=a;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);return b},"WHERE",
{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var d={named:[],implicit:[]},e=0;e<a.length;e++){var f=a[e];"default"===f.kind?d.implicit.push(f.graph):d.named.push(f.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
a={kind:"construct",token:"executableunit"};a.dataset=d;a.template=b;a.pattern={token:"basicgraphpattern",triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},
"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},d=0;d<a.length;d++){var e=a[d];"implicit"===e.kind?c.implicit.push(e.graph):c.named.push(e.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",
value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},
{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},function(a,b,c){var d={};null!=c&&(null!=c.limit&&(d.limit=c.limit),null!=c.offset&&(d.offset=c.offset));null!=a&&(d.group=a);d.order=b;return d},{type:"other",description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",
value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",
description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",
primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];null!=d&&null!=d.limit?b.limit=d.limit:null!=d&&null!=d.offset&&(b.offset=d.offset)}return b},{type:"other",description:"[25] LimitClause"},"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",
description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]  \tValuesClause\t  ::=  \t( 'VALUES' DataBlock )?"},
"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));d.units=a;return d},{type:"other",description:"[31] Update1"},
{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",
value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},
"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},
function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b.with=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&
null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var d=0;d<a.length;d++){var e={},f=a[d];e.subject=f.subject;e.predicate=f.predicate;e.object=f.object;e.graph=f.graph;c.push(e)}b.delete=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,d){var e={kind:"modify"};e.with=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=
b[0].length&&null!=b[1].length&&null!=b[2].length?(e.delete=b[0],e.insert=b[2]):(e.insert=b,e.delete=null):(e.delete=b[0],e.insert=null);""!=c&&(e.using=c);e.pattern=d;return e},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",
uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},
"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,b){var c=[];if(null!=a&&null!=a.triplesContext)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;c.push(e)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),
null!=b[0][2]&&null!=b[0][2].triplesContext))for(d=0;d<b[0][2].triplesContext.length;d++)e=b[0][2].triplesContext[d],e.graph=null,c.push(e);return{token:"quads",quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var d=0;d<b.triplesContext.length;d++){var e=b.triplesContext[d];e.graph=a;c.push(e)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===
typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=a&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)null!=b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);for(var f=[],g=[],m=[],d=0;d<c.length;d++)if("triplespattern"!=c[d].token&&
"filter"!=c[d].token){if(0!=g.length||0!=m.length){for(var h=[],e=0;e<g.length;e++)h=h.concat(g[e].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",triplesContext:h});g=[]}f.push(c[d])}else"triplespattern"===c[d].token?g.push(c[d]):m.push(c[d]);if(0!=g.length||0!=m.length){h=[];for(e=0;e<g.length;e++)h=h.concat(g[e].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",triplesContext:h})}return{token:"groupgraphpattern",patterns:f,filters:m}},{type:"other",description:"[54] TriplesBlock"},
function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}},{type:"other",description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",
value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=b.patterns[c],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;b.token="groupgraphpattern";return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",
value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),
c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expresision:a,as:b}},{type:"other",description:"[60] Constraint"},
{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",values:[{"var":a,value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};
c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var d=[],e=0;e<c.length;e++)d.push(c[e][1]);c={token:"args"};c.value=[b].concat(d);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"args"};d.value=[a].concat(c);return d},
{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&
(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var m=
d[g];if(null!=m.triplesContext){var h={subject:m.chainSubject,predicate:f[0],object:f[1]};c.concat(m.triplesContext)}else h={subject:d[g],predicate:f[0],object:f[1]},c.push(h)}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),
"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var m=0;m<b.length;m++)null!=b[m].triplesContext?(e=e.concat(b[m].triplesContext),f.push([a,b[m].chainSubject])):f.push([a,b[m]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=
b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var m=0;m<b.length;m++)null!=b[m].triplesContext?(e=e.concat(b[m].triplesContext),f.push([a,b[m].chainSubject])):f.push([a,b[m]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},
function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[69] ObjectList"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",
value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",description:"[72] TriplesSameSubjectPath"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=
f.predicate.value),c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(null!=b&&null!=b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var m=
d[g];if(null!=m.triplesContext){var h={subject:m.chainSubject,predicate:f[0],object:f[1]};c.concat(m.triplesContext)}else h={subject:d[g],predicate:f[0],object:f[1]},c.push(h)}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[73] PropertyListNotEmptyPath"},function(a,b,c){token={token:"propertylist"};for(var d=[],e=[],f=0;f<b.length;f++)null!=b[f].triplesContext?(d=d.concat(b[f].triplesContext),
"triplesnodecollection"===b[f].token&&null!=b[f].chainSubject.length?e.push([a,b[f].chainSubject[0]]):e.push([a,b[f].chainSubject])):e.push([a,b[f]]);for(f=0;f<c.length;f++){b=c[f][3];a=b[0];b=b[1]||[];for(var g=0;g<b.length;g++)null!=b[g].triplesContext?(d=d.concat(b[g].triplesContext),e.push([a,b[g].chainSubject])):e.push([a,b[g]])}token.pairs=e;token.triplesContext=d;return token},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",
description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",description:'"|"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++)c.push(b[1]);d={token:"path",kind:"alternative"};d.value=c;return d},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],d=0;d<b.length;d++)c.push(b[d][1]);
d={token:"path",kind:"sequence"};d.value=c;return d},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==b)return a;if(a.token&&a.token!=c&&""!=b){var c={token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",
value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",value:"!",description:'"!"'},{type:"other",description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)J++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(a[e].triplesContext)),d=
{subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(J+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)J++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(d.triplesContext)),d={subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",prefix:null,suffix:null,
value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+J},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},
object:{token:"blank",value:"_:"+(J+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){J++;for(var b={token:"blank",value:"_:"+J},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",
kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){J++;for(var b={token:"blank",value:"_:"+J},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},
function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},
"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",
description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",
value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var d="=";c.expressionType="conditionalor"}else d="!=",c.expressionType="conditionaland";
for(var e=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){e=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<e.length;f++){var g={token:"expression",expressionType:"relationalexpression"};g.operator=d;g.op1=a;g.op2=e[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",description:"[101] AdditiveExpression"},"-",{type:"literal",
value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var e=b[d],f={};if(4==e.length&&"string"===typeof e[1])f.operator=e[1],f.expression=e[3];else{var e={},g=f[0],m=f[1][1],h=f[1][3],m=null;0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=g;e.factors=[{operator:m,expression:h}];f.expression=
e}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var e=b[d],f={};f.operator=e[1];f.expression=e[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b},function(a){var b=
{token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b},
function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};
c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},
"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",
{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",
value:"if",description:'"if"'},function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d},"ISLITERAL",{type:"literal",value:"ISLITERAL",description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",
description:'"isblank"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},
"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},function(a,b,c){var d={token:"expression",expressionType:"custom"};
d.name=a.join("");a=[];for(var e=0;e<b.length;e++)a.push(b[e][1]);a.push(c);d.args=a;return d},{type:"other",description:"[107] RegexExpression"},"REGEX",{type:"literal",value:"REGEX",description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",
value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},{type:"other",description:"[109] NotExistsFunc"},"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},"COUNT",{type:"literal",value:"COUNT",
description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"count"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},function(a,b,c){var d={token:"expression",
expressionType:"aggregate",aggregateType:"group_concat"};d.distinct=""!=a?"DISTINCT":a;d.expression=b;d.separator=c;return d},"SUM",{type:"literal",value:"SUM",description:'"SUM"'},"sum",{type:"literal",value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",description:'"min"'},function(a,b){var c=
{token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",value:"MAX",description:'"MAX"'},"max",{type:"literal",value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",description:'"avg"'},function(a,b){var c=
{token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,lang:b.slice(1),type:null}:null!=b&&
"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},{type:"other",description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},"true",{type:"literal",value:"true",
description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},"false",{type:"literal",value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},function(a){return{token:"uri",
prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){J++;return{token:"blank",value:"_:"+J}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>"{}|\\^`\\\\]',description:'[^<>"{}|\\^`\\\\]'},
function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,b]},{type:"other",description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},{type:"other",description:"[128] LANGTAG"},
"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},function(a,b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};
b.value=F(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};d.value=F([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=F([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,d){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=F([a,b,c,d]);return e},function(a,b,
c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=F([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};c.value=F([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},
function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+\\-]",description:"[+\\-]"},function(a,b,c){return F([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^'\\\\\\n\\r]",description:"[^'\\\\\\n\\r]"},
function(a){return F(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,{type:"class",value:'[^"\\\\\\n\\r]',description:'[^"\\\\\\n\\r]'},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^'\\\\]",description:"[^'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},
/^[^"\\]/,{type:"class",value:'[^"\\\\]',description:'[^"\\\\]'},{type:"other",description:"[143] ECHAR"},"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",value:"[tbnrf\"']",description:"[tbnrf\"']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",description:"[145] WS"},/^[ ]/,{type:"class",value:"[ ]",description:"[ ]"},
/^[\t]/,{type:"class",value:"[\\t]",description:"[\\t]"},/^[\r]/,{type:"class",value:"[\\r]",description:"[\\r]"},/^[\n]/,{type:"class",value:"[\\n]",description:"[\\n]"},{type:"other",description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\n\\r]",description:"[^\\n\\r]"},{type:"other",description:"[146] ANON"},{type:"other",description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",
description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",value:"[\\xC0-\\xD6]",description:"[\\xC0-\\xD6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\xD8-\\xF6]",description:"[\\xD8-\\xF6]"},/^[\xF8-\u02FF]/,{type:"class",value:"[\\xF8-\\u02FF]",description:"[\\xF8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",
description:"[\\u200C-\\u200D]"},/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,
{type:"class",value:"[\\u1000-\\uEFFF]",description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\xB7]",description:"[\\xB7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",
description:"[150] PN_CHARS"},{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",
description:"[A-F]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],m=[a("7!"),a('7"*# "7?'),a('87#9*" 3 '),a('8!7$+P$7\'*/ "7**) "7+*# "7,+4%7>+*%4#6###"! %$## "$"# ""# "9*" 3!'),a('8!7%*# " %+M$ &7\u00c0,#&7\u00c0"+;% &7&,#&7&"+)%4#6\'#"" %$## "$"# ""# "9*" 3$'),a('8! &7\u00c0,#&7\u00c0"+`$.)""2)3**) ".+""2+3,+D% &7\u00c0,#&7\u00c0"+2%7\u00a9+(%4$6-$! %$$# "$## "$"# ""# "9*" 3('),
a('8! &7\u00c0,#&7\u00c0"+}$./""2/30*) ".1""2132+a% &7\u00c0,#&7\u00c0"+O%7\u00aa+E% &7\u00c0,#&7\u00c0"+3%7\u00a9+)%4&63&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3.'),a('8!7)+\u00a3$ &7\u00c0,#&7\u00c0"+\u0091% &7-,#&7-"+\u007f% &7\u00c0,#&7\u00c0"+m%71+c% &7\u00c0,#&7\u00c0"+Q%72+G% &7\u00c0,#&7\u00c0"+5%7<++%4)65)$(&$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 34'),a('8!7)+>$71+4%72+*%4#67##"! %$## "$"# ""# "9*" 36'),a('8! &7\u00c0,#&7\u00c0"+\u02db$.9""293:*) ".;""2;3<+\u02bf% &7\u00c0,#&7\u00c0"+\u02ad%.=""2=3>*) ".?""2?3@*5 ".A""2A3B*) ".C""2C3D*# " %+\u0273% &7\u00c0,#&7\u00c0"+\u0261% &! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "+\u0118$,\u0115&! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# """" "*X "! &7\u00c0,#&7\u00c0"+E$.M""2M3N+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+)%4&6O&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 38'),
a('8! &7\u00c0,#&7\u00c0"+\u00bf$.Q""2Q3R*) ".S""2S3T+\u00a3% &7\u00c0,#&7\u00c0"+\u0091%7h+\u0087% &7\u00c0,#&7\u00c0"+u% &7-,#&7-"+c% &7\u00c0,#&7\u00c0"+Q%71+G% &7\u00c0,#&7\u00c0"+5%72++%4*6U*$&$" %$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u012d "! &7\u00c0,#&7\u00c0"+\u011a$.Q""2Q3R*) ".S""2S3T+\u00fe% &7\u00c0,#&7\u00c0"+\u00ec% &7-,#&7-"+\u00da% &7\u00c0,#&7\u00c0"+\u00c8%.V""2V3W*) ".X""2X3Y+\u00ac% &7\u00c0,#&7\u00c0"+\u009a%.Z""2Z3[+\u008a% &7\u00c0,#&7\u00c0"+x%7S*# " %+h% &7\u00c0,#&7\u00c0"+V%.\\""2\\3]+F% &7\u00c0,#&7\u00c0"+4%72+*%4.6^.#*$ %$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3P'),
a('8!.`""2`3a+t$ &7\u008b+&$,#&7\u008b""" "*) ".M""2M3N+O% &7-,#&7-"+=%71*# " %+-%72+#%\'%%$%# "$$# "$## "$"# ""# "9*" 3_'),a('8! &7\u00c0,#&7\u00c0"+\u0085$.c""2c3d*) ".e""2e3f+i% &7\u00c0,#&7\u00c0"+W% &7-,#&7-"+E% &7\u00c0,#&7\u00c0"+3%71+)%4&6g&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3b'),a('8!.i""2i3j*) ".k""2k3l+\\$ &7\u00c0,#&7\u00c0"+J%7.*# "7/+:% &7\u00c0,#&7\u00c0"+(%4$6m$!!%$$# "$## "$"# ""# "9*" 3h'),a('8! &7\u00c0,#&7\u00c0"+2$70+(%4"6o"! %$"# ""# "9*" 3n'),a('8!.q""2q3r*) ".s""2s3t+D$ &7\u00c0,#&7\u00c0"+2%70+(%4#6u#! %$## "$"# ""# "9*" 3p'),
a('87\u00a69*" 3v'),a('8!.V""2V3W*) ".X""2X3Y*# " %+V$ &7\u00c0,#&7\u00c0"+D%7T+:% &7\u00c0,#&7\u00c0"+(%4$6x$!!%$$# "$## "$"# ""# "9*" 3w'),a('8!73*# " %+Z$75*# " %+J%77*# " %+:%79*# " %+*%4$6z$##! %$$# "$## "$"# ""# "9*" 3y'),a('8!.|""2|3}*) ".~""2~3\u007f+\u0081$ &7\u00c0,#&7\u00c0"+o%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+S% &7\u00c0,#&7\u00c0"+A% &74+&$,#&74""" "+(%4%6\u0084%! %$%# "$$# "$## "$"# ""# "9*" 3{'),a('8! &7\u00c0,#&7\u00c0"+D$7\u0099+:% &7\u00c0,#&7\u00c0"+(%4#6\u0086#!!%$## "$"# ""# "*\u016b "! &7\u00c0,#&7\u00c0"+D$7e+:% &7\u00c0,#&7\u00c0"+(%4#6\u0087#!!%$## "$"# ""# "*\u0131 "! &7\u00c0,#&7\u00c0"+\u00e4$.E""2E3F+\u00d4% &7\u00c0,#&7\u00c0"+\u00c2%7\u008e+\u00b8% &7\u00c0,#&7\u00c0"+\u00a6%!.G""2G3H*) ".I""2I3J+?$ &7\u00c0,#&7\u00c0"+-%7\u008c+#%\'#%$## "$"# ""# "*# " %+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4)6\u0088)"%#%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*W "! &7\u00c0,#&7\u00c0"+D$7\u008c+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0085'),
a('8!.\u008b""2\u008b3\u008c+<$ &76+&$,#&76""" "+#%\'"%$"# ""# "9*" 3\u008a'),a('87_9*" 3\u008d'),a('8!.\u008f""2\u008f3\u0090*) ".\u0091""2\u00913\u0092+\u0093$ &7\u00c0,#&7\u00c0"+\u0081%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+e% &7\u00c0,#&7\u00c0"+S% &78+&$,#&78""" "+:% &7\u00c0,#&7\u00c0"+(%4&6\u0093&!!%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u008e'),a('8!.\u0095""2\u00953\u0096*A ".\u0097""2\u00973\u0098*5 ".\u0099""2\u00993\u009a*) ".\u009b""2\u009b3\u009c+W$ &7\u00c0,#&7\u00c0"+E%7\u0098+;% &7\u00c0,#&7\u00c0"+)%4$6\u009d$"#!%$$# "$## "$"# ""# "*K "!7_*# "7\u008c+:$ &7\u00c0,#&7\u00c0"+(%4"6\u009e"!!%$"# ""# "9*" 3\u0094'),
a('8!!7:+3$7;*# " %+#%\'"%$"# ""# "*> "!7;+3$7:*# " %+#%\'"%$"# ""# "+\' 4!6\u00a0!! %9*" 3\u009f'),a('8!.\u00a2""2\u00a23\u00a3*) ".\u00a4""2\u00a43\u00a5+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00a6$!!%$$# "$## "$"# ""# "9*" 3\u00a1'),a('8!.\u00a8""2\u00a83\u00a9*) ".\u00aa""2\u00aa3\u00ab+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00ac$!!%$$# "$## "$"# ""# "9*" 3\u00a7'),a('8!.\u00ae""2\u00ae3\u00af+\u00e7$ &7\u008c,#&7\u008c"+\u00d5%.Z""2Z3[+\u00c5% &!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf,c&!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf"+3%.\\""2\\3]+#%\'%%$%# "$$# "$## "$"# ""# "*# " %9*" 3\u00ad'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b29*" 3\u00b0'),a('8!!.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+-$7a+#%\'"%$"# ""# "*# " %+\' 4!6\u00b8!! %9*" 3\u00b3'),a('87@9*" 3\u00b9'),a('8!7$+\u009b$ &7\u00c0,#&7\u00c0"+\u0089%7A+\u007f%! &7\u00c0,#&7\u00c0"+U$.\u00bb""2\u00bb3\u00bc+E% &7\u00c0,#&7\u00c0"+3%7@*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+*%4$6\u00bd$##! %$$# "$## "$"# ""# "9*" 3\u00ba'),a('87B*G "7C*A "7D*; "7E*5 "7F*/ "7G*) "7H*# "7I9*" 3\u00be'),a('8!.\u00c0""2\u00c03\u00c1*) ".\u00c2""2\u00c23\u00c3+\u00a0$ &7\u00c0,#&7\u00c0"+\u008e%7\u00a6+\u0084% &7\u00c0,#&7\u00c0"+r%!.\u00c4""2\u00c43\u00c5*) ".\u00c6""2\u00c63\u00c7+?$ &7\u00c0,#&7\u00c0"+-%7M+#%\'#%$## "$"# ""# "*# " %+)%4%6\u00c8%"" %$%# "$$# "$## "$"# ""# "9*" 3\u00bf'),
a('8!.\u00ca""2\u00ca3\u00cb*) ".\u00cc""2\u00cc3\u00cd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d2%! %$%# "$$# "$## "$"# ""# "9*" 3\u00c9'),a('8!.\u00d4""2\u00d43\u00d5*) ".\u00d6""2\u00d63\u00d7+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d3'),a('8!.\u00da""2\u00da3\u00db*) ".\u00dc""2\u00dc3\u00dd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7M+(%4%6\u00de%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d9'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+r$ &7\u00c0,#&7\u00c0"+`%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+D% &7\u00c0,#&7\u00c0"+2%7P+(%4%6\u00e8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00df'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+`$ &7\u00c0,#&7\u00c0"+N%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+2%7P+(%4$6\u00ee$! %$$# "$## "$"# ""# "9*" 3\u00e9'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+r$ &7\u00c0,#&7\u00c0"+`%.V""2V3W*) ".X""2X3Y+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u00f0%! %$%# "$$# "$## "$"# ""# "9*" 3\u00ef'),
a('8!!.\u00f2""2\u00f23\u00f3*) ".\u00f4""2\u00f43\u00f5+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "*# " %+\u00fa$ &7\u00c0,#&7\u00c0"+\u00e8%!7J+E$ &7\u00c0,#&7\u00c0"+3%7K*# " %+#%\'#%$## "$"# ""# "*# "7K+\u00ab% &7\u00c0,#&7\u00c0"+\u0099% &7L,#&7L"+\u0087% &7\u00c0,#&7\u00c0"+u%.V""2V3W*) ".X""2X3Y+Y% &7\u00c0,#&7\u00c0"+G%7T+=% &7\u00c0,#&7\u00c0"++%4*6\u00f6*$)\'%!%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u00f1'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f7'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f9'),a('8! &7\u00c0,#&7\u00c0"+\u009f$.\u00fb""2\u00fb3\u00fc*) ".\u00fd""2\u00fd3\u00fe+\u0083% &7\u00c0,#&7\u00c0"+q%7\u00a6*\\ "!.q""2q3r*) ".s""2s3t+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "+(%4$6\u00ff$! %$$# "$## "$"# ""# "9*" 3\u00fa'),a('8!.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+D$ &7\u00c0,#&7\u00c0"+2%7\u00a6+(%4#6\u0105#! %$## "$"# ""# "9*" 3\u0100'),a('8!7M+\' 4!6x!! %*\u0086 "!.\u0107""2\u01073\u0108*) ".\u0109""2\u01093\u010a+& 4!6\u010b! %*c "!.q""2q3r*) ".s""2s3t+& 4!6\u010c! %*@ "!.\u010d""2\u010d3\u010e*) ".\u010f""2\u010f3\u0110+& 4!6\u0111! %9*" 3\u0106'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0112'),a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0114'),a('8!7S*# " %+\u009d$ &!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ",T&!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ""+)%4"6\u0118""! %$"# ""# "9*" 3\u0115'),
a('8! &7\u00c0,#&7\u00c0"+\u00d9$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008b+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.Z""2Z3[+\u007f% &7\u00c0,#&7\u00c0"+m%7S*# " %+]% &7\u00c0,#&7\u00c0"+K%.\\""2\\3]+;% &7\u00c0,#&7\u00c0"+)%4+6\u011a+"\'#%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0119'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7S*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u011c""! %$"# ""# "9*" 3\u011b'),
a('8!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7(+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "*w "!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7U+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "9*" 3\u011d'),a('8!7V*# " %+\u00f7$ &7\u00c0,#&7\u00c0"+\u00e5% &!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ",x&!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ""+)%4#6\u0120#"" %$## "$"# ""# "9*" 3\u011f'),
a('8!7s+l$! &7\u00c0,#&7\u00c0"+C$.\u0116""2\u01163\u0117+3%7V*# " %+#%\'#%$## "$"# ""# "*# " %+)%4"6\u0122""! %$"# ""# "9*" 3\u0121'),a('87\\*G "7X*A "7[*; "7Y*5 "7Z*/ "7]*) "7^*# "7`9*" 3\u0123'),a('8! &7\u00c0,#&7\u00c0"+`$.\u0125""2\u01253\u0126*) ".\u0127""2\u01273\u0128+D% &7\u00c0,#&7\u00c0"+2%7T+(%4$6\u0129$! %$$# "$## "$"# ""# "9*" 3\u0124'),a('8! &7\u00c0,#&7\u00c0"+}$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+a% &7\u00c0,#&7\u00c0"+O%7\u008b+E% &7\u00c0,#&7\u00c0"+3%7T+)%4&6\u012b&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3\u012a'),
a('8!.\u012d""2\u012d3\u012e+=$7\u008b+3%7T+)%4#6\u012f#"! %$## "$"# ""# "9*" 3\u012c'),a('8!.\u0131""2\u01313\u0132*) ".\u0133""2\u01333\u0134+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0135#! %$## "$"# ""# "9*" 3\u0130'),a('8!7T+\u00d1$ &! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ",n&! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u013b""! %$"# ""# "9*" 3\u0136'),
a('8! &7\u00c0,#&7\u00c0"+`$.\u013d""2\u013d3\u013e*) ".\u013f""2\u013f3\u0140+D% &7\u00c0,#&7\u00c0"+2%7_+(%4$6\u0141$! %$$# "$## "$"# ""# "9*" 3\u013c'),a('8! &7\u00c0,#&7\u00c0"+\u00ef$.\u0143""2\u01433\u0144*) ".\u0145""2\u01453\u0146+\u00d3% &7\u00c0,#&7\u00c0"+\u00c1%.E""2E3F+\u00b1% &7\u00c0,#&7\u00c0"+\u009f%7\u008e+\u0095% &7\u00c0,#&7\u00c0"+\u0083%.I""2I3J*) ".G""2G3H+g% &7\u00c0,#&7\u00c0"+U%7\u008c+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4,6\u0147,"&"%$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0142'),
a('87\u0098*) "7\u0099*# "7e9*" 3\u0148'),a('8! &7\u00c0,#&7\u00c0"+`$.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+D% &7\u00c0,#&7\u00c0"+2%7a+(%4$6\u014a$! %$$# "$## "$"# ""# "9*" 3\u0149'),a('87b*# "7c9*" 3\u014b'),a('8! &7\u00c0,#&7\u00c0"+\u0089$7\u008c+\u007f% &7\u00c0,#&7\u00c0"+m%.Z""2Z3[+]% &7\u00c0,#&7\u00c0"+K% &7d,#&7d"+9%.\\""2\\3]+)%4\'6\u014d\'"%!%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014c'),a('8! &7\u00c0,#&7\u00c0"+\u01fa$7\u00bf*z "!.E""2E3F+i$ &7\u00c0,#&7\u00c0"+W% &7\u008c,#&7\u008c"+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "+\u0193% &7\u00c0,#&7\u00c0"+\u0181%.Z""2Z3[+\u0171% &7\u00c0,#&7\u00c0"+\u015f% &! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf,\u00a4&! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf"+K% &7\u00c0,#&7\u00c0"+9%.\\""2\\3]+)%4(6\u014f("&"%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014e'),
a('8! &7\u00c0,#&7\u00c0"+b$7\u00a9*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b2+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0150'),a('8!7\u00a6+3$7f+)%4"6\u0152""! %$"# ""# "9*" 3\u0151'),a('8!7\u00bf+& 4!6\u0154! %*\u00bf "!.E""2E3F+\u00ae$.=""2=3>*) ".?""2?3@*# " %+\u008c%7\u008e+\u0082% &!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ",>&!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ""+:%.K""2K3L+*%4%6\u0157%##"!%$%# "$$# "$## "$"# ""# "9*" 3\u0153'),a('8!7\u00bf+& 4!6\u0154! %*\u00ae "!.E""2E3F+\u009d$7\u00a6*# "7\u008e+\u008d% &!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ",D&!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ""+9%.K""2K3L+)%4$6\u0159$""!%$$# "$## "$"# ""# "9*" 3\u0158'),
a('8!.Z""2Z3[+l$ &7\u00c0,#&7\u00c0"+Z%7i*# " %+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u015b%!"%$%# "$$# "$## "$"# ""# "9*" 3\u015a'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7i*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u015d""! %$"# ""# "9*" 3\u015c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7l+)%4$6\u015f$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0083+E% &7\u00c0,#&7\u00c0"+3%7m+)%4$6\u0160$"" %$$# "$## "$"# ""# "9*" 3\u015e'),
a('8!7v*# "7w+\u013c$ &7\u00c0,#&7\u00c0"+\u012a%7n+\u0120% &! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0095&! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0162$##! %$$# "$## "$"# ""# "9*" 3\u0161'),a('8!7r+\u0130$ &7\u00c0,#&7\u00c0"+\u011e%7o+\u0114% &! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u008f&! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0164$##! %$$# "$## "$"# ""# "9*" 3\u0163'),
a('87l*# " %9*" 3\u0165'),a('8!7p+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ""+)%4#6\u0167#"" %$## "$"# ""# "9*" 3\u0166'),a('8!7q+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ""+)%4#6\u0169#"" %$## "$"# ""# "9*" 3\u0168'),
a('87\u00889*" 3\u016a'),a('87\u00899*" 3\u016b'),a('87\u008b*4 "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %9*" 3\u016c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7t+)%4$6\u0171$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0082+E% &7\u00c0,#&7\u00c0"+3%7u+)%4$6\u0172$"" %$$# "$## "$"# ""# "9*" 3\u0170'),a('8!7v*# "7w+\u0118$ &7\u00c0,#&7\u00c0"+\u0106%7n+\u00fc% &! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0083&! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0174$##! %$$# "$## "$"# ""# "9*" 3\u0173'),
a('87k*# " %9*" 3\u0175'),a("8!7x+' 4!6\u0177!! %9*\" 3\u0176"),a('87\u008c9*" 3\u0178'),a('87y9*" 3\u0179'),a('8!7z+q$ &!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ""+)%4"6\u017d""! %$"# ""# "9*" 3\u017a'),a('8!7|+q$ &!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ",>&!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ""+)%4"6\u0181""! %$"# ""# "9*" 3\u017e'),a('8!7~+9$7}*# " %+)%4"6\u0183""! %$"# ""# "9*" 3\u0182'),a('87{*C "!.\u0185""2\u01853\u0186+2$7{+(%4"6\u0187"! %$"# ""# "9*" 3\u0184'),
a('8.M""2M3N*\u00ea ".\u0189""2\u01893\u018a*\u00de ".\u018b""2\u018b3\u018c*\u00d2 "!.Z""2Z3[+\u00c1$!7\u0081+{$!.\u0155""2\u01553\u0156+T$.\\""2\\3]*> "!7\u0081+3$.\\""2\\3]+#%\'"%$"# ""# "+#%\'"%$"# ""# "*) ".\\""2\\3]+#%\'"%$"# ""# "*N "!.\u0155""2\u01553\u0156+=$7\u0081+3%.\\""2\\3]+#%\'#%$## "$"# ""# "+#%\'"%$"# ""# "9*" 3\u0188'),a('87\u00a6*\u008b "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %*t "!.\u018e""2\u018e3\u018f+-$7\u007f+#%\'"%$"# ""# "*S "!.E""2E3F+B$7x+8%.K""2K3L+(%4#6\u011e#!!%$## "$"# ""# "9*" 3\u018d'),
a('7\u0080*\u00a7 "!.E""2E3F+\u0096$!7\u0080+k$ &!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ""+#%\'"%$"# ""# "*# " %+3%.K""2K3L+#%\'#%$## "$"# ""# "'),a('87\u00a6*V ".\u016d""2\u016d3\u016e*J "!.\u0185""2\u01853\u0186+9$7\u00a6*) ".\u016d""2\u016d3\u016e+#%\'"%$"# ""# "9*" 3\u0190'),a('87\u00b09*" 3\u0191'),a('8!7\u0086+\' 4!6\u0193!! %*# "7\u00849*" 3\u0192'),a('8!7\u0087+\' 4!6\u0195!! %*# "7\u00859*" 3\u0194'),a('8! &7\u00c0,#&7\u00c0"+v$.\u0197""2\u01973\u0198+f% &7\u00c0,#&7\u00c0"+T%7t+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4&6\u019b&!"%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0196'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.\u0197""2\u01973\u0198+x% &7\u00c0,#&7\u00c0"+f%7l+\\% &7\u00c0,#&7\u00c0"+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019d\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019c'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0088+&$,#&7\u0088""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019e'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0089+&$,#&7\u0089""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u01a0'),
a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0082+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a1'),a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0083+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a3'),a('87\u008c*# "7\u008d9*" 3\u01a4'),a('87\u008c*# "7\u00a69*" 3\u01a5'),a('8! &7\u00c0,#&7\u00c0"+J$7\u00ad*# "7\u00ae+:% &7\u00c0,#&7\u00c0"+(%4#6\u01a7#!!%$## "$"# ""# "9*" 3\u01a6'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) "7\u00a8*# "7\u00bf9*" 3\u01a8'),a('87\u008f9*" 3\u01a9'),a('8!7\u0090+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01ad""! %$"# ""# "9*" 3\u01aa'),a('8!7\u0091+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01b1""! %$"# ""# "9*" 3\u01ae'),
a('87\u00929*" 3\u01b2'),a('8!7\u0093+\u05eb$ &! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ",\u02fb&! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ""+)%4"6\u01d0""! %$"# ""# "9*" 3\u01b3'),
a('87\u00949*" 3\u01d1'),a('8!7\u0095+\u0299$ &! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ",\u0152&! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ""+)%4"6\u01d5""! %$"# ""# "9*" 3\u01d2'),
a('8!7\u0096+\u0143$ &! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ",\u00a7&! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01d7""! %$"# ""# "9*" 3\u01d6'),a('8!.\u018e""2\u018e3\u018f+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01d9#! %$## "$"# ""# "*\u0093 "!.\u018b""2\u018b3\u018c+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01da#! %$## "$"# ""# "*[ "!.\u01d3""2\u01d33\u01d4+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01db#! %$## "$"# ""# "*# "7\u00979*" 3\u01d8'),
a('87\u0098*w "7\u0099*q "7\u009e*k "!7\u009f+\' 4!6\u01dd!! %*Y "!7\u00a0+\' 4!6\u01de!! %*G "!7\u00a4+\' 4!6\u01df!! %*5 "7\u009d*/ "!7\u008c+\' 4!6\u01e0!! %9*" 3\u01dc'),a('8!.E""2E3F+f$ &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4%6\u01e2%!"%$%# "$$# "$## "$"# ""# "9*" 3\u01e1'),a('8!.\u01e4""2\u01e43\u01e5*) ".\u01e6""2\u01e63\u01e7+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01e8\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0913 "!.\u01e9""2\u01e93\u01ea*) ".\u01eb""2\u01eb3\u01ec+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01ed\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u088b "!.\u01ee""2\u01ee3\u01ef*) ".\u01f0""2\u01f03\u01f1+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u01f2+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u07c4 "!.\u01f3""2\u01f33\u01f4*) ".\u01f5""2\u01f53\u01f6+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01f7\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u073c "!.\u01f8""2\u01f83\u01f9*) ".\u01fa""2\u01fa3\u01fb+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008c+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01fc\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u06b4 "!.\u01fd""2\u01fd3\u01fe*) ".\u01ff""2\u01ff3\u0200+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0201\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u062c "!.\u0202""2\u02023\u0203*) ".\u0204""2\u02043\u0205+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0206\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u05a4 "!.\u0207""2\u02073\u0208*) ".\u0209""2\u02093\u020a+\u0099$ &7\u00c0,#&7\u00c0"+\u0087%!.E""2E3F+a$ &7\u00c0,#&7\u00c0"+O%7\u008e+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "*# "7\u00bf+(%4#6\u020b#! %$## "$"# ""# "*\u050b "!.\u020c""2\u020c3\u020d*) ".\u020e""2\u020e3\u020f+D$ &7\u00c0,#&7\u00c0"+2%7g+(%4#6\u0210#! %$## "$"# ""# "*\u04c7 "!.\u0211""2\u02113\u0212*) ".\u0213""2\u02133\u0214+\u0106$ &7\u00c0,#&7\u00c0"+\u00f4%.E""2E3F+\u00e4% &7\u00c0,#&7\u00c0"+\u00d2%7\u008e+\u00c8% &7\u00c0,#&7\u00c0"+\u00b6%.\u0155""2\u01553\u0156+\u00a6% &7\u00c0,#&7\u00c0"+\u0094%7\u008e+\u008a% &7\u00c0,#&7\u00c0"+x%.\u0155""2\u01553\u0156+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4/6\u0215/#*&"%$/# "$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u03c1 "!.\u0216""2\u02163\u0217*) ".\u0218""2\u02183\u0219+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021a\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0339 "!.\u021b""2\u021b3\u021c*) ".\u021d""2\u021d3\u021e+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021f\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u02b1 "!.\u0220""2\u02203\u0221*) ".\u0222""2\u02223\u0223+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u0224+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01ea "!.\u0225""2\u02253\u0226*A ".\u0227""2\u02273\u0228*5 ".\u0229""2\u02293\u022a*) ".\u022b""2\u022b3\u022c+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u022d\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u014a "!.\u022e""2\u022e3\u022f*) ".\u0230""2\u02303\u0231+\u011b$ &0\u0232""1!3\u0233+,$,)&0\u0232""1!3\u0233""" "+\u00f6% &7\u00c0,#&7\u00c0"+\u00e4%.E""2E3F+\u00d4% &! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ",P&! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ""+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4)6\u0234)#\'$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*/ "7\u009a*) "7\u009b*# "7\u009c9*" 3\u01e3'),
a('8!.\u0236""2\u02363\u0237*) ".\u0238""2\u02383\u0239+\u0117$ &7\u00c0,#&7\u00c0"+\u0105%.E""2E3F+\u00f5% &7\u00c0,#&7\u00c0"+\u00e3%7\u008e+\u00d9% &7\u00c0,#&7\u00c0"+\u00c7%.\u0155""2\u01553\u0156+\u00b7% &7\u00c0,#&7\u00c0"+\u00a5%7\u008e+\u009b% &7\u00c0,#&7\u00c0"+\u0089%!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7\u008e+#%\'#%$## "$"# ""# "*# " %+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4-6\u023a-#($"%$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0235'),a('8!.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0240#! %$## "$"# ""# "9*" 3\u023b'),
a('8!.\u0242""2\u02423\u0243*) ".\u0244""2\u02443\u0245+r$ &7\u00c0,#&7\u00c0"+`%.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u0246%! %$%# "$$# "$## "$"# ""# "9*" 3\u0241'),a('8!.\u0248""2\u02483\u0249*) ".\u024a""2\u024a3\u024b+\u00db$ &7\u00c0,#&7\u00c0"+\u00c9%.E""2E3F+\u00b9% &7\u00c0,#&7\u00c0"+\u00a7%.=""2=3>*) ".?""2?3@*# " %+\u0085% &7\u00c0,#&7\u00c0"+s%.M""2M3N*# "7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u024c*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u04aa "!.\u024d""2\u024d3\u024e*) ".\u024f""2\u024f3\u0250+\u0151$ &7\u00c0,#&7\u00c0"+\u013f%.E""2E3F+\u012f% &7\u00c0,#&7\u00c0"+\u011d%.=""2=3>*) ".?""2?3@*# " %+\u00fb% &7\u00c0,#&7\u00c0"+\u00e9%7\u008e+\u00df%!.\u00bb""2\u00bb3\u00bc+\u0095$ &7\u00c0,#&7\u00c0"+\u0083%.\u0251""2\u02513\u0252+s% &7\u00c0,#&7\u00c0"+a%.\u01b4""2\u01b43\u01b5+Q% &7\u00c0,#&7\u00c0"+?%7\u00a5+5% &7\u00c0,#&7\u00c0"+#%\'(%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*# " %+L%.K""2K3L+<% &7\u00c0,#&7\u00c0"+*%4*6\u0253*#%#"%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0359 "!.\u0254""2\u02543\u0255*) ".\u0256""2\u02563\u0257+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0258*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u028a "!.\u0259""2\u02593\u025a*) ".\u025b""2\u025b3\u025c+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u025d*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01bb "!.\u025e""2\u025e3\u025f*) ".\u0260""2\u02603\u0261+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0262*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u00ec "!.\u0263""2\u02633\u0264*) ".\u0265""2\u02653\u0266+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0267*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0247'),
a('8!7\u00a6+9$7f*# " %+)%4"6\u0269""! %$"# ""# "9*" 3\u0268'),a('8!7\u00a5+Z$7\u00af*> "!.\u026b""2\u026b3\u026c+-$7\u00a6+#%\'"%$"# ""# "*# " %+)%4"6\u026d""! %$"# ""# "9*" 3\u026a'),a('87\u00a1*) "7\u00a2*# "7\u00a39*" 3\u026e'),a('87\u00b2*) "7\u00b1*# "7\u00b09*" 3\u026f'),a('87\u00b5*) "7\u00b4*# "7\u00b39*" 3\u0270'),a('87\u00b8*) "7\u00b7*# "7\u00b69*" 3\u0271'),a('8!.\u0273""2\u02733\u0274*) ".\u0275""2\u02753\u0276+& 4!6\u0277! %*@ "!.\u0278""2\u02783\u0279*) ".\u027a""2\u027a3\u027b+& 4!6\u027c! %9*" 3\u0272'),
a("8!7\u00bc+' 4!6\u027e!! %*S \"!7\u00bd+' 4!6\u027e!! %*A \"!7\u00ba+' 4!6\u027e!! %*/ \"!7\u00bb+' 4!6\u027e!! %9*\" 3\u027d"),a("8!7\u00a9+' 4!6\u0280!! %*/ \"!7\u00a7+' 4!6\u0281!! %9*\" 3\u027f"),a("8!7\u00ab+' 4!6\u0283!! %*/ \"!7\u00aa+' 4!6\u0284!! %9*\" 3\u0282"),a('8!7\u00ac+\' 4!6\u0286!! %*. "!7\u00c2+& 4!6\u0287! %9*" 3\u0285'),a('8!.\u01b8""2\u01b83\u01b9+V$ &0\u0289""1!3\u028a,)&0\u0289""1!3\u028a"+8%.\u01ba""2\u01ba3\u01bb+(%4#6\u028b#!!%$## "$"# ""# "9*" 3\u0288'),a('8!7\u00c7*# " %+8$.\u028d""2\u028d3\u028e+(%4"6\u0281"!!%$"# ""# "9*" 3\u028c'),
a('8!7\u00aa+3$7\u00c8+)%4"6\u0290""! %$"# ""# "9*" 3\u028f'),a('8!.\u0292""2\u02923\u0293+2$7\u00c8+(%4"6\u0294"! %$"# ""# "9*" 3\u0291'),a('8!.\u0189""2\u01893\u018a+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0295'),a('8!.\u0298""2\u02983\u0299+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0297'),a('8!.\u029b""2\u029b3\u029c+\u00cc$ &0\u029d""1!3\u029e+,$,)&0\u029d""1!3\u029e""" "+\u00a7% &!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ",Y&!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ""+)%4#6\u02a1#"! %$## "$"# ""# "9*" 3\u029a'),
a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+\' 4!6\u02a5!! %9*" 3\u02a2'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+X$.\u0116""2\u01163\u0117+H% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+*%4#6\u02a7##"! %$## "$"# ""# "*_ "!.\u0116""2\u01163\u0117+N$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+)%4"6\u02a8""! %$"# ""# "9*" 3\u02a6'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+c$.\u0116""2\u01163\u0117+S% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+5%7\u00b9++%4$6\u02aa$$#"! %$$# "$## "$"# ""# "*\u00a6 "!.\u0116""2\u01163\u0117+Y$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+4%7\u00b9+*%4#6\u02ab##"! %$## "$"# ""# "*Y "! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+3$7\u00b9+)%4"6\u02ac""! %$"# ""# "9*" 3\u02a9'),
a('8!.\u018b""2\u018b3\u018c+2$7\u00b0+(%4"6\u02ae"! %$"# ""# "9*" 3\u02ad'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b1+(%4"6\u02b0"! %$"# ""# "9*" 3\u02af'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b2+(%4"6\u02b0"! %$"# ""# "9*" 3\u02b1'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b0+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b2'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b1+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b4'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b2+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b5'),a('8!0\u02b7""1!3\u02b8+e$0\u02b9""1!3\u02ba*# " %+O% &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+*%4#6\u02bb##"! %$## "$"# ""# "9*" 3\u02b6'),
a('8!.\u02bd""2\u02bd3\u02be+b$ &0\u02bf""1!3\u02c0*# "7\u00be,/&0\u02bf""1!3\u02c0*# "7\u00be"+8%.\u02bd""2\u02bd3\u02be+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02bc'),a('8!.\u02c3""2\u02c33\u02c4+b$ &0\u02c5""1!3\u02c6*# "7\u00be,/&0\u02c5""1!3\u02c6*# "7\u00be"+8%.\u02c3""2\u02c33\u02c4+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c2'),a('8!.\u02c8""2\u02c83\u02c9+b$ &0\u02ca""1!3\u02cb*# "7\u00be,/&0\u02ca""1!3\u02cb*# "7\u00be"+8%.\u02c8""2\u02c83\u02c9+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c7'),a('8!.\u02cd""2\u02cd3\u02ce+b$ &0\u02cf""1!3\u02d0*# "7\u00be,/&0\u02cf""1!3\u02d0*# "7\u00be"+8%.\u02cd""2\u02cd3\u02ce+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02cc'),
a('8!.\u02d2""2\u02d23\u02d3+3$0\u02d4""1!3\u02d5+#%\'"%$"# ""# "9*" 3\u02d1'),a('8!.E""2E3F+I$ &7\u00c0,#&7\u00c0"+7%.K""2K3L+\'%4#6\u02d7# %$## "$"# ""# "9*" 3\u02d6'),a('80\u02d9""1!3\u02da*G "0\u02db""1!3\u02dc*; "0\u02dd""1!3\u02de*/ "0\u02df""1!3\u02e0*# "7\u00c19*" 3\u02d8'),a('8!.\u02e2""2\u02e23\u02e3+A$ &0\u02e4""1!3\u02e5,)&0\u02e4""1!3\u02e5"+#%\'"%$"# ""# "9*" 3\u02e1'),a('8!.\u0197""2\u01973\u0198+E$ &7\u00c0,#&7\u00c0"+3%.\u0199""2\u01993\u019a+#%\'#%$## "$"# ""# "9*" 3\u02e6'),a('80\u02e8""1!3\u02e9*\u00b9 "0\u02ea""1!3\u02eb*\u00ad "0\u02ec""1!3\u02ed*\u00a1 "0\u02ee""1!3\u02ef*\u0095 "0\u02f0""1!3\u02f1*\u0089 "0\u02f2""1!3\u02f3*} "0\u02f4""1!3\u02f5*q "0\u02f6""1!3\u02f7*e "0\u02f8""1!3\u02f9*Y "0\u02fa""1!3\u02fb*M "0\u02fc""1!3\u02fd*A "0\u02fe""1!3\u02ff*5 "0\u0300""1!3\u0301*) "0\u0302""1!3\u03039*" 3\u02e7'),
a('87\u00c3*) ".\u0305""2\u03053\u03069*" 3\u0304'),a('8!7\u00c4*) "0\u02a3""1!3\u02a4+\u009b$ &7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d,S&7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d"+)%4"6\u030e""! %$"# ""# "9*" 3\u0307'),a('87\u00c4*Y ".\u01d3""2\u01d33\u01d4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d9*" 3\u030f'),a('8!7\u00c3+S$ &7\u00c6*) ".\u0116""2\u01163\u0117,/&7\u00c6*) ".\u0116""2\u01163\u0117"+)%4"6\u0311""! %$"# ""# "9*" 3\u0310'),
a('8!7\u00c4*; "0\u02a3""1!3\u02a4*/ ".\u028d""2\u028d3\u028e*# "7\u00c9+w$ &7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9,A&7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9"+)%4"6\u0313""! %$"# ""# "9*" 3\u0312'),a('87\u00ca*# "7\u00cc9*" 3\u0314'),a('8!!.\u0316""2\u03163\u0317+7$7\u00cb+-%7\u00cb+#%\'#%$## "$"# ""# "+\' 4!6\u0318!! %9*" 3\u0315'),a('80\u02a3""1!3\u02a4*5 "0\u031a""1!3\u031b*) "0\u031c""1!3\u031d9*" 3\u0319'),a('8!.\u02d2""2\u02d23\u02d3+\u0128$.\u0305""2\u03053\u0306*\u010d ".\u031f""2\u031f3\u0320*\u0101 ".\u0116""2\u01163\u0117*\u00f5 ".\u01d3""2\u01d33\u01d4*\u00e9 ".\u018e""2\u018e3\u018f*\u00dd ".\u0298""2\u02983\u0299*\u00d1 ".\u0321""2\u03213\u0322*\u00c5 ".\u02bd""2\u02bd3\u02be*\u00b9 ".E""2E3F*\u00ad ".K""2K3L*\u00a1 ".M""2M3N*\u0095 ".\u018b""2\u018b3\u018c*\u0089 ".\u0155""2\u01553\u0156*} ".\u00bb""2\u00bb3\u00bc*q ".\u028d""2\u028d3\u028e*e ".\u01b4""2\u01b43\u01b5*Y ".\u017f""2\u017f3\u0180*M ".\u0189""2\u01893\u018a*A ".\u02e2""2\u02e23\u02e3*5 ".\u029b""2\u029b3\u029c*) ".\u0316""2\u03163\u0317+(%4"6\u0323"! %$"# ""# "9*" 3\u031e')],
s=0,B=0,A={line:1,column:1,seenCR:!1},u=0,q=[],C=0;if("startRule"in g){if(!(g.startRule in d))throw Error("Can't start parsing from rule \""+g.startRule+'".');f=d[g.startRule]}var F=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},J=0,x=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},g=e(f);if(g!==h&&s===n.length)return g;g!==h&&s<n.length&&c({type:"end",description:"end of input"});throw function(a,
c,d){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),e;for(e=0;e<a.length;e++)d[e]=a[e].description;d=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];e=b?'"'+c(b)+'"':"end of input";return"Expected "+d+" but "+e+" found."}var g=b(d),m=d<n.length?n.charAt(d):null;null!==c&&e(c);return new k(null!==a?a:f(c,m),c,m,d,g.line,g.column)}(null,q,u);}}}()},{}],45:[function(q,z,
x){q("./btree");var k=q("./utils"),n=q("./lexicon").Lexicon;Lexicon=function(b,c){var a=this;k.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.dbName=c||"rdfstorejs";var e=a.indexedDB.open(this.dbName+"_lexicon",1);e.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};e.onsuccess=
function(c){a.db=c.target.result;b(a)};e.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("literal","literal",{unique:!0})}};
Lexicon.prototype.registerGraph=function(b,c,a){if(b!=this.defaultGraphOid){var e=this.db.transaction(["knownGraphs"],"readwrite");e.onerror=function(b){a(null,Error(b.target.statusCode))};e.objectStore("knownGraphs").add({oid:b,uriToken:c}).onsuccess=function(b){a(!0)}}else a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[],e=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();e.onsuccess=function(e){(e=e.target.result)?(!0===b?a.push(e.value.uriToken):
a.push(e.value.oid),e.continue()):c(a)};e.onerror=function(a){c(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),e=a.index("uri").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){c(h)};e.onerror=function(a){c(null,Error("Error updating the URI data"+
a.target.errorCode))}}else e=a.add({uri:b,counter:0}),e.onsuccess=function(a){c(a.target.result)},e.onerror=function(a){c(null,Error("Error inserting the URI data"+a.target.errorCode))}};e.onerror=function(a){c(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):
c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,c){if(b===this.defaultGraphUri)c(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var c=guid(),c=this.db.transaction(["blanks"],
"readwrite").objectStore("blanks").add({label:c,counter:0});c.onsuccess=function(a){b(a.target.result)};c.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),e=a.index("literal").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){c(h)};
e.onerror=function(a){c(null,Error("Error updating the literal data"+a.target.errorCode))}}else e=a.add({literal:b,counter:0}),e.onsuccess=function(a){c(a.target.result)},e.onerror=function(a){c(null,Error("Error inserting the literal data"+a.target.errorCode))}};e.onerror=function(a){c(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=
function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return n.prototype.parseLiteral(b)};
Lexicon.prototype.parseUri=function(b){return n.prototype.parseUri(b)};Lexicon.prototype.retrieve=function(b,c){var a=this;if(b===this.defaultGraphOid)c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var e=a.db.transaction(["uris","literals","blanks"]);k.seq(function(c,h){var d=e.objectStore("uris").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseUri(b.target.result.uri)):h(null,null)};d.onerror=function(a){h(Error("Error searching in URIs data "+
a.target.errorCode))}},function(c,h){if(null==c){var d=e.objectStore("literals").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral(b.target.result.literal)):h(null,null)};d.onerror=function(a){h(Error("Error searching in Literals data "+a.target.errorCode))}}else h(null,c)},function(c,h){if(null==c){var d=e.objectStore("blanks").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):h(null,null)};d.onerror=
function(a){h(Error("Error searching in blanks data "+a.target.errorCode))}}else h(null,c)})(null,function(a,b){a?c(null,a):c(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var c=this.db.transaction(["uris","literals","blanks"],"readwrite"),a;k.seq(function(b){a=c.objectStore("uris").clear();a.onsuccess=function(){b()};
a.onerror=function(){b()}},function(b){a=c.objectStore("literals").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}},function(b){a=c.objectStore("blanks").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var e=this;k.seq(function(a){e._unregisterTerm(b.subject.token,c.subject,a)},function(a){e._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){e._unregisterTerm(b.object.token,c.object,a)},
function(a){null!=b.graph?e._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,c,a){var e=this.db.transaction(["uris","literals","blanks","knownGraphs"],"readwrite");"uri"===b?c!=this.defaultGraphOid?(b=e.objectStore("uris").delete(c),b.onsuccess=function(){e.objectStore("knownGraphs").delete(c).onsuccess=function(){a()}}()):a():"literal"===b?(b=e.objectStore("literals").delete(c),b.onsuccess=function(){a()}):"blank"===b?(b=e.objectStore("blanks").delete(c),
b.onsuccess=function(){a()}):a()};z.exports={Lexicon:Lexicon}},{"./btree":38,"./lexicon":42,"./utils":55}],46:[function(q,z,x){var k=q("./utils");QuadBackend=function(n,b){var c=this;if(0!==arguments){k.registerIndexedDB(c);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph",
"subject","predicate","object"],OS:["object","subject","predicate","graph"]};c.dbName=n.name||"rdfstorejs";var a=c.indexedDB.open(this.dbName+"_db",1);a.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){c.db=a.target.result;b(c)};a.onupgradeneeded=function(a){var b=a.target.result.createObjectStore(c.dbName,{keyPath:"SPOG"});k.each(c.indices,function(a){"SPOG"!==a&&b.createIndex(a,a,{unique:!1})})}}};QuadBackend.prototype.index=function(n,b){var c=
this;k.each(this.indices,function(a){n[a]=c._genMinIndexKey(n,a)});var a=c.db.transaction([c.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,Error(a.target.statusCode))};a.objectStore(c.dbName).add(n).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(k,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(k),e=this._genMinIndexKey(k,a),g=this._genMaxIndexKey(k,a),e=this.IDBKeyRange.bound(e,g,!1,!1),h=[];("SPOG"===
a?c:c.index(a)).openCursor(e).onsuccess=function(a){(a=a.target.result)?(h.push(a.value),a.continue()):b(h)}};QuadBackend.prototype.search=function(k,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._genMinIndexKey(k,"SPOG"),c=c.get(a);c.onerror=function(a){b(null,Error(a.target.statusCode))};c.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype.delete=function(k,b){var c=this._genMinIndexKey(k,"SPOG"),c=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).delete(c);
c.onsuccess=function(){b(!0)};c.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(n,b){return k.map(this.componentOrders[b],function(b){return"string"===typeof n[b]||null==n[b]?"-1":""+n[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(n,b){for(var c=this.componentOrders[b],a=[],e=!1,g=0;g<c.length;g++){var h=n[c[g]];"string"===typeof h?(!1===e&&(e=!0,0<=g-1&&(a[g-1]+=1)),a[g]=-1):a[g]=h}return k.map(a,function(a){return""+a}).join(".")};
QuadBackend.prototype._indexForPattern=function(n){n=n.indexKey;for(var b=0;b<this.indices.length;b++)for(var c=this.indices[b],a=this.componentOrders[c],e=0;e<a.length&&!1!==k.include(n,a[e]);e++)if(e==n.length-1)return c;return"SPOG"};QuadBackend.prototype.clear=function(k){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=function(){k()};b.onerror=function(){k()}};z.exports.QuadBackend=QuadBackend},{"./utils":55}],47:[function(q,z,x){var k=q("./quad_index").QuadIndex,
n=q("./utils"),b=q("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap={};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var e=this;n.eachSeries(this.indices,function(a,
b){new k({order:e.treeOrder,componentOrder:e.componentOrders[a]},function(c){e.indexMap[a]=c;b()})},function(){a(e)})}};QuadBackend.prototype._indexForPattern=function(c){c=c.indexKey;for(var a=0;a<this.indices.length;a++)for(var e=this.indices[a],g=this.componentOrders[e],h=0;h<g.length&&!1!==b.include(c,g[h]);h++)if(h==c.length-1)return e;return"SPOG"};QuadBackend.prototype.index=function(b,a){var e=this;n.eachSeries(this.indices,function(a,h){e.indexMap[a].insert(b,function(){h()})},function(){a(e)})};
QuadBackend.prototype.range=function(b,a){var e=this._indexForPattern(b);this.indexMap[e].range(b,function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,function(b){a(null!=b)})};QuadBackend.prototype.delete=function(b,a){var e=this;n.eachSeries(this.indices,function(a,h){e.indexMap[a].delete(b,function(){h()})},function(){a(e)})};QuadBackend.prototype.clear=function(b){var a=this;n.eachSeries(this.indices,function(b,c){new k({order:a.treeOrder,componentOrder:a.componentOrders[b]},
function(h){a.indexMap[b]=h;c()})},function(){b(a)})};z.exports.QuadBackend=QuadBackend},{"./quad_index":48,"./utils":55}],48:[function(q,z,x){var k=q("./btree").Tree,n=q("./utils"),b=q("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=function(b){for(var a=0;a<this.order.length;a++){var e=this.order[a];if(null==b[e])break;else{if(this[e]<b[e])return-1;if(this[e]>b[e])return 1}}return 0};
Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],e=[],g=this;n.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof g[b]?(e.push(b),g.keyComponents[b]=null):(a.push(b),g.keyComponents[b]=g[b],g.indexKey.push(b))});this.order=a.concat(e);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,
k.call(this,b.order,function(b){b.comparator=function(a,c){for(var d=0;d<b.componentOrder.length;d++){var f=b.componentOrder[d],l=a[f],f=c[f];if(l<f)return-1;if(l>f)return 1}return 0};b.rangeComparator=function(a,c){for(var d=0;d<b.componentOrder.length;d++){var f=b.componentOrder[d];if(null==c[f]||null==a[f])break;else{if(a[f]<c[f])return-1;if(a[f]>c[f])return 1}}return 0};a(b)}))};QuadIndex.prototype=n.create(k.prototype,{constructor:k});QuadIndex.prototype.insert=function(b,a){k.prototype.insert.call(this,
b,null,function(b){a(b)})};QuadIndex.prototype.search=function(b,a){k.prototype.search.call(this,b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(c,a,e,g){var h=e.key,d=[],f=[a];b.whilst(function(){return 0<f.length},function(a){for(var e=f.shift(),g=0;g<e.numberActives&&-1===c.rangeComparator(e.keys[g].key,h);)g++;if(!0===e.isLeaf){for(var k=g;k<e.numberActives&&0===c.rangeComparator(e.keys[k].key,
h);)d.push(e.keys[k].key),k++;a()}else c._diskRead(e.children[g],function(k){f.push(k);var u=g;b.whilst(function(){return u<e.numberActives&&0===c.rangeComparator(e.keys[u].key,h)},function(a){d.push(e.keys[u].key);u++;c._diskRead(e.children[u],function(b){f.push(b);a()})},function(){a()})})},function(){g(d)})};z.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":38,"./utils":55}],49:[function(q,z,x){var k=q("./abstract_query_tree").AbstractQueryTree,n=q("./abstract_query_tree").NonSupportedSparqlFeatureError,
b=q("./utils"),c=q("./quad_index"),a=q("./query_plan").QueryPlan,e=q("./query_filters").QueryFilters,g=q("./rdf_model"),h=q("./rdf_loader").RDFLoader,d=q("./graph_callbacks").CallbacksBackend,f=q("./utils"),l=q("./utils");QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new k,this.rdfLoader=new h(a.communication),this.callbacksBackend=new d(this),this.customFns=
a.customFns||{})};QueryEngine.prototype.setCustomFunctions=function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var d={},e;for(e in this.defaultPrefixes)d[e]=this.defaultPrefixes[e];for(e=0;e<c.length;e++){var f=c[e];"prefix"===f.token&&(d[f.prefix]=f.local)}b.namespaces=d;b.base=null!=a&&a.base&&"object"===typeof a.base?a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c=
{},d=[],e=0;e<b.length;e++){var f=b[e],g="",h;for(h in f){var l=f[h];null==l?g=g+h+"null":"literal"==l.token?(null!=l.value&&(g+=l.value),null!=l.lang&&(g+=l.lang),null!=l.type&&(g+=l.type)):g=l.value?g+h+l.value:g+h+l}null==c[g]&&(d.push(f),c[g]=!0)}return d}return b};QueryEngine.prototype.applyLimitOffset=function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,g){var h=[],l=this;f.eachSeries(a,
function(a,f){e.collect(a.expression,[b],c,d,l,function(a){h.push(a[0].value);f()})},function(){g({binding:b,value:h})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,d,e){var g=this,h=[];null!=a&&0<a.length?f.eachSeries(b,function(b,e){g.applySingleOrderBy(a,b,c,d,function(a){h.push(a);e()})},function(){h.sort(function(b,c){return g.compareFilteredBindings(b,c,a,d)});for(var b=[],c=0;c<h.length;c++)b.push(h[c].binding);e(b)}):e(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,
c,d){for(var f=0;;){if(f==a.value.length)return 0;var g=c[f].direction;if(null==a.value[f]&&null==b.value[f])f++;else{if(null==a.value[f])a={value:!1};else if(null==b.value[f])a={value:!0};else if("blank"===a.value[f].token&&"blank"===b.value[f].token){f++;continue}else if("blank"===a.value[f].token)a={value:!1};else if("blank"===b.value[f].token)a={value:!0};else if("uri"===a.value[f].token&&"uri"===b.value[f].token)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=
e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("uri"===a.value[f].token)a={value:!1};else if("uri"===b.value[f].token)a={value:!0};else if("literal"===a.value[f].token&&"literal"===b.value[f].token&&null==a.value[f].type&&null==b.value[f].type)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("literal"===a.value[f].token&&null==a.value[f].type)a={value:!1};else if("literal"===b.value[f].token&&null==
b.value[f].type)a={value:!0};else if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);return!0==a.value?"ASC"===g?1:-1:"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],d={},e=0;e<b.named.length;e++)d[b.named[e].oid]=!0;for(e=0;e<b.implicit.length;e++)null==d[b.implicit[e].oid]&&c.push(b.implicit[e].oid);c=[];for(e=0;e<a.length;e++){var f=a[e],g=!1,h;for(h in f){for(var l=
0;l<d.length;l++)if(f[h]===d[l]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=function(a,b,c,d,f){this.copyDenormalizedBindings(b,d.outCache,function(b){for(var g={},h=0;h<a.length;h++){var l=e.runAggregator(a[h],b,this,c,d);a[h].alias?g[a[h].alias.value]=l:g[a[h].value.value]=l}f(g)})};QueryEngine.prototype.projectBindings=function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],f=0;f<b.length;f++){for(var g=b[f],h={},l=!0,k=0;k<a.length;k++)if("variable"==
a[k].token&&"aliased"!=a[k].kind)h[a[k].value.value]=g[a[k].value.value];else if("variable"==a[k].token&&"aliased"==a[k].kind){var n=e.runFilter(a[k].expression,g,this,c,{blanks:{},outCache:{}});if(e.isEbvError(n)){l=!1;break}else h[a[k].alias.value]=n}!0===l&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=function(a,c,d,e){if("uri"===a.token)a=b.lexicalFormBaseUri(a,c),null==a?e(null):d?this.lexicon.registerUri(a,
e):this.lexicon.resolveUri(a,e);else if("literal"===a.token)a=b.lexicalFormLiteral(a,c),d?this.lexicon.registerLiteral(a,e):this.lexicon.resolveLiteral(a,e);else if("blank"===a.token){var f=a.value;a=c.blanks[f];null!=a?e(a):d?this.lexicon.registerBlank(function(a){c.blanks[f]=a;e(a)}):this.lexicon.resolveBlank(function(a){c.blanks[f]=a;e(a)})}else"var"===a.token?e(a.value):e(null)};QueryEngine.prototype.normalizeDatasets=function(a,b,c){var d=this;f.eachSeries(a,function(a,c){a.value===d.lexicon.defaultGraphUri?
(a.oid=d.lexicon.defaultGraphOid,c()):d.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};QueryEngine.prototype.normalizeQuad=function(a,c,d,e){var g=null,h=null,l=null,k=null,n=this,q=!1;f.seq(function(e){if(null==a.graph||a.graph.value===n.lexicon.defaultGraphUri)k=0,e();else{var f=b.lexicalFormBaseUri(a.graph,c);n.normalizeTerm(a.graph,c,d,function(b){null!=b?(k=b,!0===d&&"var"!=a.graph.token?n.lexicon.registerGraph(b,f,function(){e()}):e()):(q=!0,e())})}},function(b){!1===
q?n.normalizeTerm(a.subject,c,d,function(a){null!=a?g=a:q=!0;b()}):b()},function(b){!1===q?n.normalizeTerm(a.predicate,c,d,function(a){null!=a?h=a:q=!0;b()}):b()},function(b){!1===q?n.normalizeTerm(a.object,c,d,function(a){null!=a?l=a:q=!0;b()}):b()})(function(){!0===q?e(null):e({subject:g,predicate:h,object:l,graph:k})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var d=this,e=[];f.eachSeries(a,function(a,c){d.denormalizeBindings(a,b,function(a){e.push(a);c()})},function(){c(e)})};
QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var d=this,e=[];f.eachSeries(a,function(a,c){var g={},h=l.keys(a);f.eachSeries(h,function(c,e){var f=a[c];if(null==f)g[c]=null,e();else if("object"===typeof f)g[c]=f,e();else{var h=b[f];null!=h?(g[c]=h,e()):d.lexicon.retrieve(f,function(a){b[f]=a;g[c]=a;e()})}},function(){e.push(g);c()})},function(){c(e)})};QueryEngine.prototype.denormalizeBindings=function(a,b,c){var d=l.keys(a),e=b.outCache,g=this;f.eachSeries(d,function(c,d){var f=
a[c];null==f?(a[c]=null,d()):null!=e[f]?(a[c]=e[f],d()):g.lexicon.retrieve(f,function(e){a[c]=e;"blank"===e.token&&(b.blanks[e.value]=f);d()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,c,d,e){a=b.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)c(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();var f=this;this.executeUpdate(a,function(a,b){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();
a?(f.callbacksBackend.cancelGraphModification(),c(a,b)):f.callbacksBackend.endGraphModification(function(){c(a,b)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,c,d,e)};QueryEngine.prototype.executeQuery=function(a,b,c,d){var e=a.units,f=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,h);var l=f.abstractQueryTree.parseExecutableUnit(e[0]);"select"===l.kind?this.executeSelect(l,h,c,d,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):
f.denormalizeBindingsList(c,h,function(a){b(null,a)}):b(a)}):"ask"===l.kind?(l.projection=[{token:"variable",kind:"*"}],this.executeSelect(l,h,c,d,function(a,c){null==a?0<c.length?b(null,!0):b(null,!1):b(a)})):"construct"===l.kind&&(l.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(l,h,c,d,function(a,c){null==a?f.denormalizeBindingsList(c,h,function(a){if(null!=a){var c=new g.Graph;null==l.template&&(l.template={triplesContext:l.pattern});for(var d=1,e=[],m=0;m<a.length;m++){for(var k=
a[m],u=0;u<e.length;u++)delete e[u].valuetmp;for(u=0;u<l.template.triplesContext.length;u++){for(var n=["subject","predicate","object"],q=l.template.triplesContext[u],B=0;B<n.length;B++){var A=n[B];if("blank"===q[A].token&&(!q[A].valuetmp||null==q[A].valuetmp)){var x="_:b"+d;d++;q[A].valuetmp=x;e.push(q[A])}}n=g.buildRDFResource(q.subject,k,f,h);B=g.buildRDFResource(q.predicate,k,f,h);q=g.buildRDFResource(q.object,k,f,h);null!=n&&null!=B&&null!=q&&(B=new g.Triple(n,B,q),c.add(B))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):
b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,d,e){if("select"===a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var g=a.projection,h=a.dataset,l=a.modifier,k=a.limit,n=a.offset,r=a.order,t=this;if(null!=c||null!=d)h.implicit=c||[],h.named=d||[];null!=h.implicit&&0===h.implicit.length&&null!=h.named&&0===h.named.length&&h.implicit.push(this.lexicon.defaultGraphUriTerm);t.normalizeDatasets(h.implicit.concat(h.named),b,function(){try{t.executeSelectUnit(g,h,a.pattern,
b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var d=!1,q=0;q<a.projection.length;q++)if(null!=a.projection[q].expression&&"aggregate"===a.projection[q].expression.expressionType){d=!0;break}!0===d&&(a.group="singleGroup")}a.group&&""!=a.group?t.checkGroupSemantics(a.group,g)?t.groupSolution(c,a.group,h,b,function(a){var c=[];f.eachSeries(a,function(a,d){t.aggregateBindings(g,a,h,b,function(a){c.push(a);d()})},function(){e(null,{bindings:c,denorm:!0})})}):e(Error("Incompatible Group and Projection variables")):
t.applyOrderBy(r,c,h,b,function(a){a=t.projectBindings(g,a,h);a=t.applyModifier(l,a);a=t.applyLimitOffset(n,k,a);a=t.removeDefaultGraphBindings(a,h);e(null,a)})}else e(Error("Error executing SELECT query."))})}catch(c){console.log(c),e(c)}})}else e(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,g){var h=[],l=[],k=!1,n=this;"singleGroup"===b?g([a]):f.eachSeries(a,function(a,g){var m=!0;f.eachSeries(b,function(b,f){var g=null;if("var"===
b.token)g=b.value,!1==k&&h.push(g),f();else if("aliased_expression"===b.token){g=b.alias.value;!1==k&&h.push(g);if("var"===b.expression.primaryexpression)a[b.alias.value]=a[b.expression.value.value];else{var l=n.copyDenormalizedBindings([a],d.outCache),l=e.runFilter(b.expression,l[0],n,c,d);e.isEbvError(l)?m=!1:(null!=l.value&&(l.value=""+l.value),a[b.alias.value]=l)}f()}else n.copyDenormalizedBindings([a],d.outCache,function(c){c=e.runFilter(b,c[0],n,d);e.isEbvError(c)?m=!1:(a["groupCondition"+env._i]=
c,g="groupCondition"+env._i,!1==k&&h.push(g));f()})},function(){!1==k&&(k=!0);!0===m&&l.push(a);g()})},function(){for(var a={},b=0;b<l.length;b++){for(var c=l[b],d="",e=0;e<h.length;e++)var f=c[h[e]],d="object"===typeof f?d+f.value:d+f;null==a[d]?a[d]=[c]:a[d].push(c)}var b=[],m;for(m in a)b.push(a[m]);g(b)})};QueryEngine.prototype.executeSelectUnit=function(a,b,c,d,f){if("BGP"===c.kind)this.executeAndBGP(a,b,c,d,f);else if("UNION"===c.kind)this.executeUNION(a,b,c.value,d,f);else if("JOIN"===c.kind)this.executeJOIN(a,
b,c,d,f);else if("LEFT_JOIN"===c.kind)this.executeLEFT_JOIN(a,b,c,d,f);else if("FILTER"===c.kind){var g=this;this.executeSelectUnit(a,b,c.value,d,function(a){null!=a?e.checkFilters(c,a,!1,b,d,g,f):f([])})}else if("EMPTY_PATTERN"===c.kind)f([]);else throw new n(c.kind);};QueryEngine.prototype.executeUNION=function(b,c,d,g,h){var l=d[0],k=d[1],n=null,q,x;if(2!=d.length)throw"SPARQL algebra UNION with more than two components";var r=this;f.seq(function(a){try{r.executeSelectUnit(b,c,l,g,function(b){q=
b;a()})}catch(d){n=d,a()}},function(a){if(null==n)try{r.executeSelectUnit(b,c,k,g,function(b){x=b;a()})}catch(d){n=d,a()}else a()})(function(){if(null!=n)h(n);else{var b=a.unionBindings(q,x);e.checkFilters(d,b,!1,c,g,r,h)}})};QueryEngine.prototype.executeAndBGP=function(b,c,d,f,g){var h=this;a.executeAndBGPsDPSize(d.value,c,this,f,function(a){null!=a?e.checkFilters(d,a,!1,c,f,h,g):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=function(b,c,d,g,h){var l=d.lvalue,k=d.rvalue,n=null,q=null,x=null,
r=this,t,w;f.seq(function(a){try{r.executeSelectUnit(b,c,l,g,function(b){n=b;a()})}catch(d){x=d,a()}},function(a){if(null!=x)a();else try{r.executeSelectUnit(b,c,k,g,function(b){q=b;a()})}catch(d){x=d,a()}})(function(){if(null!=x)h(x);else{var b=a.leftOuterJoinBindings(n,q);e.checkFilters(d,b,!0,c,g,r,function(a){if(1<n.length&&1<q.length){var b=[],c={},d;for(d in n[0])c[d]=!0;for(d in q[0])!0!=c[d]&&b.push(d);t=[];w={};for(c=0;c<a.length;c++)if(!0===a[c].__nullify__){for(var e=0;e<b.length;e++)a[c].bindings[b[e]]=
null;var e=[],f=[];for(d in a[c].bindings)null!=a[c].bindings[d]&&(e.push(d+a[c].bindings[d]),e.sort(),f.push(e.join("")));if(null==w[e.join("")]){for(e=0;e<f.length;e++)w[f[e]]=!0;t.push(a[c].bindings)}}else for(d in t.push(a[c]),e=[],a[c])e.push(d+a[c][d]),e.sort(),w[e.join("")]=!0;h(t)}else h(a)})}})};QueryEngine.prototype.executeJOIN=function(b,c,d,g,h){var l=d.lvalue,k=d.rvalue,n=null,q=null,x=null,r=this;f.seq(function(a){try{r.executeSelectUnit(b,c,l,g,function(b){n=b;a()})}catch(d){x=d,a()}},
function(a){if(null!=x)a();else try{r.executeSelectUnit(b,c,k,g,function(b){q=b;a()})}catch(d){x=d,a()}})(function(){var b=null;if(null!=x)h(x);else if(0===n.length||0===q.length)h([]);else{var b={},f=[],m;for(m in n[0])b[m]=!1;for(m in q[0])!1===b[m]&&f.push(m);b=0==f.length?a.joinBindings(n,q):r.abstractQueryTree.treeWithUnion(l)||r.abstractQueryTree.treeWithUnion(k)?a.joinBindings(n,q):a.joinBindings2(f,n,q);e.checkFilters(d,b,!1,c,g,r,h)}})};QueryEngine.prototype.rangeQuery=function(a,b,d){var e=
this;e.normalizeQuad(a,b,!1,function(a){null!=a?e.backend.range(new c.Pattern(a),function(a){null==a||0==a.length?d([]):d(a)}):d(null)})};QueryEngine.prototype.executeUpdate=function(a,c){var d=a.units,e=this,g={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,g);for(var h=0;h<d.length;h++){var l=e.abstractQueryTree.parseExecutableUnit(d[h]);if("insertdata"===l.kind){var k=null;f.eachSeries(l.quads,function(a,b){null===k?e._executeQuadInsert(a,g,function(a){null!=a&&(k=a);b()}):b()},
function(){null===k?c(null,!0):c(k)})}else if("deletedata"===l.kind)k=null,f.eachSeries(l.quads,function(a,b){null===k?e._executeQuadDelete(a,g,function(a){null!=a&&(k=a);b()}):b()},function(){null===k?c(null,!0):c(k)});else if("modify"===l.kind)this._executeModifyQuery(l,g,c);else if("create"===l.kind)c(!0);else if("load"===l.kind){var n={uri:b.lexicalFormBaseUri(l.sourceGraph,g)};null!=l.destinyGraph&&(n={uri:b.lexicalFormBaseUri(l.destinyGraph,g)});e=this;this.rdfLoader.load(l.sourceGraph.value,
n,function(a,b){a?c(!1,"error batch loading quads"):e.batchLoad(b,function(a){c(null!=a,a||"error batch loading quads")})})}else if("drop"===l.kind)this._executeClearGraph(l.destinyGraph,g,c);else if("clear"===l.kind)this._executeClearGraph(l.destinyGraph,g,c);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(a,b){var e=0,g={},h=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var l=function(a,b,c,d){var e;a[b].uri||"uri"===a[b].token?
h.lexicon.registerUri(a[b].uri||a[b].value,function(e){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},delete a[b].uri);c[b]=e;d()}):a[b].literal||"literal"===a[b].token?h.lexicon.registerLiteral(a[b].literal||a[b].value,function(e){null!=a[b].literal&&(a[b]=h.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=e;d()}):(e=g[a[b].blank||a[b].value],null==e?h.lexicon.registerBlank(function(e){g[a[b].blank||a[b].value]=e;null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank);
c[b]=e;d()}):(null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=e,d()))};f.eachSeries(a,function(a,b){var g={};f.eachSeries(["subject","predicate","object","graph"],function(b,c){l(a,b,g,c)},function(){var f=a;a=g;var m=new c.NodeKey(a);h.backend.search(m,function(c){c?b():h.backend.index(m,function(c){c&&(h.eventsOnBatchLoad&&h.callbacksBackend.nextGraphModification(d.added,[f,a]),e+=1);b()})})})},function(){null!=h.lexicon.updateAfterWrite&&h.lexicon.updateAfterWrite();
var a=function(){b(e)};h.eventsOnBatchLoad?h.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var d=this,e=!0,g=Error("Error executing modify query"),h=null,l=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a.delete=null==a.delete?[]:a.delete;f.seq(function(c){var f=[],l=[];null!=a.with&&f.push(a.with);if(null!=a.using)for(var l=[],k=0;k<a.using.length;k++){var n=a.using[k];"named"===n.kind?l.push(n.uri):f.push(n.uri)}a.dataset=
{};a.projection=[{token:"variable",kind:"*"}];d.executeSelect(a,b,f,l,function(a,f){if(a)return g=a,e=!1,c();d.denormalizeBindingsList(f,b,function(a){null!=a?h=a:(g=Error("Error denormalizing bindings list"),e=!1);c()})})},function(c){var g=a.with;if(e){for(var k=[],n=0;n<a.delete.length;n++)for(var q=a.delete[n],B=0;B<h.length;B++){for(var v={},x=h[B],z=0;z<l.length;z++){var E=l[z];"graph"==E&&null==q[E]?v.graph=g:v[E]="var"===q[E].token?x[q[E].value]:q[E]}k.push(v)}f.eachSeries(k,function(a,c){d._executeQuadDelete(a,
b,function(){c()})},function(){c()})}else c()},function(c){var g=a.with;if(e){for(var k=[],n=0;n<a.insert.length;n++)for(var q=a.insert[n],B=0;B<h.length;B++){for(var v={},x=h[B],z=0;z<l.length;z++){var E=l[z];"graph"==E&&null==q[E]?v.graph=g:v[E]="var"===q[E].token?x[q[E].value]:q[E]}k.push(v)}f.eachSeries(k,function(a,c){d._executeQuadInsert(a,b,function(){c()})},function(){c()})}else c()})(function(){e?c(null):c(g)})};QueryEngine.prototype._executeQuadInsert=function(a,b,e){var g=this,h,l=!1,k=
null;f.seq(function(c){g.normalizeQuad(a,b,!0,function(a){null!=a?h=a:(l=!0,k="Error normalizing quad.");c()})},function(b){if(!1===l){var e=new c.NodeKey(h);g.backend.search(e,function(c){!0===c?b():g.backend.index(e,function(){g.callbacksBackend.nextGraphModification(d.added,[a,h]);b()})})}else b()})(function(){l?e(Error(k)):e(null,!0)})};QueryEngine.prototype._executeQuadDelete=function(a,b,e){var g=this,h,l=!1,k,n;f.seq(function(c){g.normalizeQuad(a,b,!0,function(a){null!=a?h=a:(l=!0,k="Error normalizing quad.");
c()})},function(a){!1===l?(n=new c.NodeKey(h),g.backend.delete(n,function(){a()})):a()},function(b){!1===l?g.lexicon.unregister(a,n,function(){g.callbacksBackend.nextGraphModification(d.deleted,[a,h]);b()}):b()})(function(){l?e(Error(k)):e(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,c,d){var e=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d):"named"===a?e.lexicon.registeredGraphs(!0,function(a){if(null!=a){var b=!1;f.eachSeries(a,function(a,c){b?c():
e.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,d){b=!a;c()})},function(){d(!b)})}else d(!1,"Error deleting named graphs")}):"all"===a?(e=this,this.execute("CLEAR DEFAULT",function(a,b){a?d(!1,b):e.execute("CLEAR NAMED",d)})):"uri"==a.token?(a=b.lexicalFormBaseUri(a,c),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a){e.callbacksBackend.ongoingModification=
!1;d(a)})):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},d=0;d<a.length;d++){var e=a[d];"var"===e.token?c[e.value]=!0:"aliased_expression"===e.token&&(c[e.alias.value]=!0)}for(d=0;d<b.length;d++)if(e=b[d],"var"===e.kind){if(null==c[e.value.value])return!1}else if("aliased"===e.kind&&e.expression&&"var"===e.expression.primaryexpression&&null==c[e.expression.value.value])return!1;return!0};QueryEngine.prototype.computeCosts=
function(a,b,c){for(var d=0;d<a.length;d++)a[d]._cost=this.quadCost(a[d],b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=function(a,b){this.defaultPrefixes[a]=b};z.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":37,"./graph_callbacks":40,"./quad_index":48,"./query_filters":50,"./query_plan":51,"./rdf_loader":52,"./rdf_model":53,"./utils":55}],50:[function(q,z,x){var k=q("./utils"),n=q("./utils");QueryFilters={checkFilters:function(b,
c,a,e,g,h,d){var f=[];b.filter&&"function"!==typeof b.filter&&(f=b.filter);var l=[];if(null==f||0===f.length||null!=b.length)return d(c);n.eachSeries(f,function(b,d){QueryFilters.run(b.value,c,a,e,g,h,function(a){var b=[];n.eachSeries(a,function(a,c){null!=a.__nullify__?l.push(a):b.push(a);c()},function(){c=b;d()})})},function(){d(c.concat(l))})},boundVars:function(b){if(null!=b.expressionType){var c=b.expressionType;if("relationalexpression"==c)return c=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(c);
if("conditionalor"==c||"conditionaland"==c){for(var a=[],c=0;c<b.operands;c++)a=a.concat(QueryFilters.boundVars(b.operands[c]));return a}if("builtincall"==c){if(null==b.args)return[];a=[];for(c=0;c<b.args.length;c++)a=a.concat(QueryFilters.boundVars(b.args[c]));return a}if("multiplicativeexpression"==c){a=QueryFilters.boundVars(b.factor);for(c=0;c<b.factors.length;c++)a=a.concat(QueryFilters.boundVars(b.factors[c].expression));return a}if("additiveexpression"==c){a=QueryFilters.boundVars(b.summand);
for(c=0;c<b.summands.length;c++)a=a.concat(QueryFilters.boundVars(b.summands[c].expression));return a}if("regex"==c)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));if("unaryexpression"==c)return QueryFilters.boundVars(b.expression);if("atomic"==c)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";},run:function(b,c,a,e,g,h,d){h.copyDenormalizedBindings(c,
g.outCache,function(f){for(var l=[],m=0;m<c.length;m++){var k=QueryFilters.runFilter(b,f[m],h,e,g),k=QueryFilters.ebv(k);QueryFilters.isEbvError(k)?a&&(k={__nullify__:!0,bindings:c[m]},l.push(k)):!0===k?l.push(c[m]):a&&(k={__nullify__:!0,bindings:c[m]},l.push(k))}d(l)})},collect:function(b,c,a,e,g,h){g.copyDenormalizedBindings(c,e.outCache,function(d){for(var f=[],l=0;l<d.length;l++){var m=QueryFilters.runFilter(b,d[l],g,a,e);f.push({binding:c[l],value:m})}return h(f)})},runDistinct:function(b,c){},
runAggregator:function(b,c,a,e,g){if(null==c||0===c.length)return QueryFilters.ebvError();if("variable"===b.token&&"var"==b.kind)return c[0][b.value.value];if("variable"===b.token&&"aliased"===b.kind){if("atomic"===b.expression.expressionType&&"var"===b.expression.primaryexpression)return c[0][b.expression.value.value];if("aggregate"===b.expression.expressionType){if("max"===b.expression.aggregateType){for(var h=null,d=0;d<c.length;d++){var f=c[d],f=QueryFilters.runFilter(b.expression.expression,
f,a,e,g);QueryFilters.isEbvError(f)||(null===h?h=f:!0===QueryFilters.runLtFunction(h,f).value&&(h=f))}return null===h?QueryFilters.ebvError():h}if("min"===b.expression.aggregateType){h=null;for(d=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null===h?h=f:!0===QueryFilters.runGtFunction(h,f).value&&(h=f));return null===h?QueryFilters.ebvError():h}if("count"===b.expression.aggregateType){var h={},l=0;if("*"===b.expression.expression)if(null!=
b.expression.distinct&&""!=b.expression.distinct)for(d=0;d<c.length;d++){var f=c[d],m=k.hashTerm(f);null==h[m]&&(h[m]=!0,l++)}else l=c.length;else for(d=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=k.hashTerm(f),null==h[m]&&(h[m]=!0,l++)):l++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+l}}if("avg"===b.expression.aggregateType){for(var h={},
s={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},d=l=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=k.hashTerm(f),null==h[m]&&(h[m]=!0,QueryFilters.isNumeric(f)&&(s=QueryFilters.runSumFunction(s,f),l++))):QueryFilters.isNumeric(f)&&(s=QueryFilters.runSumFunction(s,f),l++));b=QueryFilters.runDivFunction(s,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+l});b.value=""+b.value;return b}if("sum"===b.expression.aggregateType){h={};s={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(d=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=k.hashTerm(f),null==h[m]&&(h[m]=!0,QueryFilters.isNumeric(f)&&(s=QueryFilters.runSumFunction(s,f)))):QueryFilters.isNumeric(f)&&(s=QueryFilters.runSumFunction(s,f)));
s.value=""+s.value;return s}return f=QueryFilters.runFilter(aggregate.expression,c[0],e,{blanks:{},outCache:{}})}}},runFilter:function(b,c,a,e,g){if(null!=b.expressionType){var h=b.expressionType;if("relationalexpression"==h){var h=QueryFilters.runFilter(b.op1,c,a,e,g),d=QueryFilters.runFilter(b.op2,c,a,e,g);return QueryFilters.runRelationalFilter(b,h,d,c,a,e,g)}if("conditionalor"==h)return QueryFilters.runOrFunction(b,c,a,e,g);if("conditionaland"==h)return QueryFilters.runAndFunction(b,c,a,e,g);
if("additiveexpression"==h)return QueryFilters.runAddition(b.summand,b.summands,c,a,e,g);if("builtincall"==h)return QueryFilters.runBuiltInCall(b.builtincall,b.args,c,a,e,g);if("multiplicativeexpression"==h)return QueryFilters.runMultiplication(b.factor,b.factors,c,a,e,g);if("unaryexpression"==h)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,c,a,e,g);if("irireforfunction"==h)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,c,a,e,g);if("regex"==h)return QueryFilters.runRegex(b.text,
b.pattern,b.flags,c,a,e,g);if("custom"==h)return QueryFilters.runBuiltInCall(b.name,b.args,c,a,e,g);if("atomic"==h){if("var"==b.primaryexpression)return c[b.value.value];"object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,g));return b.value}throw"Unknown filter expression type";}throw"Cannot find bound expressions in a no expression token";},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==
b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,c,a,e){return"literal"===b.token&&"literal"===c.token?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:null!=b.type&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(c)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===c.token?k.lexicalFormBaseUri(b,e)==k.lexicalFormBaseUri(c,e):"blank"===b.token&&"blank"===c.token?b.value==
c.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==
b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==
b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,c){return c&&"literal"==c.token?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==
b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var c=parseFloat(b.value);return isNaN(c)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?null!=new Date(b.value):QueryFilters.isEbvError(b)?
b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=
function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,c,a,e,g,h,d){b=b.operator;if("="===b)return QueryFilters.runEqualityFunction(c,a,e,g,h,d);if("!="===b)return c=QueryFilters.runEqualityFunction(c,a,e,g,h,d),QueryFilters.isEbvError(c)||(c.value=!c.value),c;if("<"===
b)return QueryFilters.runLtFunction(c,a,e);if(">"===b)return QueryFilters.runGtFunction(c,a,e);if("<="===b)return QueryFilters.runLtEqFunction(c,a,e);if(">="===b)return QueryFilters.runGtEqFunction(c,a,e);throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==
b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return k.parseISO8601(b.value)}catch(c){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||
"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,c,a,e,g){for(var h=null,d=0;d<b.operands.length;d++){var f=QueryFilters.runFilter(b.operands[d],c,a,e,g);
!1==QueryFilters.isEbvError(f)&&(f=QueryFilters.ebv(f));null==h?h=f:QueryFilters.isEbvError(f)?h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?!0:QueryFilters.ebvError():!0===f?h=!0:QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(h)};QueryFilters.runAndFunction=function(b,c,a,e,g){for(var h=null,d=0;d<b.operands.length;d++){var f=QueryFilters.runFilter(b.operands[d],c,a,e,g);!1==QueryFilters.isEbvError(f)&&(f=QueryFilters.ebv(f));null==h?h=f:QueryFilters.isEbvError(f)?
h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?QueryFilters.ebvError():!1:!0===f?QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError()):h=!1}return QueryFilters.ebvBoolean(h)};QueryFilters.runEqualityFunction=function(b,c,a,e,g,h){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c))return a=QueryFilters.effectiveTypeValue(b),g=QueryFilters.effectiveTypeValue(c),isNaN(a)||isNaN(g)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,
c,e,h)):QueryFilters.ebvBoolean(a==g);if((QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b))&&(QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",
c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?0==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(b)&&QueryFilters.isRDFTerm(c)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,e,h)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(b,
c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(b,c){return QueryFilters.isEbvError(b)||
QueryFilters.isEbvError(c)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",c)||QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isSimpleLiteral("dateTime",c)?QueryFilters.runGtFunction(b,c,[]):b.token&&"uri"===b.token&&c.token&&"uri"===c.token?QueryFilters.ebvBoolean(b.value>
c.value):b.token&&"literal"===b.token&&c.token&&"literal"===c.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&"blank"===b.token&&c.token&&"blank"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.value&&c.value?QueryFilters.ebvBoolean(b.value>c.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||
QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",
b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?-1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&
QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",
c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?-1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||
QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",
b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,c,a,e,g,h){var d=QueryFilters.runFilter(b,a,e,g,h);if(QueryFilters.isEbvError(d))return QueryFilters.ebvError();b=d;if(QueryFilters.isNumeric(d)){for(d=0;d<c.length;d++){var f=QueryFilters.runFilter(c[d].expression,a,e,g,h);if(QueryFilters.isNumeric(f))"+"===
c[d].operator?b=QueryFilters.runSumFunction(b,f):"-"===c[d].operator&&(b=QueryFilters.runSubFunction(b,f));else return QueryFilters.ebvFalse()}return b}return QueryFilters.ebvFalse()};QueryFilters.runSumFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runSubFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)-
QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runMultiplication=
function(b,c,a,e,g,h){b=QueryFilters.runFilter(b,a,e,g,h);if(QueryFilters.isEbvError(b))return b;var d=b;if(QueryFilters.isNumeric(b)){for(var f=0;f<c.length;f++){var l=QueryFilters.runFilter(c[f].expression,a,e,g,h);if(QueryFilters.isEbvError(l))return b;if(QueryFilters.isNumeric(l))"*"===c[f].operator?d=QueryFilters.runMulFunction(d,l):"/"===c[f].operator&&(d=QueryFilters.runDivFunction(d,l));else return QueryFilters.ebvFalse()}return d}return QueryFilters.ebvFalse()};QueryFilters.runMulFunction=
function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runBuiltInCall=function(b,c,a,e,g,h){if("notexists"===b||"exists"===b){var d=k.clone(c[0],!0),d=e.abstractQueryTree.parseSelect({pattern:d},a),d=e.abstractQueryTree.bind(d.pattern,a);a=e.executeSelectUnit([{kind:"*"}],
g,d,h);return"exists"===b?QueryFilters.ebvBoolean(0!==a.length):QueryFilters.ebvBoolean(0===a.length)}for(var d=[],f=0;f<c.length;f++)if("var"===c[f].token)d.push(c[f]);else{var l=QueryFilters.runFilter(c[f],a,e,g,h);if(QueryFilters.isEbvError(l))return l;d.push(l)}if("str"===b)return"literal"===d[0].token?{token:"literal",type:null,value:""+d[0].value}:"uri"===d[0].token?{token:"literal",type:null,value:d[0].value}:QueryFilters.ebvFalse();if("lang"===b)return"literal"===d[0].token?null!=d[0].lang?
{token:"literal",value:""+d[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===b)return"literal"===d[0].token?(b=d[0],null!=b.type?"string"===typeof b.type?{token:"uri",value:b.type,prefix:null,suffix:null}:b.type:null==b.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();if("isliteral"===b)return"literal"===d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===b)return"blank"===
d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===b||"isiri"===b)return"uri"===d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===b)return b=QueryFilters.RDFTermEquality(d[0],d[1],e,h),QueryFilters.isEbvError(b)&&(b=!1),QueryFilters.ebvBoolean(b);if("langmatches"===b)return b=d[0],a=d[1],"literal"===b.token&&"literal"===a.token?"*"===a.value&&""!=b.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===b.value.toLowerCase().indexOf(a.value.toLowerCase())):
QueryFilters.ebvError();if("bound"===b)return b=d[0].value,null==b?QueryFilters.ebvError():null!=a[b]?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(null!=e.customFns[b])return e.customFns[b](QueryFilters,d);throw"Builtin call "+b+" not implemented yet";};QueryFilters.runUnaryExpression=function(b,c,a,e,g,h){c=QueryFilters.runFilter(c,a,e,g,h);if(QueryFilters.isEbvError(c))return c;if("!"===b){var d=QueryFilters.ebv(c);return QueryFilters.isEbvError(d)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!d)}if("+"===
b)return QueryFilters.isNumeric(c)?c:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(c)){b={};for(d in c)b[d]=c[d];b.value=-b.value;return b}return QueryFilters.ebvError()}};QueryFilters.runRegex=function(b,c,a,e,g,h,d){if(null!=b)b=QueryFilters.runFilter(b,e,g,h,d);else return QueryFilters.ebvError();if(null!=c)c=QueryFilters.runFilter(c,e,g,h,d);else return QueryFilters.ebvError();null!=a&&(a=QueryFilters.runFilter(a,e,g,h,d));if(null==c||"literal"!==c.token||null!=a&&"literal"!==
a.token)return QueryFilters.ebvError();c=c.value;a=null==a?null:a.value;if(null!=b&&"var"==b.token)if(null!=e[b.value])b=e[b.value];else return QueryFilters.ebvError();else if(null!=b&&"literal"===b.token)if(null==b.type||QueryFilters.isXsdType("string",b))b=b.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();return(null==a?new RegExp(c):new RegExp(c,a.toLowerCase())).exec(b)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(b,
c,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,a));return b};QueryFilters.runIriRefOrFunction=function(b,c,a,e,g,h){if(null==c)return b;for(var d=[],f=0;f<c.length;f++)d.push(QueryFilters.runFilter(c[f],a,e,g,h));b=k.lexicalFormBaseUri(b,h);if("http://www.w3.org/2001/XMLSchema#integer"==b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==
b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(d=
d[0],"literal"===d.token){d=QueryFilters.normalizeLiteralDatatype(d,e,h);if("http://www.w3.org/2001/XMLSchema#integer"==d.type||"http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#long"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type||"http://www.w3.org/2001/XMLSchema#short"==d.type||
"http://www.w3.org/2001/XMLSchema#byte"==d.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==d.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==d.type)return d.type=b,d;if("http://www.w3.org/2001/XMLSchema#boolean"==d.type)return!0==QueryFilters.ebv(d)?
(d.type=b,d.value=1):(d.type=b,d.value=0),d;if("http://www.w3.org/2001/XMLSchema#float"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type)return d.type=b,d.value=parseInt(d.value),d;if("http://www.w3.org/2001/XMLSchema#string"==d.type||null==d.type){if(2<d.value.split(".").length||2<d.value.split("-").length||2<d.value.split("/").length||2<d.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==b&&(-1!=d.value.indexOf("e")||-1!=d.value.indexOf("E")))return QueryFilters.ebvError();
if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=d.value.indexOf("e")||-1!=d.value.indexOf("E")||-1!=d.value.indexOf("."))return QueryFilters.ebvError();try{d.value=parseInt(parseFloat(d.value));if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(l){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return d=d[0],"literal"===
d.token&&null==d.type?"true"===d.value||"1"===d.value?QueryFilters.ebvTrue():"false"===d.value||"0"===d.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===d.token?QueryFilters.isEbvError(d)?d:QueryFilters.ebvBoolean(d):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return d=d[0],"literal"===d.token?(d=QueryFilters.normalizeLiteralDatatype(d,e,h),"http://www.w3.org/2001/XMLSchema#integer"==d.type||"http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#double"==
d.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#long"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type||"http://www.w3.org/2001/XMLSchema#short"==d.type||"http://www.w3.org/2001/XMLSchema#byte"==d.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==d.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==d.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#float"==d.type?(d.type=b,d.value=""+d.value,d):"http://www.w3.org/2001/XMLSchema#string"==d.type?d:"http://www.w3.org/2001/XMLSchema#boolean"==d.type?(QueryFilters.ebv(d)?(d.type=b,d.value="true"):(d.type=b,d.value="false"),d):"http://www.w3.org/2001/XMLSchema#dateTime"==d.type||"http://www.w3.org/2001/XMLSchema#date"==
d.type?(d.type=b,"string"!=typeof d.value&&(d.value=k.iso8601(d.value)),d):null==d.type?(d.value=""+d.value,d.type=b,d):QueryFilters.ebvError()):"uri"===d.token?{token:"literal",value:k.lexicalFormBaseUri(d,h),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){d=d[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==d.type||"http://www.w3.org/2001/XMLSchema#date"==d.type)return d;if("http://www.w3.org/2001/XMLSchema#string"==
d.type||null==d.type)try{return d.value=k.iso8601(k.parseISO8601(d.value)),d.type=b,d}catch(m){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==b)if(d=d[0],"literal"===d.token){d=QueryFilters.normalizeLiteralDatatype(d,e,h);if("http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type)return d.type=b,d.value=parseFloat(d.value),d;if("http://www.w3.org/2001/XMLSchema#boolean"==d.type)return!0==
QueryFilters.ebv(d)?(d.type=b,d.value=1):(d.type=b,d.value=0),d;if("http://www.w3.org/2001/XMLSchema#float"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type)return d.type=b,d.value=parseFloat(d.value),d;if("http://www.w3.org/2001/XMLSchema#string"==d.type)try{d.value=parseFloat(d.value);if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(s){return QueryFilters.ebvError()}else if(null==d.type){if(2<d.value.split(".").length||2<d.value.split("-").length||2<d.value.split("/").length||
2<d.value.split("+").length)return QueryFilters.ebvError();try{d.value=parseFloat(d.value);if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(n){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};z.exports={QueryFilters:QueryFilters}},{"./utils":55}],51:[function(q,z,x){var k=q("./utils"),n=q("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;var e=b.value||b,a=[],
g;for(g in e)e[g]&&"var"===e[g].token?a.push(e[g].value):e[g]&&"blank"===e[g].token&&a.push("blank:"+e[g].value);return b.variables=a},connected:function(b,a){for(var e="/"+b.vars.join("/")+"/",g=0;g<a.vars.length;g++)if(-1!=e.indexOf("/"+a.vars[g]+"/"))return!0;return!1},variablesIntersectionBGP:function(c,a){for(var e=b.variablesInBGP(c),g=b.variablesInBGP(a),h={},d=0;d<e.lenght;d++)h[e[d]]=1;for(d=0;d<g.length;d++)e=h[g[d]]||0,e++,h[g[d]]=e;var g=[],f;for(f in h)2==h[f]&&g.push(h[f]);return g},
executeAndBGPsGroups:function(c){for(var a={},e={},g=0,h=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},d=function(b,c,d,f){var g=[],h="",m="",l;for(l in c)h+=l,g=g.concat(a[l]),m+=e[l];m=m+n.join("/")+"/";g.push(b);d[h]=g;f[h]=m},f=0;f<c.length;f++){var l=c[f],m={},s={},n=b.variablesInBGP(l),q={},u;for(u in e)h(n,e[u])?q[u]=!0:(m[u]=a[u],s[u]=e[u]);0===k.size(q)?(m["g"+g]=[l],s["g"+g]="/"+n.join("/")+"/",g++):d(l,q,m,s);a=m;e=s}return k.values(a)},intersectionSize:function(b,
a){for(var e=a.i.split("_"),g=0;g<e.length;g++)if(""!=e[g]&&-1!=b.i.indexOf("_"+e[g]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var e="/"+b.vars.join("/")+"/",g=b.vars.concat([]),h=[],d=0;d<a.vars.length;d++)-1!=e.indexOf("/"+a.vars[d]+"/")?0==a.vars[d].indexOf("_:")?h.push("blank:"+a.vars[d]):h.push(a.vars[d]):g.push(a.vars[d]);for(var e=a.i.split("_"),f=b.i.split("_"),l={},d=0;d<e.length;d++)""!=e[d]&&(l[e[d]]=!0);for(d=0;d<f.length;d++)""!=f[d]&&(l[f[d]]=!0);d=k.keys(l);return{left:b,
right:a,cost:b.cost+a.cost,i:"_"+d.sort().join("_")+"_",vars:g,join:h}},executeBushyTree:function(c,a,e,g,h){null==c.left?b.executeEmptyJoinBGP(c.right,a,e,g,h):null==c.right?b.executeEmptyJoinBGP(c.left,a,e,g,h):b.executeBushyTree(c.left,a,e,g,function(d){null!=d?b.executeBushyTree(c.right,a,e,g,function(a){null!=a?h(b.joinBindings2(c.join,d,a)):h(null)}):h(null)})},executeAndBGPsDPSize:function(c,a,e,g,h){c=b.executeAndBGPsGroups(c);var d=[];n.eachSeries(c,function(a,c){e.computeCosts(a,g,function(a){var e=
{},f={},g={},h=1,k=null,n={};g["1"]=[];for(var q=0;q<a.length;q++){h=[];delete a[q].variables;for(var x in a[q])"_cost"!=x&&("var"===a[q][x].token?h.push(a[q][x].value):"blank"===a[q][x].token&&h.push(a[q][x].value));f["_"+q+"_"]={left:a[q],right:null,cost:a[q]._cost,i:"_"+q+"_",vars:h};h={left:a[q],right:null,cost:a[q]._cost,i:"_"+q+"_",vars:h};e["_"+q+"_"]=h;delete a[q]._cost;n["_"+q+"_"]=!0;g["1"].push("_"+q+"_");if(null==k||k.cost>h.cost)k=h}for(x=2;x<=a.length;x++)for(var z=1;z<x;z++)for(var r=
g[""+z]||[],t=g[""+(x-z)]||[],q=0;q<r.length;q++)for(var w=0;w<t.length;w++)if(r[q]!==t[w]){var y=f[r[q]],v=f[t[w]];if(0==b.intersectionSize(y,v)&&b.connected(y,v)&&(h=x,y=b.createJoinTree(e[y.i],e[v.i]),!n[y.i])){n[y.i]=!0;v=y.cost+1;null!=e[y.i]&&(v=e[y.i].cost);var L=g[x]||[];L.push(y.i);f[y.i]=y;g[x]=L;v>y.cost&&(h===x&&(k=y),e[y.i]=y)}}d.push(k);c()})},function(){var c=null;n.eachSeries(d,function(d,h){b.executeBushyTree(d,a,e,g,function(a){a?(c=null==c?a:b.crossProductBindings(c,a),h()):h("Error executing bushy tree")})},
function(a){a?h(null,a):h(c)})})},executeEmptyJoinBGP:function(c,a,e,g,h){return b.executeBGPDatasets(c,a,e,g,h)},executeBGPDatasets:function(c,a,e,g,h){var d={};if(null==c.graph){var f=[];n.eachSeries(a.implicit,function(a,h){null==d[a.oid]?(d[a.oid]=!0,c.graph=a,e.rangeQuery(c,g,function(a){a=b.buildBindingsFromRange(a,c);f.push(a);h()})):h()},function(){var a=b.unionManyBindings(f);h(a)})}else if("var"===c.graph.token){var l=c.graph.value,f=[];n.eachSeries(a.named,function(a,h){null==d[a.oid]&&
(d[a.oid]=!0,c.graph=a,null!=f?e.rangeQuery(c,g,function(d){if(null!=d){d=b.buildBindingsFromRange(d,c);for(var e=0;e<d.length;e++)d[e][l]=a.oid;f.push(d)}else f=null;h()}):h())},function(){if(null==f)h(null);else{var a=b.unionManyBindings(f);h(a)}})}else e.rangeQuery(c,g,function(a){null!=a?(a=b.buildBindingsFromRange(a,c),h(a)):h(null)})},buildBindingsFromRange:function(c,a){b.variablesInBGP(a);var e=a.value||a,g={};for(m in e)e[m]&&"var"===e[m].token?g[m]=e[m].value:e[m]&&"blank"===e[m].token&&
(g[m]="blank:"+e[m].value);e=[];if(null!=c)for(var h=0;h<c.length;h++){var d={},f=c[h],l=!1,m;for(m in g){var k=f[m];if(null==d[g[m]]||d[g[m]]===k)d[g[m]]=k;else{l=!0;break}}l||e.push(d)}return e},areCompatibleBindings:function(b,a){for(var e in b)if(null!=a[e]&&a[e]!=b[e])return!1;return!0},mergeBindings:function(b,a){var e={},g;for(g in b)e[g]=b[g];for(g in a)e[g]=a[g];return e},joinBindings2:function(c,a,e){for(var g={},h,d,f,l,m=[],k=0;k<a.length;k++){h=a[k];l=g;for(var n=0;n<c.length;n++)d=c[n],
d=h[d],n==c.length-1?(f=l[d]||[],f.push(h),l[d]=f):(f=l[d]||{},l=l[d]=f)}for(k=0;k<e.length;k++)for(h=e[k],l=g,n=0;n<c.length;n++)if(d=c[n],d=h[d],null!=l[d])if(n==c.length-1)for(a=0;a<l[d].length;a++)m.push(b.mergeBindings(l[d][a],h));else l=l[d];return m},joinBindings:function(c,a){for(var e=[],g=0;g<c.length;g++)for(var h=c[g],d=0;d<a.length;d++){var f=a[d];b.areCompatibleBindings(h,f)&&e.push(b.mergeBindings(h,f))}return e},augmentMissingBindings:function(b,a){for(var e in a)null==b[e]&&(b[e]=
null);return b},leftOuterJoinBindings:function(c,a){for(var e=[],g=0;g<c.length;g++){for(var h=c[g],d=!1,f=0;f<a.length;f++){var l=a[f];b.areCompatibleBindings(h,l)&&(d=!0,e.push(b.mergeBindings(h,l)))}!1===d&&(b.augmentMissingBindings(h,l),e.push(h))}return e},crossProductBindings:function(c,a){for(var e=[],g=0;g<c.length;g++)for(var h=c[g],d=0;d<a.length;d++)e.push(b.mergeBindings(h,a[d]));return e},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(c){for(var a=[],e=0;e<
c.length;e++)a=b.unionBindings(a,c[e]);return a}};z.exports={QueryPlan:b}},{"./utils":55}],52:[function(q,z,x){var k=q("./network_transport").NetworkTransport,n=q("./rvn3_parser").RVN3Parser,b=q("./jsonld_parser").JSONLDParser,c=q("./utils");x=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":n.parser,"text/n3":n.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),
this.parsers["application/rdf+xml"]=RDFXMLParser.parser);if(null!=a)for(var e in a.parsers)this.parsers[e]=a.parsers[e];if(a&&null!=a.precedences)for(e in this.precedences=a.precedences,a.parsers)c.include(this.precedences,e)||this.precedences.push(e);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};x.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};
x.prototype.unregisterParser=function(a){delete this.parsers[a];for(var b=[],c=0;c<this.precedences.length;c++)this.precedences[c]!=a&&b.push(this.precedences[c]);this.precedences=b};x.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};x.prototype.load=function(a,b,c){var h=this;k.load(a,this.acceptHeaderValue,function(d,f){if(d)c(d);else{var l=f.headers["Content-Type"]||f.headers["content-type"],m=f.data;if(null!=l){var l=l.split(";")[0],k;for(k in h.parsers)if(-1!=k.indexOf("/")){var n=
k.split("/");if("*"===n[1]){if(-1!=l.indexOf(n[0]))return h.tryToParse(h.parsers[k],b,m,{documentURI:a},c)}else if(-1!=l.indexOf(k)||-1!=l.indexOf(n[1]))return h.tryToParse(h.parsers[k],b,m,{documentURI:a},c)}else if(-1!=l.indexOf(k))return h.tryToParse(h.parsers[k],b,m,{documentURI:a},c);c(Error("Unknown media type : "+l))}else c(Error("Uknown media type"))}})};x.prototype.loadFromFile=function(a,b,c,h){try{var d=this;q("fs").readFile(c.split("file:/")[1],function(f,m){f?h(f):(m=m.toString("utf8"),
d.tryToParse(a,b,m,{documentURI:c},h))})}catch(f){h(f)}};x.prototype.tryToParse=function(a,b,g,h,d){try{"string"===typeof g&&(g=c.normalizeUnicodeLiterals(g)),a.parse(g,b,h,d)}catch(f){console.log(f.message),console.log(f.stack),d(f)}};z.exports={RDFLoader:x}},{"./jsonld_parser":41,"./network_transport":43,"./rvn3_parser":54,"./utils":55,fs:1}],53:[function(q,z,x){var k=q("./utils"),n=q("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},c;for(c in this)k.include(this.interfaceProperties,c)||"function"===typeof this[c]||"defaultNs"===c||"interfaceProperties"===c||(b[c]=this[c]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[b]};
RDFModel.UrisMap.prototype.remove=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,c){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=c};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,c){for(var a in b)k.include(this.interfaceProperties,a)||(null!=this[a]?!0===c&&(this[a]=b[a]):this[a]=b[a]);return this};
RDFModel.UrisMap.prototype.resolve=function(b){var c=b.split(":");b=c[0];c=c[1];return""===b?null==this.defaultNs?null:this.defaultNs+c:null!=this[b]?this[b]+c:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var c in this){var a=this[c];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=c)return b=b.split(a)[1],c+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,
c);this.terms.addAll(b.terms,c)};RDFModel.Profile.prototype.resolve=function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};RDFModel.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};RDFModel.RDFEnvironment=
function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(c){return c.subject.equals(a)&&c.predicate.equals(b)}},so:function(a,b){return function(c){return c.subject.equals(a)&&c.object.equals(b)}},po:function(a,b){return function(c){return c.predicate.equals(a)&&
c.object.equals(b)}},spo:function(a,b,c){return function(h){return h.subject.equals(a)&&h.predicate.equals(b)&&h.object.equals(c)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var c=b.resolve("rdf:type");return function(b){return b.predicate.equals(c)&&b.object.equals(a)}}};for(var c in RDFModel.defaultContext)this.prefixes.set(c,RDFModel.defaultContext[c])};RDFModel.RDFEnvironment.prototype=k.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});
RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return null!=c?new RDFModel.NamedNode(c):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,c,a){return null!=a?new RDFModel.Literal(b,c,a.toString()):new RDFModel.Literal(b,c,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,
c,a){return new RDFModel.Triple(b,c,a)};RDFModel.RDFEnvironment.prototype.createGraph=function(b){var c=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)c.add(b[a]);return c};RDFModel.RDFEnvironment.prototype.createAction=function(b,c){return function(a){return b(a)?c(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=
function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==
b;for(var c in this.attributes){var a=this.attributes[c];if(this[a]!=b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Literal=function(b,c,a){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=b;null!=c?this.language=c:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};
RDFModel.Literal.prototype.valueOf=function(){return n.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+
this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(b,c,a){this.subject=b;this.predicate=c;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates=
{};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(!0==c)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=
function(b){b=b.toArray();for(var c=0;c<b.length;c++)this.add(b[c]);this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var c=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=a;break}null!=c&&this.triples.splice(c,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=
function(b){for(var c=0;c<this.triples.length;c++)if(!0===b(this.triples[c],this))return!0;return!1};RDFModel.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(!1===b(this.triples[c],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var c=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&c.add(this.triples[a]);return c};RDFModel.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};
RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var c=0;c<this.triples.length;c++)b.add(this.triples[c]);return b};RDFModel.Graph.prototype.match=function(b,c,a,e){for(var g=new RDFModel.Graph,h=0,d=0;d<this.triples.length;d++){var f=this.triples[d];if(null==b||f.subject.equals(b))if(null==c||f.predicate.equals(c))if(null==a||f.object.equals(a))if(null==e||h<e)h++,g.add(f);else break}return g};RDFModel.Graph.prototype.removeMatches=function(b,c,a){for(var e=[],g=0;g<this.triples.length;g++){var h=
this.triples[g];if(null==b||h.subject.equals(b))null!=c&&!h.predicate.equals(c)||null!=a&&!h.object.equals(a)||e.push(h)}for(g=0;g<e.length;g++)this.remove(e[g]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};RDFModel.buildRDFResource=function(b,c,a,e){return"blank"===b.token?RDFModel.buildBlankNode(b,c,a,e):"literal"===b.token?RDFModel.buildLiteral(b,c,a,e):"uri"===b.token?RDFModel.buildNamedNode(b,c,a,e):"var"===b.token?(b=c[b.value],
null!=b?RDFModel.buildRDFResource(b,c,a,e):null):null};RDFModel.buildBlankNode=function(b,c,a,e){null!=b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,c,a,e){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,c,a,e){null==b.value&&null!=b.prefix&&(c=a.resolveNsInEnvironment(b.prefix,e),b.value=c+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=
new RDFModel.RDFEnvironment;z.exports=RDFModel},{"./query_filters":50,"./utils":55}],54:[function(q,z,x){function k(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var n=q("../node_modules/n3/lib/N3Parser");z.exports={RVN3Parser:{parser:{async:!0,parse:function(b,c,a,e){e||(e=a,a=c,c=null);c&&"string"===typeof c&&(c={token:"uri",value:c,
prefix:null,suffix:null});a&&a.baseURI&&(a.documentIRI=a.baseURI);var g=[];(new n(a)).parse(b,function(a,b){a?e(a):b?g.push({subject:k(b.subject),predicate:k(b.predicate),object:k(b.object),graph:c}):e(!1,g)})},resetBlankNodeIds:function(){n._resetBlankNodeIds()}}}}},{"../node_modules/n3/lib/N3Parser":36}],55:[function(q,z,x){(function(k){var n=function(){var a=null;"undefined"!==typeof window?a=window:"undefined"!==typeof k&&(a=k);var b="undefined"!==typeof a&&a.postMessage&&a.addEventListener;if("undefined"!==
typeof a&&a.setImmediate)return function(b){return a.setImmediate(b)};if("undefined"!==a&&a.nextTick&&"function"===typeof q)return q("timers")&&q("timers").setImmediate?q("timers").setImmediate:a.nextTick;if(b){var c=[];a.addEventListener("message",function(b){var d=b.source;d!==a&&null!==d||"process-tick"!==b.data||(b.stopPropagation(),0<c.length&&c.shift()())},!0);return function(b){c.push(b);a.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),b=function(a){try{if(null==a)return"";
if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+
":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),d=parseISO8601(b);return c==d?0:c<d?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,d=a.lang,e=a.type,g=null;null!=c&&null!=e&&"string"!=typeof e?(c=e.value,null==c&&(c=e.suffix,e=b.namespaces[e.prefix],a.type=e+c,c=e+c),g=-1!=c.indexOf("hexBinary")?'"'+a.value.toLowerCase()+
'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):g=null==d&&null==e?'"'+c+'"':null==e?'"'+c+'"@'+d:-1!=e.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+e+">":'"'+a.value+'"^^<'+e+">";return g};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=q("sqlite3"),c=q("indexeddb-js"),b=
new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};var b=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+
a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},c=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},a=function(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var e=function(){function a(){}return function(b){var c=typeof b;if("function"==
c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),g=function(a,b,c){a()?b(function(d){if(d)return c(d);g(a,b,c)}):c()},h=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},d=function(a,b,c,d){h(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};z.exports={nextTick:n,hasTerm:b,lexicalFormBaseUri:function(a,b){var c=null;b=b||{};if(null==a.value)var c=
a.prefix,d=a.suffix,e=b.namespaces[c],c=null!=e?e+d:c+":"+d;else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+
a()+a()},hashTerm:b,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:a,forEach:a,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:c,remove:c,clone:clone,create:e,whilst:g,eachSeries:h,seq:function(){var a=arguments;
return function(){var b=this,c=Array.prototype.slice.call(arguments),e=c.pop();d(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){e.apply(b,[a].concat(c))})}}}}).call(this,q("1YiZ5S"))},{"1YiZ5S":13,timers:26}]},{},[39])(39)});
