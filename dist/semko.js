// Knockout JavaScript library v1.2.1
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function(window,undefined){
function e(a){throw a;}var j=void 0,n=!0,p=null,q=!1,s=window.ko={};s.b=function(a,d){for(var c=a.split("."),b=window,f=0;f<c.length-1;f++)b=b[c[f]];b[c[c.length-1]]=d};s.w=function(a,d,c){a[d]=c};
s.a=new function(){function a(a,b){if("INPUT"!=a.tagName||!a.type)return q;if("click"!=b.toLowerCase())return q;var c=a.type.toLowerCase();return"checkbox"==c||"radio"==c}var d=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,c=/MSIE 6/i.test(navigator.userAgent),b=/MSIE 7/i.test(navigator.userAgent),f={},h={};f[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];f.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");
for(var i in f){var g=f[i];if(g.length)for(var l=0,k=g.length;l<k;l++)h[g[l]]=i}return{Ua:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],s:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},t:function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},tb:function(a,b,c){for(var d=0,f=a.length;d<f;d++)if(b.call(c,a[d]))return a[d];return p},qa:function(a,b){var c=s.a.t(a,b);0<=c&&a.splice(c,1)},oa:function(a){for(var a=
a||[],b=[],c=0,d=a.length;c<d;c++)0>s.a.t(b,a[c])&&b.push(a[c]);return b},pa:function(a,b){for(var a=a||[],c=[],d=0,f=a.length;d<f;d++)c.push(b(a[d]));return c},na:function(a,b){for(var a=a||[],c=[],d=0,f=a.length;d<f;d++)b(a[d])&&c.push(a[d]);return c},U:function(a,b){for(var c=0,d=b.length;c<d;c++)a.push(b[c])},ta:function(a){for(;a.firstChild;)s.removeNode(a.firstChild)},Zb:function(a,b){s.a.ta(a);b&&s.a.s(b,function(b){a.appendChild(b)})},gb:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=
c[0],f=d.parentNode,g=0,h=b.length;g<h;g++)f.insertBefore(b[g],d);g=0;for(h=c.length;g<h;g++)s.removeNode(c[g])}},ib:function(a,b){0<=navigator.userAgent.indexOf("MSIE 6")?a.setAttribute("selected",b):a.selected=b},Va:function(a,b){if(!a||1!=a.nodeType)return[];var c=[];a.getAttribute(b)!==p&&c.push(a);for(var d=a.getElementsByTagName("*"),f=0,g=d.length;f<g;f++)d[f].getAttribute(b)!==p&&c.push(d[f]);return c},B:function(a){return(a||"").replace(d,"")},qc:function(a,b){for(var c=[],d=(a||"").split(b),
f=0,g=d.length;f<g;f++){var h=s.a.B(d[f]);""!==h&&c.push(h)}return c},ec:function(a,b){a=a||"";return b.length>a.length?q:a.substring(0,b.length)===b},Eb:function(a,b,c){if(b===j)return(new Function("return "+a))();b.skonode=c;return(new Function("__SKO__sc","with(__SKO__sc){ var innerNode=skonode; return ("+a+") }"))(b)},Cb:function(a,b){if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a!=p;){if(a==b)return n;a=a.parentNode}return q},sa:function(a){return s.a.Cb(a,document)},
R:function(b,c,d){if("undefined"!=typeof jQuery){if(a(b,c))var f=d,d=function(a,b){var c=this.checked;if(b)this.checked=b.wb!==n;f.call(this,a);this.checked=c};jQuery(b).bind(c,d)}else"function"==typeof b.addEventListener?b.addEventListener(c,d,q):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+c,function(a){d.call(b,a)}):e(Error("Browser doesn't support addEventListener or attachEvent"))},mb:function(b,c){(!b||!b.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=
typeof jQuery){var d=[];a(b,c)&&d.push({wb:b.checked});jQuery(b).trigger(c,d)}else if("function"==typeof document.createEvent)"function"==typeof b.dispatchEvent?(d=document.createEvent(h[c]||"HTMLEvents"),d.initEvent(c,n,n,window,0,0,0,0,0,q,q,q,q,0,b),b.dispatchEvent(d)):e(Error("The supplied element doesn't support dispatchEvent"));else if("undefined"!=typeof b.fireEvent){if("click"==c&&"INPUT"==b.tagName&&("checkbox"==b.type.toLowerCase()||"radio"==b.type.toLowerCase()))b.checked=b.checked!==n;
b.fireEvent("on"+c)}else e(Error("Browser doesn't support triggering events"))},g:function(a){return s.ea(a)?a():a},Bb:function(a,b){return 0<=s.a.t((a.className||"").split(/\s+/),b)},lb:function(a,b,c){var d=s.a.Bb(a,b);if(c&&!d)a.className=(a.className||"")+" "+b;else if(d&&!c){for(var c=(a.className||"").split(/\s+/),d="",f=0;f<c.length;f++)c[f]!=b&&(d+=c[f]+" ");a.className=s.a.B(d)}},Ub:function(a,b){for(var a=s.a.g(a),b=s.a.g(b),c=[],d=a;d<=b;d++)c.push(d);return c},za:function(a){for(var b=
[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},wa:c,Lb:b,Wa:function(a,b){for(var c=s.a.za(a.getElementsByTagName("INPUT")).concat(s.a.za(a.getElementsByTagName("TEXTAREA"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},f=[],g=c.length-1;0<=g;g--)d(c[g])&&f.push(c[g]);return f},X:function(a){return"string"==typeof a&&(a=s.a.B(a))?window.JSON&&window.JSON.parse?window.JSON.parse(a):(new Function("return "+a))():p},Ga:function(a){("undefined"==typeof JSON||
"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(s.a.g(a))},Tb:function(a,b,c){var c=c||{},d=c.params||{},f=c.includeFields||this.Ua,g=a;if("object"==typeof a&&"FORM"==a.tagName)for(var g=a.action,h=f.length-1;0<=h;h--)for(var i=s.a.Wa(a,f[h]),l=i.length-1;0<=l;l--)d[i[l].name]=
i[l].value;var b=s.a.g(b),k=document.createElement("FORM");k.style.display="none";k.action=g;k.method="post";for(var w in b)a=document.createElement("INPUT"),a.name=w,a.value=s.a.Ga(s.a.g(b[w])),k.appendChild(a);for(w in d)a=document.createElement("INPUT"),a.name=w,a.value=d[w],k.appendChild(a);document.body.appendChild(k);c.submitter?c.submitter(k):k.submit();setTimeout(function(){k.parentNode.removeChild(k)},0)}}};s.b("ko.utils",s.a);s.b("ko.utils.arrayForEach",s.a.s);
s.b("ko.utils.arrayFirst",s.a.tb);s.b("ko.utils.arrayFilter",s.a.na);s.b("ko.utils.arrayGetDistinctValues",s.a.oa);s.b("ko.utils.arrayIndexOf",s.a.t);s.b("ko.utils.arrayMap",s.a.pa);s.b("ko.utils.arrayPushAll",s.a.U);s.b("ko.utils.arrayRemoveItem",s.a.qa);s.b("ko.utils.fieldsIncludedWithJsonPost",s.a.Ua);s.b("ko.utils.getElementsHavingAttribute",s.a.Va);s.b("ko.utils.getFormFields",s.a.Wa);s.b("ko.utils.postJson",s.a.Tb);s.b("ko.utils.parseJson",s.a.X);s.b("ko.utils.registerEventHandler",s.a.R);
s.b("ko.utils.stringifyJson",s.a.Ga);s.b("ko.utils.range",s.a.Ub);s.b("ko.utils.toggleDomNodeCssClass",s.a.lb);s.b("ko.utils.triggerEvent",s.a.mb);s.b("ko.utils.unwrapObservable",s.a.g);Function.prototype.bind||(Function.prototype.bind=function(a){var d=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return d.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});
s.a.p=new function(){var a=0,d="__ko__"+(new Date).getTime(),c={};return{get:function(a,c){var d=s.a.p.getAll(a,q);return d===j?j:d[c]},set:function(a,c,d){d===j&&s.a.p.getAll(a,q)===j||(s.a.p.getAll(a,n)[c]=d)},getAll:function(b,f){var h=b[d];if(!h){if(!f)return;h=b[d]="ko"+a++;c[h]={}}return c[h]},clear:function(a){var f=a[d];f&&(delete c[f],a[d]=p)}}};
s.a.N=new function(){function a(a,d){var h=s.a.p.get(a,c);h===j&&d&&(h=[],s.a.p.set(a,c,h));return h}function d(b){sko.L(b);var c=a(b,q);if(c)for(var c=c.slice(0),d=0;d<c.length;d++)c[d](b);s.a.p.clear(b);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([b])}var c="__ko_domNodeDisposal__"+(new Date).getTime();return{Oa:function(b,c){"function"!=typeof c&&e(Error("Callback must be a function"));a(b,n).push(c)},fb:function(b,d){var h=a(b,q);h&&(s.a.qa(h,d),0==h.length&&
s.a.p.set(b,c,j))},L:function(a){if(!(1!=a.nodeType&&9!=a.nodeType)){d(a);var c=[];s.a.U(c,a.getElementsByTagName("*"));for(var a=0,h=c.length;a<h;a++)d(c[a])}},removeNode:function(a){s.L(a);a.parentNode&&a.parentNode.removeChild(a)}}};s.L=s.a.N.L;s.removeNode=s.a.N.removeNode;s.b("ko.cleanNode",s.L);s.b("ko.removeNode",s.removeNode);s.b("ko.utils.domNodeDisposal",s.a.N);s.b("ko.utils.domNodeDisposal.addDisposeCallback",s.a.N.Oa);s.b("ko.utils.domNodeDisposal.removeDisposeCallback",s.a.N.fb);
s.a.Sb=function(a){if("undefined"!=typeof jQuery)a=jQuery.clean([a]);else{var d=s.a.B(a).toLowerCase(),c=document.createElement("div"),d=d.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];for(c.innerHTML=d[1]+a+d[2];d[0]--;)c=c.lastChild;a=s.a.za(c.childNodes)}return a};
s.a.$b=function(a,d){s.a.ta(a);if(d!==p&&d!==j)if("string"!=typeof d&&(d=d.toString()),"undefined"!=typeof jQuery)jQuery(a).html(d);else for(var c=s.a.Sb(d),b=0;b<c.length;b++)a.appendChild(c[b])};
s.C=function(){function a(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function d(a,c){if(a)if(8==a.nodeType){var h=s.C.bb(a.nodeValue);h!=p&&c.push({Ab:a,Pb:h})}else if(1==a.nodeType)for(var h=0,i=a.childNodes,g=i.length;h<g;h++)d(i[h],c)}var c={};return{Aa:function(b){"function"!=typeof b&&e(Error("You can only pass a function to ko.memoization.memoize()"));var d=a()+a();c[d]=b;return"<\!--[ko_memo:"+d+"]--\>"},nb:function(a,d){var h=c[a];h===j&&e(Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized."));try{return h.apply(p,d||[]),n}finally{delete c[a]}},ob:function(a,c){var h=[];d(a,h);for(var i=0,g=h.length;i<g;i++){var l=h[i].Ab,k=[l];c&&s.a.U(k,c);var m=c[0];sko.Ka(a,m,function(){sko.Ja(a,m,function(){s.C.nb(h[i].Pb,k);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)})})}},bb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:p}}}();s.b("ko.memoization",s.C);s.b("ko.memoization.memoize",s.C.Aa);s.b("ko.memoization.unmemoize",s.C.nb);
s.b("ko.memoization.parseMemoText",s.C.bb);s.b("ko.memoization.unmemoizeDomNodeAndDescendants",s.C.ob);s.fc=function(a,d){this.vb=a;this.z=function(){this.Kb=n;d()}.bind(this);s.w(this,"dispose",this.z)};
s.Ha=function(){var a=[];this.G=function(d,c){var b=c?d.bind(c):d,f=new s.fc(b,function(){s.a.qa(a,f)});a.push(f);return f};this.W=function(d){s.a.s(a.slice(0),function(a){a&&a.Kb!==n&&a.vb(d)})};this.Gb=function(){return a.length};s.w(this,"subscribe",this.G);s.w(this,"notifySubscribers",this.W);s.w(this,"getSubscriptionsCount",this.Gb)};s.Za=function(a){return"function"==typeof a.G&&"function"==typeof a.W};s.b("ko.subscribable",s.Ha);s.b("ko.isSubscribable",s.Za);
s.aa=function(){var a=[];return{ub:function(){a.push([])},end:function(){return a.pop()},eb:function(d){s.Za(d)||e("Only subscribable things can act as dependencies");0<a.length&&a[a.length-1].push(d)}}}();var z={undefined:n,"boolean":n,number:n,string:n};function A(a,d){return a===p||typeof a in z?a===d:q}
s.q=function(a){function d(){if(0<arguments.length){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))c=arguments[0],d.W(c);return this}s.aa.eb(d);return c}var c=a;d.K=s.q;d.ja=function(){d.W(c)};d.equalityComparer=A;s.Ha.call(d);s.w(d,"valueHasMutated",d.ja);return d};s.ea=function(a){return a===p||a===j||a.K===j?q:a.K===s.q?n:s.ea(a.K)};s.fa=function(a){return"function"==typeof a&&a.K===s.q?n:"function"==typeof a&&a.K===s.m&&a.Hb?n:q};s.b("ko.observable",s.q);s.b("ko.isObservable",s.ea);
s.b("ko.isWriteableObservable",s.fa);
s.Rb=function(a){0==arguments.length&&(a=[]);a!==p&&a!==j&&!("length"in a)&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var d=new s.q(a);s.a.s("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){d[a]=function(){var b=d(),b=b[a].apply(b,arguments);d.ja();return b}});s.a.s(["slice"],function(a){d[a]=function(){var b=d();return b[a].apply(b,arguments)}});d.remove=function(a){for(var b=d(),f=[],h=[],i="function"==typeof a?
a:function(b){return b===a},g=0,l=b.length;g<l;g++){var k=b[g];i(k)?h.push(k):f.push(k)}d(f);return h};d.Wb=function(a){if(a===j){var b=d();d([]);return b}return!a?[]:d.remove(function(b){return 0<=s.a.t(a,b)})};d.ra=function(a){for(var b=d(),f="function"==typeof a?a:function(b){return b===a},h=b.length-1;0<=h;h--)f(b[h])&&(b[h]._destroy=n);d.ja()};d.zb=function(a){return a===j?d.ra(function(){return n}):!a?[]:d.ra(function(b){return 0<=s.a.t(a,b)})};d.indexOf=function(a){var b=d();return s.a.t(b,
a)};d.replace=function(a,b){var f=d.indexOf(a);0<=f&&(d()[f]=b,d.ja())};s.w(d,"remove",d.remove);s.w(d,"removeAll",d.Wb);s.w(d,"destroy",d.ra);s.w(d,"destroyAll",d.zb);s.w(d,"indexOf",d.indexOf);return d};s.b("ko.observableArray",s.Rb);
s.m=function(a,d,c){function b(){s.a.s(o,function(a){a.z()});o=[]}function f(a){b();s.a.s(a,function(a){o.push(a.G(h))})}function h(){if(l&&"function"==typeof c.disposeWhen&&c.disposeWhen())i.z();else{try{s.aa.ub(),g=c.owner?c.read.call(c.owner):c.read()}finally{var a=s.a.oa(s.aa.end());f(a)}i.W(g);l=n}}function i(){if(0<arguments.length)if("function"===typeof c.write){var a=arguments[0];c.owner?c.write.call(c.owner,a):c.write(a)}else e("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
else return l||h(),s.aa.eb(i),g}var g,l=q;a&&"object"==typeof a?c=a:(c=c||{},c.read=a||c.read,c.owner=d||c.owner);"function"!=typeof c.read&&e("Pass a function that returns the value of the dependentObservable");var k="object"==typeof c.disposeWhenNodeIsRemoved?c.disposeWhenNodeIsRemoved:p,m=p;if(k){m=function(){i.z()};s.a.N.Oa(k,m);var r=c.disposeWhen;c.disposeWhen=function(){return!s.a.sa(k)||"function"==typeof r&&r()}}var o=[];i.K=s.m;i.Fb=function(){return o.length};i.Hb="function"===typeof c.write;
i.z=function(){k&&s.a.N.fb(k,m);b()};s.Ha.call(i);c.deferEvaluation!==n&&h();s.w(i,"dispose",i.z);s.w(i,"getDependenciesCount",i.Fb);return i};s.m.K=s.q;s.b("ko.dependentObservable",s.m);
(function(){function a(b,f,h){h=h||new c;b=f(b);if(!("object"==typeof b&&b!==p&&b!==j))return b;var i=b instanceof Array?[]:{};h.save(b,i);d(b,function(c){var d=f(b[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":i[c]=d;break;case "object":case "undefined":var k=h.get(d);i[c]=k!==j?k:a(d,f,h)}});return i}function d(a,c){if(a instanceof Array)for(var d=0;d<a.length;d++)c(d);else for(d in a)c(d)}function c(){var a=[],c=[];this.save=function(d,i){var g=s.a.t(a,d);0<=g?
c[g]=i:(a.push(d),c.push(i))};this.get=function(d){d=s.a.t(a,d);return 0<=d?c[d]:j}}s.kb=function(c){0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert."));return a(c,function(a){for(var c=0;s.ea(a)&&10>c;c++)a=a();return a})};s.toJSON=function(a){a=s.kb(a);return s.a.Ga(a)}})();s.b("ko.toJS",s.kb);s.b("ko.toJSON",s.toJSON);
s.r={D:function(a){return"OPTION"==a.tagName?a.__ko__hasDomDataOptionValue__===n?s.a.p.get(a,s.d.options.Ba):a.getAttribute("value"):"SELECT"==a.tagName?0<=a.selectedIndex?s.r.D(a.options[a.selectedIndex]):j:a.value},ka:function(a,d){if("OPTION"==a.tagName)switch(typeof d){case "string":case "number":s.a.p.set(a,s.d.options.Ba,j);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=d;break;default:s.a.p.set(a,s.d.options.Ba,d),a.__ko__hasDomDataOptionValue__=n,a.value=
""}else if("SELECT"==a.tagName)for(var c=a.options.length-1;0<=c;c--){if(s.r.D(a.options[c])==d){a.selectedIndex=c;break}}else{if(d===p||d===j)d="";a.value=d}}};s.b("ko.selectExtensions",s.r);s.b("ko.selectExtensions.readValue",s.r.D);s.b("ko.selectExtensions.writeValue",s.r.ka);
s.J=function(){function a(a,b){return a.replace(c,function(a,c){return b[c]})}function d(a){return 0<=s.a.t(f,s.a.B(a).toLowerCase())?q:"<"==a[0]&&">"==a[a.length-1]?n:a.match(b)!==p}var c=/\[ko_token_(\d+)\]/g,b=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,f=["true","false"];return{X:function(c){c=s.a.B(c);if(3>c.length)return{};for(var b=[],d=p,f,k,m="{"==c.charAt(0)?1:0;m<c.length;m++){var r=c.charAt(m);if(d===p)switch(r){case '"':case "'":case "/":d=m;f=r;break;case "<":d=
m;f=">";break;case "{":d=m;k=1;f="}";break;case "[":d=m,f="]"}else if("}"==f&&"{"==r)k++;else if("}"==f&&"}"==r&&1<k)k--;else if(r==f){r=c.substring(d,m+1);b.push(r);var o="[ko_token_"+(b.length-1)+"]",c=c.substring(0,d)+o+c.substring(m+1),m=m-(r.length-o.length),d=p}}d={};c=c.split(",");f=0;for(k=c.length;f<k;f++)r=c[f],o=r.indexOf(":"),0<o&&o<r.length-1&&(m=s.a.B(r.substring(0,o)),r=s.a.B(r.substring(o+1)),"{"==m.charAt(0)&&(m=m.substring(1)),"}"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-
1)),m=s.a.B(a(m,b)),r=s.a.B(a(r,b)),d[m]=r);return d},Ib:function(a){var c=s.J.X(a),b=[],f;for(f in c){var k=c[f];d(k)&&(0<b.length&&b.push(", "),b.push(f+" : function(__ko_value) { "+k+" = __ko_value; }"))}0<b.length&&(a=a+", '_ko_property_writers' : { "+b.join("")+" } ");return a},va:function(a){var a=s.J.X(a),c=[],b="",f=n,k;for(k in a){var m=a[k];d(m)&&(0<c.length&&c.push(", "),"<"===m[0]&&">"===m[m.length-1]&&"about"!==k&&"rel"!==k?c.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(innerNode); }; sko.current().tryProperty('"+
m+"') = __ko_value; }"):m.match(/^\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]$/)!=p&&"about"!==k&&"rel"!==k?c.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(innerNode); }; sko.current().tryProperty('"+m+"') = __ko_value; }"):"<"===m[0]&&">"===m[m.length-1]&&("about"===k||"rel"===k)||"["===m[0]&&"]"===m[m.length-1]&&("about"===k||"rel"===k)||(/tryProperty\([^)]+\)$/.test(m)||/prop\([^)]+\)$/.test(m)?c.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(innerNode); }; "+
m+"(__ko_value); }"):c.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(innerNode); }; "+m+" = __ko_value; }")));f?f=q:b+=", ";b="<"===m[0]&&">"===m[m.length-1]&&"about"!==k&&"rel"!==k?b+k+": (function(){ sko.current = function() { return sko.currentResource(innerNode); }; return sko.current().tryProperty('"+m+"') })()":m.match(/^\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]$/)!=p&&"about"!==k&&"rel"!==k?b+k+": (function(){ sko.current = function() { return sko.currentResource(innerNode); }; return sko.current().tryProperty('"+
m+"') })()":"<"===m[0]&&">"===m[m.length-1]&&("about"===k||"rel"===k)?b+k+": '"+m.slice(1,m.length-1)+"'":m.match(/^\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]$/)!=p&&("about"===k||"rel"===k)?b+k+": sko.rdf.prefixes.resolve('"+m.slice(1,m.length-1)+"')":b+k+": (function(){ sko.current = function() { return sko.currentResource(innerNode); }; return "+m+" })()"}a=b;0<c.length&&(a=a+", '_ko_property_writers' : { "+c.join("")+" } ");return a}}}();s.b("ko.jsonExpressionRewriting",s.J);
s.b("ko.jsonExpressionRewriting.parseJson",s.J.X);s.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.J.Ib);s.b("ko.jsonExpressionRewriting.insertPropertyReaderWritersIntoJson",s.J.va);s.d={};
s.ma=function(a,d,c,b){function f(a){return function(){return g[a]}}function h(){return g}var i=n,b=b||"data-bind",g;new s.m(function(){var l;if("function"==typeof d){c.skonode=a;with(c)l=d()}else l=d;if(!l){var k=a.getAttribute(b);try{var m=" { "+s.J.va(k)+" } ";l=s.a.Eb(m,c===p?window:c,a)}catch(r){e(Error("Unable to parse binding attribute.\nMessage: "+r+";\nAttribute value: "+k))}}g=l;if(i)for(var o in g)s.d[o]&&"function"==typeof s.d[o].init&&(0,s.d[o].init)(a,f(o),h,c);for(o in g)s.d[o]&&"function"==
typeof s.d[o].update&&(0,s.d[o].update)(a,f(o),h,c)},p,{disposeWhenNodeIsRemoved:a});i=q};s.la=function(a,d){d&&d.nodeType==j&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node (note: this is a breaking change since KO version 1.05)"));var d=d||window.document.body,c=s.a.Va(d,"data-bind");s.a.s(c,function(c){s.ma(c,p,a)})};s.b("ko.bindingHandlers",s.d);s.b("ko.applyBindings",s.la);s.b("ko.applyBindingsToNode",s.ma);
s.a.s(["click"],function(a){s.d[a]={init:function(d,c,b,f){return s.d.event.init.call(this,d,function(){var b={};b[a]=c();return b},b,f)}}});s.d.event={init:function(a,d,c,b){var f=d()||{},h;for(h in f)(function(){var f=h;"string"==typeof f&&s.a.R(a,f,function(a){var h,k=d()[f];if(k){var m=c();try{h=k.apply(b,arguments)}finally{if(h!==n)a.preventDefault?a.preventDefault():a.returnValue=q}if(m[f+"Bubble"]===q)a.cancelBubble=n,a.stopPropagation&&a.stopPropagation()}})})()}};
s.d.submit={init:function(a,d,c,b){"function"!=typeof d()&&e(Error("The value for a submit binding must be a function to invoke on submit"));s.a.R(a,"submit",function(c){var h,i=d();try{h=i.call(b,a)}finally{if(h!==n)c.preventDefault?c.preventDefault():c.returnValue=q}})}};s.d.visible={update:function(a,d){var c=s.a.g(d()),b="none"!=a.style.display;if(c&&!b)a.style.display="";else if(!c&&b)a.style.display="none"}};
s.d.enable={update:function(a,d){var c=s.a.g(d());if(c&&a.disabled)a.removeAttribute("disabled");else if(!c&&!a.disabled)a.disabled=n}};s.d.disable={update:function(a,d){s.d.enable.update(a,function(){return!s.a.g(d())})}};
s.d.value={init:function(a,d,c){var b=["change"],f=c().valueUpdate;f&&("string"==typeof f&&(f=[f]),s.a.U(b,f),b=s.a.oa(b));s.a.s(b,function(b){var f=q;s.a.ec(b,"after")&&(f=n,b=b.substring(5));var g=f?function(a){setTimeout(a,0)}:function(a){a()};s.a.R(a,b,function(){g(function(){var b=d(),f=s.r.D(a);s.fa(b)?b(f):(b=c(),b._ko_property_writers&&b._ko_property_writers.value&&b._ko_property_writers.value(f))})})})},update:function(a,d){var c=s.a.g(d()),b=s.r.D(a),f=c!=b;0===c&&0!==b&&"0"!==b&&(f=n);
f&&(b=function(){s.r.ka(a,c)},b(),"SELECT"==a.tagName&&setTimeout(b,0));"SELECT"==a.tagName&&(b=s.r.D(a),b!==c&&s.a.mb(a,"change"))}};
s.d.options={update:function(a,d,c){"SELECT"!=a.tagName&&e(Error("options binding applies only to SELECT elements"));var b=s.a.pa(s.a.na(a.childNodes,function(a){return a.tagName&&"OPTION"==a.tagName&&a.selected}),function(a){return s.r.D(a)||a.innerText||a.textContent}),f=a.scrollTop,h=s.a.g(d());s.a.ta(a);if(h){var i=c();"number"!=typeof h.length&&(h=[h]);if(i.optionsCaption){var g=document.createElement("OPTION");g.innerHTML=i.optionsCaption;s.r.ka(g,j);a.appendChild(g)}c=0;for(d=h.length;c<d;c++){var g=
document.createElement("OPTION"),l="string"==typeof i.optionsValue?h[c][i.optionsValue]:h[c],l=s.a.g(l);s.r.ka(g,l);var k=i.optionsText;optionText="function"==typeof k?k(h[c]):"string"==typeof k?h[c][k]:l;if(optionText===p||optionText===j)optionText="";optionText=s.a.g(optionText).toString();"string"==typeof g.innerText?g.innerText=optionText:g.textContent=optionText;a.appendChild(g)}h=a.getElementsByTagName("OPTION");c=i=0;for(d=h.length;c<d;c++)0<=s.a.t(b,s.r.D(h[c]))&&(s.a.ib(h[c],n),i++);if(f)a.scrollTop=
f}}};s.d.options.Ba="__ko.bindingHandlers.options.optionValueDomData__";
s.d.selectedOptions={Xa:function(a){for(var d=[],a=a.childNodes,c=0,b=a.length;c<b;c++){var f=a[c];"OPTION"==f.tagName&&f.selected&&d.push(s.r.D(f))}return d},init:function(a,d,c){s.a.R(a,"change",function(){var a=d();s.fa(a)?a(s.d.selectedOptions.Xa(this)):(a=c(),a._ko_property_writers&&a._ko_property_writers.value&&a._ko_property_writers.value(s.d.selectedOptions.Xa(this)))})},update:function(a,d){"SELECT"!=a.tagName&&e(Error("values binding applies only to SELECT elements"));var c=s.a.g(d());if(c&&
"number"==typeof c.length)for(var b=a.childNodes,f=0,h=b.length;f<h;f++){var i=b[f];"OPTION"==i.tagName&&s.a.ib(i,0<=s.a.t(c,s.r.D(i)))}}};s.d.text={update:function(a,d){var c=s.a.g(d());if(c===p||c===j)c="";"string"==typeof a.innerText?a.innerText=c:a.textContent=c}};s.d.html={update:function(a,d){var c=s.a.g(d());s.a.$b(a,c)}};s.d.css={update:function(a,d){var c=s.a.g(d()||{}),b;for(b in c)if("string"==typeof b){var f=s.a.g(c[b]);s.a.lb(a,b,f)}}};
s.d.style={update:function(a,d){var c=s.a.g(d()||{}),b;for(b in c)if("string"==typeof b){var f=s.a.g(c[b]);a.style[b]=f||""}}};s.d.uniqueName={init:function(a,d){if(d())a.name="ko_unique_"+ ++s.d.uniqueName.yb,s.a.wa&&a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),q)}};s.d.uniqueName.yb=0;
s.d.checked={init:function(a,d,c){s.a.R(a,"click",function(){var b;if("checkbox"==a.type)b=a.checked;else if("radio"==a.type&&a.checked)b=a.value;else return;var f=d();"checkbox"==a.type&&s.a.g(f)instanceof Array?(b=s.a.t(s.a.g(f),a.value),a.checked&&0>b?f.push(a.value):!a.checked&&0<=b&&f.splice(b,1)):s.fa(f)?f()!==b&&f(b):(f=c(),f._ko_property_writers&&f._ko_property_writers.checked&&f._ko_property_writers.checked(b))});"radio"==a.type&&!a.name&&s.d.uniqueName.init(a,function(){return n})},update:function(a,
d){var c=s.a.g(d());if("checkbox"==a.type)a.checked=c instanceof Array?0<=s.a.t(c,a.value):c,c&&s.a.wa&&a.mergeAttributes(document.createElement("<input type='checkbox' checked='checked' />"),q);else if("radio"==a.type)a.checked=a.value==c,a.value==c&&(s.a.wa||s.a.Lb)&&a.mergeAttributes(document.createElement("<input type='radio' checked='checked' />"),q)}};
s.d.attr={update:function(a,d){var c=s.a.g(d())||{},b;for(b in c)if("string"==typeof b){var f=s.a.g(c[b]);f===q||f===p||f===j?a.removeAttribute(b):a.setAttribute(b,f.toString())}}};
s.Ia=function(){this.renderTemplate=function(){e("Override renderTemplate in your ko.templateEngine subclass")};this.isTemplateRewritten=function(){e("Override isTemplateRewritten in your ko.templateEngine subclass")};this.rewriteTemplate=function(){e("Override rewriteTemplate in your ko.templateEngine subclass")};this.createJavaScriptEvaluatorBlock=function(){e("Override createJavaScriptEvaluatorBlock in your ko.templateEngine subclass")}};s.b("ko.templateEngine",s.Ia);
s.ia=function(){var a=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;return{Db:function(a,c){c.isTemplateRewritten(a)||c.rewriteTemplate(a,function(a){return s.ia.Qb(a,c)})},Qb:function(d,c){return d.replace(a,function(a,d,h,i,g,l,k){a=s.J.va(k);return c.createJavaScriptEvaluatorBlock("ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {                     return (function() { var innerNode=skonode; return { "+a+" } })()                 })")+
d})},rb:function(a){return s.C.Aa(function(c,b){c.nextSibling&&sko.Ka(c.nextSibling,b,function(){sko.Ja(c.nextSibling,b,function(){s.ma(c.nextSibling,a,b)})})})}}}();s.b("ko.templateRewriting",s.ia);s.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",s.ia.rb);
(function(){function a(a,b,f,h,i){var g=s.a.g(h),i=i||{},l=i.templateEngine||d;s.ia.Db(f,l);f=l.renderTemplate(f,g,i);("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)&&e("Template engine must return an array of DOM nodes");switch(b){case "replaceChildren":s.a.Zb(a,f);break;case "replaceNode":s.a.gb(a,f);break;case "ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+b))}f&&s.a.s(f,function(a){s.C.ob(a,[h])});i.afterRender&&i.afterRender(f,h);return f}var d;s.jb=function(a){a!=
j&&!(a instanceof s.Ia)&&e("templateEngine must inherit from ko.templateEngine");d=a};s.Da=function(c,b,f,h,i){f=f||{};(f.templateEngine||d)==j&&e("Set a template engine before calling renderTemplate");i=i||"replaceChildren";if(h){var g=h.nodeType?h:0<h.length?h[0]:p;return new s.m(function(){var d="function"==typeof c?c(b):c,d=a(h,i,d,b,f);"replaceNode"==i&&(h=d,g=h.nodeType?h:0<h.length?h[0]:p)},p,{disposeWhen:function(){return!g||!s.a.sa(g)},disposeWhenNodeIsRemoved:g&&"replaceNode"==i?g.parentNode:
g})}return s.C.Aa(function(a){s.Da(c,b,f,a,"replaceNode")})};s.Xb=function(c,b,d,h){return new s.m(function(){var i=s.a.g(b)||[];"undefined"==typeof i.length&&(i=[i]);i=s.a.na(i,function(a){return d.includeDestroyed||!a._destroy});s.a.hb(h,i,function(b){var i="function"==typeof c?c(b):c;return a(p,"ignoreTargetNode",i,b,d)},d)},p,{disposeWhenNodeIsRemoved:h})};s.d.template={update:function(a,b,d,h){b=s.a.g(b());d="string"==typeof b?b:b.name;if("undefined"!=typeof b.foreach)h=s.Xb(d,b.foreach||[],
{templateOptions:b.templateOptions,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,includeDestroyed:b.includeDestroyed,afterRender:b.afterRender},a);else var i=b.data,h=s.Da(d,"undefined"==typeof i?h:i,{templateOptions:b.templateOptions,afterRender:b.afterRender},a);(b=s.a.p.get(a,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof b.z&&b.z();s.a.p.set(a,"__ko__templateSubscriptionDomDataKey__",h)}}})();s.b("ko.setTemplateEngine",s.jb);s.b("ko.renderTemplate",s.Da);
s.a.V=function(a,d,c){if(c===j)return s.a.V(a,d,1)||s.a.V(a,d,10)||s.a.V(a,d,Number.MAX_VALUE);for(var a=a||[],d=d||[],b=a,f=d,h=[],i=0;i<=f.length;i++)h[i]=[];for(var i=0,g=Math.min(b.length,c);i<=g;i++)h[0][i]=i;i=1;for(g=Math.min(f.length,c);i<=g;i++)h[i][0]=i;for(var g=b.length,l,k=f.length,i=1;i<=g;i++){l=Math.max(1,i-c);for(var m=Math.min(k,i+c);l<=m;l++)h[l][i]=b[i-1]===f[l-1]?h[l-1][i-1]:Math.min(h[l-1][i]===j?Number.MAX_VALUE:h[l-1][i]+1,h[l][i-1]===j?Number.MAX_VALUE:h[l][i-1]+1)}c=a.length;
b=d.length;f=[];i=h[b][c];if(i===j)h=p;else{for(;0<c||0<b;){g=h[b][c];k=0<b?h[b-1][c]:i+1;m=0<c?h[b][c-1]:i+1;l=0<b&&0<c?h[b-1][c-1]:i+1;if(k===j||k<g-1)k=i+1;if(m===j||m<g-1)m=i+1;l<g-1&&(l=i+1);k<=m&&k<l?(f.push({status:"added",value:d[b-1]}),b--):(m<k&&m<l?f.push({status:"deleted",value:a[c-1]}):(f.push({status:"retained",value:a[c-1]}),b--),c--)}h=f.reverse()}return h};s.b("ko.utils.compareArrays",s.a.V);
(function(){function a(a,c,b){var f=[],a=s.m(function(){var a=c(b)||[];0<f.length&&s.a.gb(f,a);f.splice(0,f.length);s.a.U(f,a)},p,{disposeWhenNodeIsRemoved:a,disposeWhen:function(){return 0==f.length||!s.a.sa(f[0])}});return{Ob:f,m:a}}s.a.hb=function(d,c,b,f){for(var c=c||[],f=f||{},h=s.a.p.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===j,i=s.a.p.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],g=s.a.pa(i,function(a){return a.sb}),l=s.a.V(g,c),c=[],k=0,m=[],g=[],
r=p,o=0,x=l.length;o<x;o++)switch(l[o].status){case "retained":var t=i[k];c.push(t);0<t.ba.length&&(r=t.ba[t.ba.length-1]);k++;break;case "deleted":i[k].m.z();s.a.s(i[k].ba,function(a){m.push({element:a,index:o,value:l[o].value});r=a});k++;break;case "added":var u=a(d,b,l[o].value),t=u.Ob;c.push({sb:l[o].value,ba:t,m:u.m});for(var u=0,y=t.length;u<y;u++){var v=t[u];g.push({element:v,index:o,value:l[o].value});r==p?d.firstChild?d.insertBefore(v,d.firstChild):d.appendChild(v):r.nextSibling?d.insertBefore(v,
r.nextSibling):d.appendChild(v);r=v}}s.a.s(m,function(a){s.L(a.element)});b=q;if(!h){if(f.afterAdd)for(o=0;o<g.length;o++)f.afterAdd(g[o].element,g[o].index,g[o].value);if(f.beforeRemove){for(o=0;o<m.length;o++)f.beforeRemove(m[o].element,m[o].index,m[o].value);b=n}}b||s.a.s(m,function(a){a.element.parentNode&&a.element.parentNode.removeChild(a.element)});s.a.p.set(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult",c)}})();s.b("ko.utils.setDomNodeChildrenFromArrayMapping",s.a.hb);
s.ya=function(){this.Q="undefined"==typeof jQuery||!jQuery.tmpl?0:jQuery.tmpl.tag?jQuery.tmpl.tag.tmpl&&jQuery.tmpl.tag.tmpl.open&&0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")?3:2:1;this.getTemplateNode=function(a){var c=document.getElementById(a);c==p&&e(Error("Cannot find template with ID="+a));return c};var a=RegExp("__ko_apos__","g");this.renderTemplate=function(d,c,b){b=b||{};0==this.Q&&e(Error("jquery.tmpl not detected.\nTo use KO's default template engine, reference jQuery and jquery.tmpl. See Knockout installation documentation for more details."));
if(1==this.Q)return d='<script type="text/html">'+this.getTemplateNode(d).text+"<\/script>",c=jQuery.tmpl(d,c)[0].text.replace(a,"'"),jQuery.clean([c],document);if(!(d in jQuery.template)){var f=this.getTemplateNode(d).text;jQuery.template(d,f)}c=[c];c=jQuery.tmpl(d,c,b.templateOptions);c.appendTo(document.createElement("div"));jQuery.fragments={};return c};this.isTemplateRewritten=function(a){return a in jQuery.template?n:this.getTemplateNode(a).Mb===n};this.rewriteTemplate=function(a,c){var b=this.getTemplateNode(a),
f=c(b.text);1==this.Q&&(f=s.a.B(f),f=f.replace(/([\s\S]*?)(\${[\s\S]*?}|{{[\=a-z][\s\S]*?}}|$)/g,function(a,c,b){return c.replace(/\'/g,"__ko_apos__")+b}));b.text=f;b.Mb=n};this.createJavaScriptEvaluatorBlock=function(a){a=function(a){var b=/<\$[^>]*>/g;if(1<a.split(b).length){var d="",h=p;a.replace(b,function(a,c,b){h===p&&(h=b);c=h.split(a);d=d+c[0]+a.replace(/</,"<'+").replace(/>/,"+'>");c.shift();1===c.length?d+=c[0]:h=c.join(a)});return d}return a}(a);return 1==this.Q?"{{= "+a+"}}":"{{ko_code ((function() { return "+
a+" })()) }}"};this.qb=function(a,c){document.write("<script type='text/html' id='"+a+"'>"+c+"<\/script>")};s.w(this,"addTemplate",this.qb);1<this.Q&&(jQuery.tmpl.tag.ko_code={open:(3>this.Q?"_":"__")+".push($1 || '');"})};s.ya.prototype=new s.Ia;s.jb(new s.ya);s.b("ko.jqueryTmplTemplateEngine",s.ya);Utils={ac:1E3,Fa:0};Utils.Vb=function(a){Utils.Fa===Utils.ac?(Utils.Fa=0,setTimeout(a,0)):(Utils.Fa++,a())};
Utils.repeat=function(a,d,c,b,f){4===arguments.length&&(f={});a<d?(f.Na=a,c(function(c,f){Utils.Vb(function(){Utils.repeat(a+1,d,c,b,f)})},f)):b(f)};SemanticKnockOut={};window.sko=SemanticKnockOut;sko.pb=q;sko.log=function(a){sko.pb&&console.log(a)};
sko.$a={Qa:function(a,d,c){a["@context"]==p&&(a["@context"]={});if(a["@context"]["@coerce"]==p)a["@context"]["@coerce"]={},a["@context"]["@coerce"][c]=d;else if("string"===typeof a["@context"]["@coerce"][c]&&a["@context"]["@coerce"][c]!=d)a["@context"]["@coerce"][c]=[a["@context"]["@coerce"][c],d];else if("object"===typeof a["@context"]["@coerce"][c]){for(var b=0;b<a["@context"]["@coerce"][c].length;b++)if(a["@context"]["@coerce"][c][b]===d)return a;a["@context"]["@coerce"][c].push(d)}else a["@context"]["@coerce"][c]=
d;return a},hc:function(a,d){var c={};a.forEach(function(a){var b=a.$.valueOf(),f=c[b];f==p&&(f={"@subject":b,"@context":{}},c[b]=f);var l=a.f.valueOf();"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===l&&(l="@type");var b=p,k=q,b=d.Ca.oc(l);b!=l&&(k=n);-1!=b.indexOf("#")?b=b.split("#")[1]:(b=b.split("/"),b=b[b.length-1]);l=a.object.valueOf();f[b]!=p?k?(a=b.split(":")[0],"object"===typeof f[b]?f[b].push(l):(l=[f[b],l],f[b]=l)):f["@context"][b]!=p||"@"===b[0]?"object"===typeof f[b]?f[b].push(l):
(l=[f[b],l],f[b]=l):(b=a.f.valueOf(),f[b]==p?f[b]=l:"object"===typeof f[b]?f[b].push(l):(l=[f[b],l],f[b]=l),"string"===typeof l&&(0==l.indexOf("http://")||0==l.indexOf("https://"))&&sko.$a.Qa(f,b,"@iri")):(f[b]=l,"@"!=b[0]&&(k==n?(a=b.split(":")[0],f["@context"][a]=d.Ca[a]):f["@context"][b]=a.f.valueOf(),"string"===typeof l&&(0==l.indexOf("http://")||0==l.indexOf("https://"))&&sko.$a.Qa(f,b,"@iri")))});var b=[],f;for(f in c)b.push(c[f]);return b}};sko.l={};sko.l.La=function(){};sko.l.Z={};
sko.l.gc=function(a,d){sko.l.Z[sko.n(a.replace(/\s*/g,""))]=d};sko.l.Jb=function(a,d){var c=sko.n(a),b=d||{};sko.l.La.prototype=sko.l.Z[c];c=new sko.l.La;b.Ta=p;for(var f in c)b[f]==p&&(b[f]=c[f]);b.Ta&&b.Ta()};sko.l.Pa=function(a,d){var c=d||q,b;for(b in sko.l.Z)if(sko.log("*** IS INSTANCE OF? "+b),sko.l.xa(a,b))sko.log("Y!"),(c||a.I[b]==p)&&sko.l.Jb(b,a),a.I[b]=n;else if(sko.log("N!"),a.I[b]!=p){delete a.I[b];for(var f in sko.l.Z[b])delete a[f]}};
sko.l.xa=function(a,d){if(0===d.indexOf("ObjectIntersectionOf(")){for(var c=d.slice(0,d.length-1).split("ObjectIntersectionOf(")[1].split(","),b=0;b<c.length;b++)if(sko.log("INTERSECTION CHECKING "+c[b]),!sko.l.xa(a,c[b]))return q;return n}if(0===d.indexOf("ObjectUnionOf(")){c=d.slice(0,d.length-1).split("ObjectUnionOf(")[1].split(",");for(b=0;b<c.length;b++)if(sko.l.xa(a,c[b]))return n;return q}if(0===d.indexOf("ObjectSomeValuesFrom(")){c=d.slice(0,d.length-1).split("ObjectSomeValuesFrom(")[1];sko.log("CHECKIN CLASS URI: "+
sko.n(c));for(b in a.h)sko.log(" - "+b+" ---\> "+a.h[sko.n(c)]);return a.h[sko.n(c)]!=p}sko.log("CHECKIN CLASS URI: "+sko.n(d));sko.log(a);for(b in a.I)sko.log(" - "+b+" ---\> "+a.I[b]);return a.I[sko.n(d)]===n};sko.jc=function(){sko.i={};sko.T={};sko.l.Z={};sko.S=0;sko.ua=0;sko.ca={};var a=p;2===arguments.length?(sko.j=arguments[0],a=arguments[1],sko.Y=sko.j.Y,a(n)):(a=arguments[0],rdfstore.create(function(d){sko.j=d;sko.j.lc();sko.Y=sko.j.Y;a(n)}))};sko.mc=function(a,d){sko.j.kc(a,d)};sko.Ma=0;
sko.A=function(){var a="_:sko_"+sko.Ma;sko.Ma++;return a};sko.i={};sko.T={};sko.S=0;
sko.c=function(a,d,c){if(sko.c[a]!=p)c(a);else{var b=""+sko.S;sko.S++;a==p&&(a=sko.A());if("string"===typeof a){var f=a;sko.j.O(sko.k(f),function(a,d){if(a){sko.log("FOUND RESOURCE: "+f);sko.log(d);sko.log(" FOR "+sko.k(f));sko.log(" ------------\> "+b+" : "+f);sko.i[b]=new sko.H(b,f,d);sko.c[b]=s.q(f);var g=sko.c[b].G(function(a){sko.log("*** OBSERVING NODE ABOT ID:"+b+" new value -> "+a);a==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.A());sko.j.O(sko.k(a),function(c,d){if(c){var f=
d.v()[0].$.valueOf();sko.log(" ------------\> "+b+" : "+f+" 2");sko.i[b].c(f)}else sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : "+a+" 3"),sko.i[b].c(a)})});sko.T[b]=g}c(b)})}else sko.c[b]=s.m({cb:function(){var c=a();sko.log("*** OBSERVABLE READING DEPENDING NODE ABOT ID:"+b+" new value -> "+c);c==p&&(sko.log(" ** URI IS BLANK -> GEN BLANK LABEL"),c=sko.A());return c},write:function(c){sko.log("*** OBSERVABLE WRITING DEPENDING NODE ABOT ID:"+b+" new value -> "+c);c==p&&(sko.log(" ** URI IS BLANK -> GEN BLANK LABEL"),
c=sko.A());a(c)},ab:d}),sko.j.O(sko.k(sko.c[b]()),function(a,d){if(a){sko.log(" ------------\> "+b+" : "+d+" 4");sko.i[b]=new sko.H(b,sko.c[b](),d);var f=sko.c[b].G(function(a){sko.log("*** OBSERVING NODE ABOT ID:"+b+" new value -> "+a);a!=p?sko.j.O(sko.k(a),function(c,d){if(c)if(0<d.v().length){var f=d.v()[0].$.e();sko.log(" ------------\> "+b+" : "+f+" 5");sko.i[b].c(f)}else sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : "+a+" 6"),sko.i[b].c(a);else sko.log("Error updating 3 resource for URI:"+
a+" in SKO about node observer"),sko.log("*** NO RESOURCE FOR URI:"+a+" NEXT ID:"+b),sko.log(" ------------\> "+b+" : "+a+" 7"),sko.i[b].c(a)}):(sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : NEW BLANK  8"),sko.i[b].c(sko.A()))});sko.T[b]=f}c(b)})}};
sko.rel=function(a,d,c,b){var f=""+sko.S,h=p;sko.S++;if("string"===typeof a){var i=sko.n(a),h=i;sko.c[f]=s.m({cb:function(){sko.log("*** OBSERVABLE READING RELATED  DEPENDING NODE ABOT ID:"+f);var a=sko.M(jQuery(d).parent().v()[0]);sko.log(a);if(a!=p){sko.log(" ** about:"+a.c());sko.log("*** Found parent resource: "+a.c());if(a[i]){var b=a[i]();if(b!=p&&!sko.Ya(a[i]()))return b=sko.n(b),sko.i[f]==p||sko.i[f].c()!=b?(sko.log("*** found related resource: "+b),sko.j.O(sko.k(b),function(a,c){sko.log("CREATED NODE FOR ID "+
f+" AND URI: "+sko.k(b));sko.log(c);sko.log(" ------------\> "+f+" : "+b+" 8b");sko.i[f]=new sko.H(f,b,c)})):sko.log("*** Related resource hasn't changed"),b;if(b==p){sko.log("*** related resource is null");sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL");var c=sko.A();sko.log(" ** setting parent node related resource to "+c);a[i](c)}else sko.i[f]?(sko.log("*** setting new value for related resource "+c),sko.log(" ------------\> "+f+" : "+c+" 9"),sko.i[f].c(c)):sko.log("!! Should I create the new blank node?");
return c}sko.log("!!! parent resource doest not link to the related resource")}else sko.log("!!! impossible to find parent resource")},write:function(a){a==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.A());a=sko.n(a);sko.log("*** OBSERVABLE WRITING RELATED DEPENDING NODE ABOT ID:"+f+" URI -> "+a);var b=sko.M(jQuery(d).parent().v()[0]);b!=p?(sko.log("*** Found parent resource: "+b.c()),b[h]?(sko.log("*** Setting new related resource in parent resource found: "+a),b[h](a)):sko.log("!!! parent resource doest not link to the related resource")):
sko.log("!!! impossible to find parent resource")},ab:c});c=sko.c[f].G(function(a){sko.log("*** OBSERVING RELATED NODE ABOT ID:"+f+" new value -> "+a);a==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.A());a=sko.n(a);sko.c[f]()!=p?sko.k(a)!==sko.k(sko.c[f]())&&sko.j.O(sko.k(a),function(b,c){b?(c.v(),sko.log(" ------------\> "+f+" : "+i+" 10"),sko.i[f].c(i)):sko.log("Error updating 1 resource for URI:"+a+" in SKO about related node observer")}):sko.log("!! this resource is now null, should be removed from list of resources?")})}else sko.c[f]=
s.m({cb:function(){var b=a(),b=sko.n(b);sko.log("*** OBSERVABLE READING RELATED DEPENDING NODE ABOT ID:"+f+" URI -> "+b);b==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),b=sko.A());var c=sko.M(jQuery(d).parent().v()[0]);if(c!=p){sko.log("*** Found parent resource: "+c.c());if(c[b]){var h=c[b]();sko.log("*** found related resource: "+h);sko.j.O(sko.k(h),function(a,b){sko.log(" ------------\> "+f+" : "+h+" 11");sko.i[f]=new sko.H(f,h,b)});return h}sko.log("!!! parent resource doest not link to the related resource")}else sko.log("!!! impossible to find parent resource")},
write:function(b){var b=sko.n(b),c=sko.M(jQuery(d).parent().v()[0]);sko.log("*** OBSERVABLE WRITING RELATED DEPENDING NODE ABOT ID:"+f+" URI -> "+b);b==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),b=sko.A());c!=p?(sko.log("*** Found parent resource: "+c.c()),c[a()]?(sko.log("*** Setting new related resource in parent resource found: "+b),c[a()](b),a(b)):sko.log("!!! parent resource doest not link to the related resource")):sko.log("!!! impossible to find parent resource")},ab:c}),c=sko.c[f].G(function(a){a=
sko.n(a);sko.log("*** OBSERVING RELATED NODE (F) ABOT ID:"+f+" new value -> "+a);a==p&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.A());sko.k(a)!=sko.k(sko.c[f]())?sko.j.O(sko.k(a),function(b,c){if(b){var d=c.v()[0].$.valueOf();sko.log(" ------------\> "+f+" : "+d+" 12");sko.i[f].c(d)}else sko.log("Error updating  2 resource for URI:"+a+" in SKO about related node observer")}):sko.log("*** Related about resource hasn't changed")});sko.T[f]=c;b(f)};
sko.k=function(a){if("<"===a[0]&&">"==a[a.length-1])return a.slice(1,a.length-1);return a.match(/\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]/)!=p?(a=a.slice(1,a.length-1),resolved=sko.Y.Ca.Yb(a),resolved==p&&e("The CURIE "+a+" cannot be resolved"),resolved):a};
sko.Sa=function(a){if(a==p)return p;if(a.da&&"Literal"===a.da){if("http://www.w3.org/2001/XMLSchema#integer"==a.u||"http://www.w3.org/2001/XMLSchema#decimal"==a.u||"http://www.w3.org/2001/XMLSchema#double"==a.u||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==a.u||"http://www.w3.org/2001/XMLSchema#negativeInteger"==a.u||"http://www.w3.org/2001/XMLSchema#long"==a.u||"http://www.w3.org/2001/XMLSchema#int"==a.u||"http://www.w3.org/2001/XMLSchema#short"==a.u||"http://www.w3.org/2001/XMLSchema#byte"==
a.u||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==a.u||"http://www.w3.org/2001/XMLSchema#unsignedLong"==a.u||"http://www.w3.org/2001/XMLSchema#unsignedInt"==a.u||"http://www.w3.org/2001/XMLSchema#unsignedShort"==a.u||"http://www.w3.org/2001/XMLSchema#unsignedByte"==a.u||"http://www.w3.org/2001/XMLSchema#positiveInteger"==a.u)return parseFloat(a.valueOf());if("http://www.w3.org/2001/XMLSchema#boolean"===a.type)return"true"===a.valueOf()||a.valueOf()===n||"True"===a.valueOf();if("http://www.w3.org/2001/XMLSchema#string"===
a.type)return a.valueOf();if("http://www.w3.org/2001/XMLSchema#dateTime"===a.type)return new Date(a.valueOf());if(a.type==p)return a.valueOf()}else return a.valueOf()};sko.P=s.q(p);
sko.H=function(a,d,c){this.Ea=a;this.h={};this.ha=[];this.F={};this.I={};var b=this;this.P=s.m(function(){return sko.P()});d=sko.n(d);c.forEach(function(a){sko.log(a);"<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"===a.f.e()&&(sko.log(" found resource class "+a.object.e()),b.I[a.object.e()]=n);if("NamedNode"===a.object.da)b.h[a.f.e()]=a.object.e(),b[a.f.e()]=s.q(a.object.e());else if("Literal"===a.object.da)if(b.P()!=p){if(b.h[a.f.e()]==p||a.object.language==b.P()){var c=sko.Sa(a.object.valueOf());
b.h[a.f.e()]=c;b[a.f.e()]=s.q(c);b[sko.k(a.f.e())]=b[a.f.e()];b.F[a.f.e()]=a.object.language}}else{if(b.h[a.f.e()]==p||a.object.language==p)c=sko.Sa(a.object.valueOf()),b.h[a.f.e()]=c,b[a.f.e()]=s.q(c),b[sko.k(a.f.e())]=b[a.f.e()],b.F[a.f.e()]=a.object.language}else b.h[a.f.e()]=a.object.valueOf(),b[a.f.e()]=s.q(a.object.valueOf()),b[sko.k(a.f.e())]=b[a.f.e()]});this.c=s.q(d);this["@"]=this.c;this.ga=sko.H.dc(this);sko.l.Pa(this,n);b=this;this.ha.push(this.c.G(function(a){sko.log("SKO Resource new resource:"+
a);sko.log("*** STOP OBSERVING NODE STORE");sko.j.cc(b.ga);if(a!=p&&0!=a.indexOf("_:sko"))sko.log("*** START OBSERVING NODE STORE FOR "+b.c()),sko.j.bc(sko.k(a),b.ga);else{sko.log("*** nullifying resources");for(var c in b.h)b.h[c]=p;for(c in b.h)b[c](p)}}));sko.H.Nb(this);sko.j.bc(sko.k(this.c()),b.ga)};sko.n=function(a){"["===a[0]&&"]"===a[a.length-1]&&(a=a.slice(1,a.length-1),resolved=sko.Y.Ca.Yb(a),a==p&&e("The CURIE "+a+" cannot be resolved"),a="<"+resolved+">");return a};
function B(a,d,c){sko.log("*** received KO notification for property "+d+" -> "+c);if(a.h[d]==p)a.h[d]=c,0===a.c().indexOf("_:sko")||c!=p&&(0===c.indexOf("http")?sko.j.execute("INSERT DATA { "+a.c()+" "+d+" <"+c+"> }",function(){}):0===c.indexOf("<")?sko.j.execute("INSERT DATA { "+a.c()+" "+d+" "+c+" }",function(){}):sko.j.execute("INSERT DATA { "+a.c()+" "+d+' "'+c+'" }',function(){}));else if(a.h[d]!==c&&!sko.Ya(c)){var b='"'+a.h[d]+'"',c='"'+c+'"';a.F[d]!=p&&(b=b+"@"+a.F[d],c=c+"@"+a.F[d]);var f=
"DELETE { "+a.c()+" "+d+" "+b+" }",f=f+" INSERT { "+a.c()+" "+d+" "+c+" }",f=f+" WHERE { "+a.c()+" "+d+" "+b+" }",f=f.replace(/"</g,"<").replace(/>"/g,">");a.h[d]=c;sko.log("*** updating STORE: \n  "+f);sko.j.execute(f)}}sko.Ya=function(a){return 0===a.indexOf("_:sko")};
sko.L=function(a){sko.log("*** CLEANING!");sko.log(a);var d=jQuery(a).o("aboutId"),c=[];d!=p&&c.push(d);c=c.concat(sko.xb(a));for(a=0;a<c.length;a++)if(sko.i[c[a]]!=p){sko.log("*** DISCONNECTING "+c[a]);sko.log(sko.i[c[a]]);d=sko.i[c[a]];sko.log(" ** DISCONNECTING");sko.j.cc(d.ga);sko.log(" ** disconnected STORE");for(var b=0;b<d.ha.length;b++)sko.log(" ** disconnecting subscription"),d.ha[b].z();sko.log(" ** disconnecting resource map");sko.T[d.Ea].z();sko.log(" ** deleting");delete sko.i[d.Ea];
delete sko.c[d.Ea]}};sko.H.Nb=function(a){function d(a,c){sko.log("*** subcribing to property "+c);var d=a[c].G(function(d){B(a,c,d)});a.ha.push(d)}for(var c in a.h)d(a,c)};
sko.H.dc=function(a){return function(d){sko.log("*** received notification change from STORE in resource "+a.c());if(0!==a.c().indexOf("_:sko")){var c={},b={};sko.log("*** triples in STORE resource -> "+d.v().length);d.forEach(function(d){if("NamedNode"===d.object.da)sko.log(" "+d.f.e()+" -> "+d.object.e()),c[d.f.e()]=d.object.e();else if(a.P()!=p){if(c[d.f.e()]==p||d.object.language==a.P())sko.log(" "+d.f.e()+" -> "+d.object.valueOf()),c[d.f.e()]=d.object.valueOf(),b[d.f.e()]=d.object.language}else if(c[d.f.e()]==
p||d.object.language==p)sko.log(" "+d.f.e()+" -> "+d.object.valueOf()),c[d.f.e()]=d.object.valueOf(),b[d.f.e()]=d.object.language});var f={},d=[],h=[],i=[],g;for(g in a.h)if(c[g]!=p){if(f[g]=c[g],a.h[g]!==c[g]&&(h.push(g),b[g]!=p||a.F[g]!=p))a.F[g]=b[g]}else d.push(g),delete a.F[g];for(g in c)a.h[g]==p&&(i.push(g),f[g]=c[g],a.F[g]=b[g]);a.h=f;for(g=0;g<d.length;g++)sko.log("*** setting value to null "+d[g]+" -> NULL"),a[d[g]](p);for(g=0;g<h.length;g++)sko.log("*** updating value "+h[g]+" -> "+a.h[h[g]]),
a[h[g]](a.h[h[g]]);for(g=0;g<i.length;g++)sko.log("*** new value "+i[g]+" -> "+a.h[i[g]]),a[i[g]]=s.q(a.h[i[g]]),a[sko.k(i[g])]=a[i[g]];sko.l.Pa(a);sko.log("*** END MODIFICATION")}}};
sko.Ka=function(a,d,c){function b(a,c){node=f[c.Na];var g=jQuery(node).o("about");jQuery(node).o("aboutId")==p?(g==p&&(dataBind=jQuery(node).o("data-bind"),dataBind!=p&&-1!=dataBind.indexOf("about:")&&(g=/s*([^ ]+)s*,?/.exec(dataBind.split("about:")[1])[0],","===g[g.length-1]&&(g=g.slice(0,g.length-1)))),g!=p&&""!=g?("string"===typeof g&&"<"!==g[0]&&">"!==g[g.length-1]&&"["!==g[0]&&"]"!==g[g.length-1]&&(g=d[g]),sko.c(g,d,function(d){jQuery(node).o("aboutId",d);a(b,c)})):a(b,c)):a(b,c)}sko.log("** TRACING:");
sko.log(a);var f=[];(jQuery(a).o("about")||jQuery(a).o("data-bind"))&&f.push(a);a=jQuery(a).find("*[about], *[data-bind]").v();f=f.concat(a);Utils.repeat(0,f.length,b,function(){c()})};
sko.M=function(a){sko.log("in current resource");sko.log(a);if(a==p)return sko.log("!!! top of DOM tree, About node not found"),p;var d=jQuery(a).o("aboutId");sko.log("about id:"+d);if(d){a=sko.c[d]();sko.log("uri:"+a);if(a!=p)return sko.i[d];sko.log("!!! current resource is null: "+d)}else return sko.log("recurring"),sko.M(jQuery(a).parent().v()[0])};
sko.Ra=function(a){sko.log("in current resource node");sko.log(a);if(a==p)return sko.log("!!! top of DOM tree, About node not found"),p;var d=jQuery(a).o("aboutId");sko.log("about id:"+d);if(d){var c=sko.c[d]();sko.log("uri:"+c);if(c!=p)return a;sko.log("!!! current resource is null: "+d);return p}sko.log("recurring");return sko.Ra(jQuery(a).parent().v()[0])};sko.xb=function(a){return jQuery(a).find("*[aboutId]").map(function(){return jQuery(this).o("aboutId")})};
sko.Ja=function(a,d,c){function b(a,c){node=f[c.Na];var g=jQuery(node).o("rel");g==p&&(dataBind=jQuery(node).o("data-bind"),dataBind!=p&&-1!=dataBind.indexOf("rel:")&&(g=/s*([^ ]+)s*,?/.exec(dataBind.split("rel:")[1])[0],","===g[g.length-1]&&(g=g.slice(0,g.length-1))));g!=p&&""!=g?("string"===typeof g&&"<"!==g[0]&&">"!==g[g.length-1]&&"["!==g[0]&&"]"!==g[g.length-1]&&(g=d[g]),jQuery(node).o("aboutId")==p?(sko.log("*** CREATING RELATED NODE"),sko.rel(g,node,d,function(d){jQuery(node).o("aboutId",d);
a(b,c)})):(sko.log("*** NODE IS ALREADY TRACED"),a(b,c))):a(b,c)}sko.log("*** TRACING RELATIONS:");a=sko.Ra(a)||a;sko.log("*** FOUND ROOT NODE TO LOOK FOR RELATIONS:");sko.log(a);var f=[];(jQuery(a).o("rel")||jQuery(a).o("data-bind"))&&f.push(a);a=jQuery(a).find("*[rel], *[data-bind]").v();f=f.concat(a);sko.log(" ** NODES TO LOOK FOR RELATED RESOURCES");sko.log(f);Utils.repeat(0,f.length,b,function(){c()})};sko.ua=0;sko.ca={};
sko.rc=function(a){var a="select ?subject where "+a,d=""+sko.ua;sko.ua++;sko.ca[d]=s.q([]);sko.log("*** WHERE QUERY: "+a);sko.j.pc(a,function(a){var b=[];sko.log(" ** RESULTS!!!");for(var f=0;f<a.length;f++)sko.log(" ** ADDING VALUE "+a[f].$.value),b.push("<"+a[f].$.value+">");sko.log("** SETTING VALUE");sko.log(b);sko.ca[d](b)});return sko.ca[d]};sko.la=function(a,d,c){"string"===typeof a&&(a=jQuery(a)[0]);sko.Ka(a,d,function(){sko.Ja(a,d,function(){s.la(d,a);c!=p&&c()})})};
sko.nc=function(a){a=jQuery(a).v();if(1===a.length)return sko.M(a[0]);for(var d=[],c=0;c<a.length;c++)d.push(sko.M(a[c]));return d};sko.ic={};
})(window);
