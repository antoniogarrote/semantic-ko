// Knockout JavaScript library v1.2.1
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function(window,undefined){
function d(a){throw a;}var j=void 0,o=null,p=window.ko={};p.b=function(a,f){for(var c=a.split("."),b=window,e=0;e<c.length-1;e++)b=b[c[e]];b[c[c.length-1]]=f};p.u=function(a,f,c){a[f]=c};
p.a=new function(){function a(a,b){if(a.tagName!="INPUT"||!a.type)return!1;if(b.toLowerCase()!="click")return!1;var e=a.type.toLowerCase();return e=="checkbox"||e=="radio"}var f=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,c=/MSIE 6/i.test(navigator.userAgent),b=/MSIE 7/i.test(navigator.userAgent),e={},i={};e[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];e.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");
for(var h in e){var g=e[h];if(g.length)for(var m=0,k=g.length;m<k;m++)i[g[m]]=h}return{Ja:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],p:function(a,b){for(var e=0,c=a.length;e<c;e++)b(a[e])},q:function(a,b){if(typeof a.indexOf=="function")return a.indexOf(b);for(var e=0,c=a.length;e<c;e++)if(a[e]===b)return e;return-1},jb:function(a,b,e){for(var c=0,f=a.length;c<f;c++)if(b.call(e,a[c]))return a[c];return o},na:function(a,b){var e=p.a.q(a,b);e>=0&&a.splice(e,1)},la:function(a){for(var a=
a||[],b=[],e=0,c=a.length;e<c;e++)p.a.q(b,a[e])<0&&b.push(a[e]);return b},ma:function(a,b){for(var a=a||[],e=[],c=0,f=a.length;c<f;c++)e.push(b(a[c]));return e},ka:function(a,b){for(var a=a||[],e=[],c=0,f=a.length;c<f;c++)b(a[c])&&e.push(a[c]);return e},S:function(a,b){for(var e=0,c=b.length;e<c;e++)a.push(b[e])},qa:function(a){for(;a.firstChild;)p.removeNode(a.firstChild)},Pb:function(a,b){p.a.qa(a);b&&p.a.p(b,function(b){a.appendChild(b)})},Ua:function(a,b){var e=a.nodeType?[a]:a;if(e.length>0){for(var c=
e[0],f=c.parentNode,g=0,i=b.length;g<i;g++)f.insertBefore(b[g],c);g=0;for(i=e.length;g<i;g++)p.removeNode(e[g])}},Wa:function(a,b){navigator.userAgent.indexOf("MSIE 6")>=0?a.setAttribute("selected",b):a.selected=b},Ka:function(a,b){if(!a||a.nodeType!=1)return[];var e=[];a.getAttribute(b)!==o&&e.push(a);for(var c=a.getElementsByTagName("*"),f=0,g=c.length;f<g;f++)c[f].getAttribute(b)!==o&&e.push(c[f]);return e},z:function(a){return(a||"").replace(f,"")},$b:function(a,b){for(var e=[],c=(a||"").split(b),
f=0,g=c.length;f<g;f++){var i=p.a.z(c[f]);i!==""&&e.push(i)}return e},Vb:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},ub:function(a,b,e){if(b===j)return(new Function("return "+a))();b.skonode=e;return(new Function("__SKO__sc","with(__SKO__sc){ return ("+a+") }"))(b)},sb:function(a,b){if(b.compareDocumentPosition)return(b.compareDocumentPosition(a)&16)==16;for(;a!=o;){if(a==b)return!0;a=a.parentNode}return!1},pa:function(a){return p.a.sb(a,document)},P:function(b,
e,c){if(typeof jQuery!="undefined"){if(a(b,e))var f=c,c=function(a,b){var e=this.checked;if(b)this.checked=b.mb!==!0;f.call(this,a);this.checked=e};jQuery(b).bind(e,c)}else typeof b.addEventListener=="function"?b.addEventListener(e,c,!1):typeof b.attachEvent!="undefined"?b.attachEvent("on"+e,function(a){c.call(b,a)}):d(Error("Browser doesn't support addEventListener or attachEvent"))},bb:function(b,e){(!b||!b.nodeType)&&d(Error("element must be a DOM node when calling triggerEvent"));if(typeof jQuery!=
"undefined"){var c=[];a(b,e)&&c.push({mb:b.checked});jQuery(b).trigger(e,c)}else if(typeof document.createEvent=="function")typeof b.dispatchEvent=="function"?(c=document.createEvent(i[e]||"HTMLEvents"),c.initEvent(e,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(c)):d(Error("The supplied element doesn't support dispatchEvent"));else if(typeof b.fireEvent!="undefined"){if(e=="click"&&b.tagName=="INPUT"&&(b.type.toLowerCase()=="checkbox"||b.type.toLowerCase()=="radio"))b.checked=b.checked!==
!0;b.fireEvent("on"+e)}else d(Error("Browser doesn't support triggering events"))},f:function(a){return p.aa(a)?a():a},rb:function(a,b){return p.a.q((a.className||"").split(/\s+/),b)>=0},Za:function(a,b,e){var c=p.a.rb(a,b);if(e&&!c)a.className=(a.className||"")+" "+b;else if(c&&!e){for(var e=(a.className||"").split(/\s+/),c="",f=0;f<e.length;f++)e[f]!=b&&(c+=e[f]+" ");a.className=p.a.z(c)}},Kb:function(a,b){for(var a=p.a.f(a),b=p.a.f(b),e=[],c=a;c<=b;c++)e.push(c);return e},va:function(a){for(var b=
[],e=0,c=a.length;e<c;e++)b.push(a[e]);return b},ta:c,Ab:b,La:function(a,b){for(var e=p.a.va(a.getElementsByTagName("INPUT")).concat(p.a.va(a.getElementsByTagName("TEXTAREA"))),c=typeof b=="string"?function(a){return a.name===b}:function(a){return b.test(a.name)},f=[],g=e.length-1;g>=0;g--)c(e[g])&&f.push(e[g]);return f},V:function(a){return typeof a=="string"&&(a=p.a.z(a))?window.JSON&&window.JSON.parse?window.JSON.parse(a):(new Function("return "+a))():o},Ba:function(a){(typeof JSON=="undefined"||
typeof JSON.stringify=="undefined")&&d(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(p.a.f(a))},Ib:function(a,b,e){var e=e||{},c=e.params||{},f=e.includeFields||this.Ja,g=a;if(typeof a=="object"&&a.tagName=="FORM")for(var g=a.action,i=f.length-1;i>=0;i--)for(var h=p.a.La(a,f[i]),m=h.length-1;m>=0;m--)c[h[m].name]=
h[m].value;var b=p.a.f(b),k=document.createElement("FORM");k.style.display="none";k.action=g;k.method="post";for(var u in b)a=document.createElement("INPUT"),a.name=u,a.value=p.a.Ba(p.a.f(b[u])),k.appendChild(a);for(u in c)a=document.createElement("INPUT"),a.name=u,a.value=c[u],k.appendChild(a);document.body.appendChild(k);e.submitter?e.submitter(k):k.submit();setTimeout(function(){k.parentNode.removeChild(k)},0)}}};p.b("ko.utils",p.a);p.b("ko.utils.arrayForEach",p.a.p);
p.b("ko.utils.arrayFirst",p.a.jb);p.b("ko.utils.arrayFilter",p.a.ka);p.b("ko.utils.arrayGetDistinctValues",p.a.la);p.b("ko.utils.arrayIndexOf",p.a.q);p.b("ko.utils.arrayMap",p.a.ma);p.b("ko.utils.arrayPushAll",p.a.S);p.b("ko.utils.arrayRemoveItem",p.a.na);p.b("ko.utils.fieldsIncludedWithJsonPost",p.a.Ja);p.b("ko.utils.getElementsHavingAttribute",p.a.Ka);p.b("ko.utils.getFormFields",p.a.La);p.b("ko.utils.postJson",p.a.Ib);p.b("ko.utils.parseJson",p.a.V);p.b("ko.utils.registerEventHandler",p.a.P);
p.b("ko.utils.stringifyJson",p.a.Ba);p.b("ko.utils.range",p.a.Kb);p.b("ko.utils.toggleDomNodeCssClass",p.a.Za);p.b("ko.utils.triggerEvent",p.a.bb);p.b("ko.utils.unwrapObservable",p.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var f=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return f.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});
p.a.m=new function(){var a=0,f="__ko__"+(new Date).getTime(),c={};return{get:function(a,e){var c=p.a.m.getAll(a,!1);return c===j?j:c[e]},set:function(a,e,c){c===j&&p.a.m.getAll(a,!1)===j||(p.a.m.getAll(a,!0)[e]=c)},getAll:function(b,e){var i=b[f];if(!i){if(!e)return;i=b[f]="ko"+a++;c[i]={}}return c[i]},clear:function(a){var e=a[f];e&&(delete c[e],a[f]=o)}}};
p.a.K=new function(){function a(a,e){var f=p.a.m.get(a,c);f===j&&e&&(f=[],p.a.m.set(a,c,f));return f}function f(b){sko.J(b);var e=a(b,!1);if(e)for(var e=e.slice(0),c=0;c<e.length;c++)e[c](b);p.a.m.clear(b);typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([b])}var c="__ko_domNodeDisposal__"+(new Date).getTime();return{Ga:function(b,e){typeof e!="function"&&d(Error("Callback must be a function"));a(b,!0).push(e)},Ta:function(b,e){var f=a(b,!1);f&&(p.a.na(f,e),f.length==
0&&p.a.m.set(b,c,j))},J:function(a){if(!(a.nodeType!=1&&a.nodeType!=9)){f(a);var e=[];p.a.S(e,a.getElementsByTagName("*"));for(var a=0,c=e.length;a<c;a++)f(e[a])}},removeNode:function(a){p.J(a);a.parentNode&&a.parentNode.removeChild(a)}}};p.J=p.a.K.J;p.removeNode=p.a.K.removeNode;p.b("ko.cleanNode",p.J);p.b("ko.removeNode",p.removeNode);p.b("ko.utils.domNodeDisposal",p.a.K);p.b("ko.utils.domNodeDisposal.addDisposeCallback",p.a.K.Ga);p.b("ko.utils.domNodeDisposal.removeDisposeCallback",p.a.K.Ta);
p.a.Hb=function(a){if(typeof jQuery!="undefined")a=jQuery.clean([a]);else{var f=p.a.z(a).toLowerCase(),c=document.createElement("div"),f=f.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];for(c.innerHTML=f[1]+a+f[2];f[0]--;)c=c.lastChild;a=p.a.va(c.childNodes)}return a};
p.a.Qb=function(a,f){p.a.qa(a);if(f!==o&&f!==j)if(typeof f!="string"&&(f=f.toString()),typeof jQuery!="undefined")jQuery(a).html(f);else for(var c=p.a.Hb(f),b=0;b<c.length;b++)a.appendChild(c[b])};
p.A=function(){function a(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function f(a,e){if(a)if(a.nodeType==8){var c=p.A.Qa(a.nodeValue);c!=o&&e.push({qb:a,Eb:c})}else if(a.nodeType==1)for(var c=0,h=a.childNodes,g=h.length;c<g;c++)f(h[c],e)}var c={};return{wa:function(b){typeof b!="function"&&d(Error("You can only pass a function to ko.memoization.memoize()"));var e=a()+a();c[e]=b;return"<\!--[ko_memo:"+e+"]--\>"},cb:function(a,e){var f=c[a];f===j&&d(Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized."));try{return f.apply(o,e||[]),!0}finally{delete c[a]}},eb:function(a,e){var c=[];f(a,c);for(var h=0,g=c.length;h<g;h++){var m=c[h].qb,k=[m];e&&p.a.S(k,e);p.A.cb(c[h].Eb,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Qa:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:o}}}();p.b("ko.memoization",p.A);p.b("ko.memoization.memoize",p.A.wa);p.b("ko.memoization.unmemoize",p.A.cb);p.b("ko.memoization.parseMemoText",p.A.Qa);
p.b("ko.memoization.unmemoizeDomNodeAndDescendants",p.A.eb);p.Wb=function(a,f){this.lb=a;this.v=function(){this.zb=!0;f()}.bind(this);p.u(this,"dispose",this.v)};p.Ca=function(){var a=[];this.D=function(f,c){var b=c?f.bind(c):f,e=new p.Wb(b,function(){p.a.na(a,e)});a.push(e);return e};this.U=function(f){p.a.p(a.slice(0),function(a){a&&a.zb!==!0&&a.lb(f)})};this.wb=function(){return a.length};p.u(this,"subscribe",this.D);p.u(this,"notifySubscribers",this.U);p.u(this,"getSubscriptionsCount",this.wb)};
p.Oa=function(a){return typeof a.D=="function"&&typeof a.U=="function"};p.b("ko.subscribable",p.Ca);p.b("ko.isSubscribable",p.Oa);p.X=function(){var a=[];return{kb:function(){a.push([])},end:function(){return a.pop()},Sa:function(f){p.Oa(f)||d("Only subscribable things can act as dependencies");a.length>0&&a[a.length-1].push(f)}}}();var x={undefined:!0,"boolean":!0,number:!0,string:!0};function y(a,f){return a===o||typeof a in x?a===f:!1}
p.n=function(a){function f(){if(arguments.length>0){if(!f.equalityComparer||!f.equalityComparer(c,arguments[0]))c=arguments[0],f.U(c);return this}else return p.X.Sa(f),c}var c=a;f.I=p.n;f.ga=function(){f.U(c)};f.equalityComparer=y;p.Ca.call(f);p.u(f,"valueHasMutated",f.ga);return f};p.aa=function(a){return a===o||a===j||a.I===j?!1:a.I===p.n?!0:p.aa(a.I)};p.ba=function(a){return typeof a=="function"&&a.I===p.n?!0:typeof a=="function"&&a.I===p.l&&a.xb?!0:!1};p.b("ko.observable",p.n);
p.b("ko.isObservable",p.aa);p.b("ko.isWriteableObservable",p.ba);
p.Gb=function(a){arguments.length==0&&(a=[]);a!==o&&a!==j&&!("length"in a)&&d(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var f=new p.n(a);p.a.p("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){f[a]=function(){var b=f(),b=b[a].apply(b,arguments);f.ga();return b}});p.a.p(["slice"],function(a){f[a]=function(){var b=f();return b[a].apply(b,arguments)}});f.remove=function(a){for(var b=f(),e=[],i=[],h=typeof a=="function"?
a:function(b){return b===a},g=0,m=b.length;g<m;g++){var k=b[g];h(k)?i.push(k):e.push(k)}f(e);return i};f.Mb=function(a){if(a===j){var b=f();f([]);return b}return!a?[]:f.remove(function(b){return p.a.q(a,b)>=0})};f.oa=function(a){for(var b=f(),e=typeof a=="function"?a:function(b){return b===a},i=b.length-1;i>=0;i--)e(b[i])&&(b[i]._destroy=!0);f.ga()};f.pb=function(a){return a===j?f.oa(function(){return!0}):!a?[]:f.oa(function(b){return p.a.q(a,b)>=0})};f.indexOf=function(a){var b=f();return p.a.q(b,
a)};f.replace=function(a,b){var e=f.indexOf(a);e>=0&&(f()[e]=b,f.ga())};p.u(f,"remove",f.remove);p.u(f,"removeAll",f.Mb);p.u(f,"destroy",f.oa);p.u(f,"destroyAll",f.pb);p.u(f,"indexOf",f.indexOf);return f};p.b("ko.observableArray",p.Gb);
p.l=function(a,f,c){function b(){p.a.p(n,function(a){a.v()});n=[]}function e(a){b();p.a.p(a,function(a){n.push(a.D(i))})}function i(){if(m&&typeof c.disposeWhen=="function"&&c.disposeWhen())h.v();else{try{p.X.kb(),g=c.owner?c.read.call(c.owner):c.read()}finally{var a=p.a.la(p.X.end());e(a)}h.U(g);m=!0}}function h(){if(arguments.length>0)if(typeof c.write==="function"){var a=arguments[0];c.owner?c.write.call(c.owner,a):c.write(a)}else d("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
else return m||i(),p.X.Sa(h),g}var g,m=!1;a&&typeof a=="object"?c=a:(c=c||{},c.read=a||c.read,c.owner=f||c.owner);typeof c.read!="function"&&d("Pass a function that returns the value of the dependentObservable");var k=typeof c.disposeWhenNodeIsRemoved=="object"?c.disposeWhenNodeIsRemoved:o,l=o;if(k){l=function(){h.v()};p.a.K.Ga(k,l);var q=c.disposeWhen;c.disposeWhen=function(){return!p.a.pa(k)||typeof q=="function"&&q()}}var n=[];h.I=p.l;h.vb=function(){return n.length};h.xb=typeof c.write==="function";
h.v=function(){k&&p.a.K.Ta(k,l);b()};p.Ca.call(h);c.deferEvaluation!==!0&&i();p.u(h,"dispose",h.v);p.u(h,"getDependenciesCount",h.vb);return h};p.l.I=p.n;p.b("ko.dependentObservable",p.l);
(function(){function a(b,e,i){i=i||new c;b=e(b);if(!(typeof b=="object"&&b!==o&&b!==j))return b;var h=b instanceof Array?[]:{};i.save(b,h);f(b,function(c){var f=e(b[c]);switch(typeof f){case "boolean":case "number":case "string":case "function":h[c]=f;break;case "object":case "undefined":var k=i.get(f);h[c]=k!==j?k:a(f,e,i)}});return h}function f(a,e){if(a instanceof Array)for(var c=0;c<a.length;c++)e(c);else for(c in a)e(c)}function c(){var a=[],e=[];this.save=function(c,f){var g=p.a.q(a,c);g>=0?
e[g]=f:(a.push(c),e.push(f))};this.get=function(c){c=p.a.q(a,c);return c>=0?e[c]:j}}p.Ya=function(b){arguments.length==0&&d(Error("When calling ko.toJS, pass the object you want to convert."));return a(b,function(a){for(var b=0;p.aa(a)&&b<10;b++)a=a();return a})};p.toJSON=function(a){a=p.Ya(a);return p.a.Ba(a)}})();p.b("ko.toJS",p.Ya);p.b("ko.toJSON",p.toJSON);
p.o={B:function(a){return a.tagName=="OPTION"?a.__ko__hasDomDataOptionValue__===!0?p.a.m.get(a,p.d.options.xa):a.getAttribute("value"):a.tagName=="SELECT"?a.selectedIndex>=0?p.o.B(a.options[a.selectedIndex]):j:a.value},ha:function(a,f){if(a.tagName=="OPTION")switch(typeof f){case "string":case "number":p.a.m.set(a,p.d.options.xa,j);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=f;break;default:p.a.m.set(a,p.d.options.xa,f),a.__ko__hasDomDataOptionValue__=!0,a.value=
""}else if(a.tagName=="SELECT")for(var c=a.options.length-1;c>=0;c--){if(p.o.B(a.options[c])==f){a.selectedIndex=c;break}}else{if(f===o||f===j)f="";a.value=f}}};p.b("ko.selectExtensions",p.o);p.b("ko.selectExtensions.readValue",p.o.B);p.b("ko.selectExtensions.writeValue",p.o.ha);
p.H=function(){function a(a,b){return a.replace(c,function(a,e){return b[e]})}function f(a){return p.a.q(e,p.a.z(a).toLowerCase())>=0?!1:a[0]=="<"&&a[a.length-1]==">"?!0:a.match(b)!==o}var c=/\[ko_token_(\d+)\]/g,b=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];return{V:function(b){b=p.a.z(b);if(b.length<3)return{};for(var e=[],c=o,f,k=b.charAt(0)=="{"?1:0;k<b.length;k++){var l=b.charAt(k);if(c===o)switch(l){case '"':case "'":case "<":c=k;f=">";break;case "/":c=
k;f=l;break;case "{":c=k;f="}";break;case "[":c=k,f="]"}else if(l==f){l=b.substring(c,k+1);e.push(l);var q="[ko_token_"+(e.length-1)+"]",b=b.substring(0,c)+q+b.substring(k+1);k-=l.length-q.length;c=o}}c={};b=b.split(",");f=0;for(k=b.length;f<k;f++){var q=b[f],n=q.indexOf(":");n>0&&n<q.length-1&&(l=p.a.z(q.substring(0,n)),q=p.a.z(q.substring(n+1)),l.charAt(0)=="{"&&(l=l.substring(1)),q.charAt(q.length-1)=="}"&&(q=q.substring(0,q.length-1)),l=p.a.z(a(l,e)),q=p.a.z(a(q,e)),c[l]=q)}return c},yb:function(a){var b=
p.H.V(a),c=[],e;for(e in b){var k=b[e];f(k)&&(c.length>0&&c.push(", "),c.push(e+" : function(__ko_value) { "+k+" = __ko_value; }"))}c.length>0&&(a=a+", '_ko_property_writers' : { "+c.join("")+" } ");return a},sa:function(a){var a=p.H.V(a),b=[],c="",e=!0,k;for(k in a){var l=a[k];f(l)&&(b.length>0&&b.push(", "),l[0]==="<"&&l[l.length-1]===">"&&k!=="about"&&k!=="rel"?b.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(skonode); }; sko.current().tryProperty('"+l+
"') = __ko_value; }"):l.match(/\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]/)!=o&&k!=="about"&&k!=="rel"?b.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(skonode); }; sko.current().tryProperty('"+l+"') = __ko_value; }"):l[0]==="<"&&l[l.length-1]===">"&&(k==="about"||k==="rel")||l[0]==="["&&l[l.length-1]==="]"&&(k==="about"||k==="rel")||b.push(k+" : function(__ko_value) { sko.current = function() { return sko.currentResource(skonode); }; "+l+" = __ko_value; }"));
e?e=!1:c+=", ";c=l[0]==="<"&&l[l.length-1]===">"&&k!=="about"&&k!=="rel"?c+k+": (function(){ sko.current = function() { return sko.currentResource(skonode); }; return sko.current().tryProperty('"+l+"') })()":l.match(/\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]/)!=o&&k!=="about"&&k!=="rel"?c+k+": (function(){ sko.current = function() { return sko.currentResource(skonode); }; return sko.current().tryProperty('"+l+"') })()":l[0]==="<"&&l[l.length-1]===">"&&(k==="about"||k==="rel")?c+k+": '"+l.slice(1,
l.length-1)+"'":l.match(/\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]/)!=o&&(k==="about"||k==="rel")?c+k+": sko.rdf.prefixes.resolve('"+l.slice(1,l.length-1)+"')":c+k+": (function(){ sko.current = function() { return sko.currentResource(skonode); }; return "+l+" })()"}a=c;b.length>0&&(a=a+", '_ko_property_writers' : { "+b.join("")+" } ");return a}}}();p.b("ko.jsonExpressionRewriting",p.H);p.b("ko.jsonExpressionRewriting.parseJson",p.H.V);
p.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.H.yb);p.b("ko.jsonExpressionRewriting.insertPropertyReaderWritersIntoJson",p.H.sa);p.d={};
p.ja=function(a,f,c,b){function e(a){return function(){return g[a]}}function i(){return g}var h=!0,b=b||"data-bind",g;new p.l(function(){var m;if(typeof f=="function"){c.skonode=a;with(c)m=f()}else m=f;if(!m){var k=a.getAttribute(b);try{var l=" { "+p.H.sa(k)+" } ";m=p.a.ub(l,c===o?window:c,a)}catch(q){d(Error("Unable to parse binding attribute.\nMessage: "+q+";\nAttribute value: "+k))}}g=m;if(h)for(var n in g)p.d[n]&&typeof p.d[n].init=="function"&&(0,p.d[n].init)(a,e(n),i,c);for(n in g)p.d[n]&&typeof p.d[n].update==
"function"&&(0,p.d[n].update)(a,e(n),i,c)},o,{disposeWhenNodeIsRemoved:a});h=!1};p.ia=function(a,f){f&&f.nodeType==j&&d(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node (note: this is a breaking change since KO version 1.05)"));var f=f||window.document.body,c=p.a.Ka(f,"data-bind");p.a.p(c,function(b){p.ja(b,o,a)})};p.b("ko.bindingHandlers",p.d);p.b("ko.applyBindings",p.ia);p.b("ko.applyBindingsToNode",p.ja);
p.a.p(["click"],function(a){p.d[a]={init:function(f,c,b,e){return p.d.event.init.call(this,f,function(){var b={};b[a]=c();return b},b,e)}}});p.d.event={init:function(a,f,c,b){var e=f()||{},i;for(i in e)(function(){var e=i;typeof e=="string"&&p.a.P(a,e,function(a){var m,i=f()[e];if(i){var l=c();try{m=i.apply(b,arguments)}finally{if(m!==!0)a.preventDefault?a.preventDefault():a.returnValue=!1}if(l[e+"Bubble"]===!1)a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}})})()}};
p.d.submit={init:function(a,f,c,b){typeof f()!="function"&&d(Error("The value for a submit binding must be a function to invoke on submit"));p.a.P(a,"submit",function(c){var i,h=f();try{i=h.call(b,a)}finally{if(i!==!0)c.preventDefault?c.preventDefault():c.returnValue=!1}})}};p.d.visible={update:function(a,f){var c=p.a.f(f()),b=a.style.display!="none";if(c&&!b)a.style.display="";else if(!c&&b)a.style.display="none"}};
p.d.enable={update:function(a,f){var c=p.a.f(f());if(c&&a.disabled)a.removeAttribute("disabled");else if(!c&&!a.disabled)a.disabled=!0}};p.d.disable={update:function(a,f){p.d.enable.update(a,function(){return!p.a.f(f())})}};
p.d.value={init:function(a,f,c){var b=["change"],e=c().valueUpdate;e&&(typeof e=="string"&&(e=[e]),p.a.S(b,e),b=p.a.la(b));p.a.p(b,function(b){var e=!1;p.a.Vb(b,"after")&&(e=!0,b=b.substring(5));var g=e?function(a){setTimeout(a,0)}:function(a){a()};p.a.P(a,b,function(){g(function(){var b=f(),e=p.o.B(a);p.ba(b)?b(e):(b=c(),b._ko_property_writers&&b._ko_property_writers.value&&b._ko_property_writers.value(e))})})})},update:function(a,f){var c=p.a.f(f()),b=p.o.B(a),e=c!=b;c===0&&b!==0&&b!=="0"&&(e=!0);
e&&(b=function(){p.o.ha(a,c)},b(),a.tagName=="SELECT"&&setTimeout(b,0));a.tagName=="SELECT"&&(b=p.o.B(a),b!==c&&p.a.bb(a,"change"))}};
p.d.options={update:function(a,f,c){a.tagName!="SELECT"&&d(Error("options binding applies only to SELECT elements"));var b=p.a.ma(p.a.ka(a.childNodes,function(a){return a.tagName&&a.tagName=="OPTION"&&a.selected}),function(a){return p.o.B(a)||a.innerText||a.textContent}),e=a.scrollTop,i=p.a.f(f());p.a.qa(a);if(i){var h=c();typeof i.length!="number"&&(i=[i]);if(h.optionsCaption){var g=document.createElement("OPTION");g.innerHTML=h.optionsCaption;p.o.ha(g,j);a.appendChild(g)}c=0;for(f=i.length;c<f;c++){var g=
document.createElement("OPTION"),m=typeof h.optionsValue=="string"?i[c][h.optionsValue]:i[c],m=p.a.f(m);p.o.ha(g,m);var k=h.optionsText;optionText=typeof k=="function"?k(i[c]):typeof k=="string"?i[c][k]:m;if(optionText===o||optionText===j)optionText="";optionText=p.a.f(optionText).toString();typeof g.innerText=="string"?g.innerText=optionText:g.textContent=optionText;a.appendChild(g)}i=a.getElementsByTagName("OPTION");c=h=0;for(f=i.length;c<f;c++)p.a.q(b,p.o.B(i[c]))>=0&&(p.a.Wa(i[c],!0),h++);if(e)a.scrollTop=
e}}};p.d.options.xa="__ko.bindingHandlers.options.optionValueDomData__";
p.d.selectedOptions={Ma:function(a){for(var f=[],a=a.childNodes,c=0,b=a.length;c<b;c++){var e=a[c];e.tagName=="OPTION"&&e.selected&&f.push(p.o.B(e))}return f},init:function(a,f,c){p.a.P(a,"change",function(){var a=f();p.ba(a)?a(p.d.selectedOptions.Ma(this)):(a=c(),a._ko_property_writers&&a._ko_property_writers.value&&a._ko_property_writers.value(p.d.selectedOptions.Ma(this)))})},update:function(a,f){a.tagName!="SELECT"&&d(Error("values binding applies only to SELECT elements"));var c=p.a.f(f());if(c&&
typeof c.length=="number")for(var b=a.childNodes,e=0,i=b.length;e<i;e++){var h=b[e];h.tagName=="OPTION"&&p.a.Wa(h,p.a.q(c,p.o.B(h))>=0)}}};p.d.text={update:function(a,f){var c=p.a.f(f());if(c===o||c===j)c="";typeof a.innerText=="string"?a.innerText=c:a.textContent=c}};p.d.html={update:function(a,f){var c=p.a.f(f());p.a.Qb(a,c)}};p.d.css={update:function(a,f){var c=p.a.f(f()||{}),b;for(b in c)if(typeof b=="string"){var e=p.a.f(c[b]);p.a.Za(a,b,e)}}};
p.d.style={update:function(a,f){var c=p.a.f(f()||{}),b;for(b in c)if(typeof b=="string"){var e=p.a.f(c[b]);a.style[b]=e||""}}};p.d.uniqueName={init:function(a,f){if(f())a.name="ko_unique_"+ ++p.d.uniqueName.ob,p.a.ta&&a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),!1)}};p.d.uniqueName.ob=0;
p.d.checked={init:function(a,f,c){p.a.P(a,"click",function(){var b;if(a.type=="checkbox")b=a.checked;else if(a.type=="radio"&&a.checked)b=a.value;else return;var e=f();a.type=="checkbox"&&p.a.f(e)instanceof Array?(b=p.a.q(p.a.f(e),a.value),a.checked&&b<0?e.push(a.value):!a.checked&&b>=0&&e.splice(b,1)):p.ba(e)?e()!==b&&e(b):(e=c(),e._ko_property_writers&&e._ko_property_writers.checked&&e._ko_property_writers.checked(b))});a.type=="radio"&&!a.name&&p.d.uniqueName.init(a,function(){return!0})},update:function(a,
f){var c=p.a.f(f());if(a.type=="checkbox")a.checked=c instanceof Array?p.a.q(c,a.value)>=0:c,c&&p.a.ta&&a.mergeAttributes(document.createElement("<input type='checkbox' checked='checked' />"),!1);else if(a.type=="radio")a.checked=a.value==c,a.value==c&&(p.a.ta||p.a.Ab)&&a.mergeAttributes(document.createElement("<input type='radio' checked='checked' />"),!1)}};
p.d.attr={update:function(a,f){var c=p.a.f(f())||{},b;for(b in c)if(typeof b=="string"){var e=p.a.f(c[b]);e===!1||e===o||e===j?a.removeAttribute(b):a.setAttribute(b,e.toString())}}};
p.Da=function(){this.renderTemplate=function(){d("Override renderTemplate in your ko.templateEngine subclass")};this.isTemplateRewritten=function(){d("Override isTemplateRewritten in your ko.templateEngine subclass")};this.rewriteTemplate=function(){d("Override rewriteTemplate in your ko.templateEngine subclass")};this.createJavaScriptEvaluatorBlock=function(){d("Override createJavaScriptEvaluatorBlock in your ko.templateEngine subclass")}};p.b("ko.templateEngine",p.Da);
p.fa=function(){var a=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;return{tb:function(a,c){c.isTemplateRewritten(a)||c.rewriteTemplate(a,function(a){return p.fa.Fb(a,c)})},Fb:function(f,c){return f.replace(a,function(a,e,f,h,g,m,k){a=p.H.sa(k);return c.createJavaScriptEvaluatorBlock("ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {                     return (function() { return { "+a+" } })()                 })")+e})},
hb:function(a){return p.A.wa(function(c,b){c.nextSibling&&sko.ab(c.nextSibling,b,function(){sko.$a(c.nextSibling,b,function(){p.ja(c.nextSibling,a,b)})})})}}}();p.b("ko.templateRewriting",p.fa);p.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",p.fa.hb);
(function(){function a(a,b,e,i,h){var g=p.a.f(i),h=h||{},m=h.templateEngine||f;p.fa.tb(e,m);e=m.renderTemplate(e,g,h);(typeof e.length!="number"||e.length>0&&typeof e[0].nodeType!="number")&&d("Template engine must return an array of DOM nodes");switch(b){case "replaceChildren":p.a.Pb(a,e);break;case "replaceNode":p.a.Ua(a,e);break;case "ignoreTargetNode":break;default:d(Error("Unknown renderMode: "+b))}e&&p.a.p(e,function(a){p.A.eb(a,[i])});h.afterRender&&h.afterRender(e,i);return e}var f;p.Xa=function(a){a!=
j&&!(a instanceof p.Da)&&d("templateEngine must inherit from ko.templateEngine");f=a};p.ya=function(c,b,e,i,h){e=e||{};(e.templateEngine||f)==j&&d("Set a template engine before calling renderTemplate");h=h||"replaceChildren";if(i){var g=i.nodeType?i:i.length>0?i[0]:o;return new p.l(function(){var f=typeof c=="function"?c(b):c,f=a(i,h,f,b,e);h=="replaceNode"&&(i=f,g=i.nodeType?i:i.length>0?i[0]:o)},o,{disposeWhen:function(){return!g||!p.a.pa(g)},disposeWhenNodeIsRemoved:g&&h=="replaceNode"?g.parentNode:
g})}else return p.A.wa(function(a){p.ya(c,b,e,a,"replaceNode")})};p.Nb=function(c,b,e,f){return new p.l(function(){var h=p.a.f(b)||[];typeof h.length=="undefined"&&(h=[h]);h=p.a.ka(h,function(a){return e.includeDestroyed||!a._destroy});p.a.Va(f,h,function(b){var f=typeof c=="function"?c(b):c;return a(o,"ignoreTargetNode",f,b,e)},e)},o,{disposeWhenNodeIsRemoved:f})};p.d.template={update:function(a,b,e,f){b=p.a.f(b());e=typeof b=="string"?b:b.name;if(typeof b.foreach!="undefined")f=p.Nb(e,b.foreach||
[],{templateOptions:b.templateOptions,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,includeDestroyed:b.includeDestroyed,afterRender:b.afterRender},a);else var h=b.data,f=p.ya(e,typeof h=="undefined"?f:h,{templateOptions:b.templateOptions,afterRender:b.afterRender},a);(b=p.a.m.get(a,"__ko__templateSubscriptionDomDataKey__"))&&typeof b.v=="function"&&b.v();p.a.m.set(a,"__ko__templateSubscriptionDomDataKey__",f)}}})();p.b("ko.setTemplateEngine",p.Xa);p.b("ko.renderTemplate",p.ya);
p.a.T=function(a,f,c){if(c===j)return p.a.T(a,f,1)||p.a.T(a,f,10)||p.a.T(a,f,Number.MAX_VALUE);else{for(var a=a||[],f=f||[],b=a,e=f,i=[],h=0;h<=e.length;h++)i[h]=[];for(var h=0,g=Math.min(b.length,c);h<=g;h++)i[0][h]=h;h=1;for(g=Math.min(e.length,c);h<=g;h++)i[h][0]=h;for(var g=b.length,m,k=e.length,h=1;h<=g;h++){m=Math.max(1,h-c);for(var l=Math.min(k,h+c);m<=l;m++)i[m][h]=b[h-1]===e[m-1]?i[m-1][h-1]:Math.min(i[m-1][h]===j?Number.MAX_VALUE:i[m-1][h]+1,i[m][h-1]===j?Number.MAX_VALUE:i[m][h-1]+1)}c=
a.length;b=f.length;e=[];h=i[b][c];if(h===j)i=o;else{for(;c>0||b>0;){g=i[b][c];k=b>0?i[b-1][c]:h+1;l=c>0?i[b][c-1]:h+1;m=b>0&&c>0?i[b-1][c-1]:h+1;if(k===j||k<g-1)k=h+1;if(l===j||l<g-1)l=h+1;m<g-1&&(m=h+1);k<=l&&k<m?(e.push({status:"added",value:f[b-1]}),b--):(l<k&&l<m?e.push({status:"deleted",value:a[c-1]}):(e.push({status:"retained",value:a[c-1]}),b--),c--)}i=e.reverse()}return i}};p.b("ko.utils.compareArrays",p.a.T);
(function(){function a(a,c,b){var e=[],a=p.l(function(){var a=c(b)||[];e.length>0&&p.a.Ua(e,a);e.splice(0,e.length);p.a.S(e,a)},o,{disposeWhenNodeIsRemoved:a,disposeWhen:function(){return e.length==0||!p.a.pa(e[0])}});return{Db:e,l:a}}p.a.Va=function(f,c,b,e){for(var c=c||[],e=e||{},i=p.a.m.get(f,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===j,h=p.a.m.get(f,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],g=p.a.ma(h,function(a){return a.ib}),m=p.a.T(g,c),c=[],k=0,l=[],g=[],
q=o,n=0,v=m.length;n<v;n++)switch(m[n].status){case "retained":var r=h[k];c.push(r);r.Y.length>0&&(q=r.Y[r.Y.length-1]);k++;break;case "deleted":h[k].l.v();p.a.p(h[k].Y,function(a){l.push({element:a,index:n,value:m[n].value});q=a});k++;break;case "added":var s=a(f,b,m[n].value),r=s.Db;c.push({ib:m[n].value,Y:r,l:s.l});for(var s=0,w=r.length;s<w;s++){var t=r[s];g.push({element:t,index:n,value:m[n].value});q==o?f.firstChild?f.insertBefore(t,f.firstChild):f.appendChild(t):q.nextSibling?f.insertBefore(t,
q.nextSibling):f.appendChild(t);q=t}}p.a.p(l,function(a){p.J(a.element)});b=!1;if(!i){if(e.afterAdd)for(n=0;n<g.length;n++)e.afterAdd(g[n].element,g[n].index,g[n].value);if(e.beforeRemove){for(n=0;n<l.length;n++)e.beforeRemove(l[n].element,l[n].index,l[n].value);b=!0}}b||p.a.p(l,function(a){a.element.parentNode&&a.element.parentNode.removeChild(a.element)});p.a.m.set(f,"setDomNodeChildrenFromArrayMapping_lastMappingResult",c)}})();p.b("ko.utils.setDomNodeChildrenFromArrayMapping",p.a.Va);
p.ua=function(){this.O=typeof jQuery=="undefined"||!jQuery.tmpl?0:jQuery.tmpl.tag?jQuery.tmpl.tag.tmpl&&jQuery.tmpl.tag.tmpl.open&&jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0?3:2:1;this.getTemplateNode=function(a){var c=document.getElementById(a);c==o&&d(Error("Cannot find template with ID="+a));return c};var a=RegExp("__ko_apos__","g");this.renderTemplate=function(f,c,b){b=b||{};this.O==0&&d(Error("jquery.tmpl not detected.\nTo use KO's default template engine, reference jQuery and jquery.tmpl. See Knockout installation documentation for more details."));
if(this.O==1)return f='<script type="text/html">'+this.getTemplateNode(f).text+"<\/script>",c=jQuery.tmpl(f,c)[0].text.replace(a,"'"),jQuery.clean([c],document);if(!(f in jQuery.template)){var e=this.getTemplateNode(f).text;jQuery.template(f,e)}c=[c];c=jQuery.tmpl(f,c,b.templateOptions);c.appendTo(document.createElement("div"));jQuery.fragments={};return c};this.isTemplateRewritten=function(a){return a in jQuery.template?!0:this.getTemplateNode(a).Bb===!0};this.rewriteTemplate=function(a,c){var b=
this.getTemplateNode(a),e=c(b.text);this.O==1&&(e=p.a.z(e),e=e.replace(/([\s\S]*?)(\${[\s\S]*?}|{{[\=a-z][\s\S]*?}}|$)/g,function(a,b,e){return b.replace(/\'/g,"__ko_apos__")+e}));b.text=e;b.Bb=!0};this.createJavaScriptEvaluatorBlock=function(a){return this.O==1?"{{= "+a+"}}":"{{ko_code ((function() { return "+a+" })()) }}"};this.gb=function(a,c){document.write("<script type='text/html' id='"+a+"'>"+c+"<\/script>")};p.u(this,"addTemplate",this.gb);this.O>1&&(jQuery.tmpl.tag.ko_code={open:(this.O<
3?"_":"__")+".push($1 || '');"})};p.ua.prototype=new p.Da;p.Xa(new p.ua);p.b("ko.jqueryTmplTemplateEngine",p.ua);Utils={Rb:1E3,Aa:0};Utils.Lb=function(a){Utils.Aa===Utils.Rb?(Utils.Aa=0,setTimeout(a,0)):(Utils.Aa++,a())};Utils.repeat=function(a,f,c,b,e){arguments.length===4&&(e={});a<f?(e.Fa=a,c(function(e,c){Utils.Lb(function(){Utils.repeat(a+1,f,e,b,c)})},e)):b(e)};SemanticKnockOut={};window.sko=SemanticKnockOut;sko.fb=!1;sko.log=function(a){sko.fb&&console.log(a)};
sko.Xb=function(){sko.h={};sko.R={};sko.Q=0;sko.ra=0;sko.Z={};var a=o;arguments.length===2?(sko.k=arguments[0],a=arguments[1],sko.W=sko.k.W,a(!0)):(a=arguments[0],rdfstore.create(function(f){sko.k=f;sko.W=sko.k.W;a(!0)}))};sko.Ea=0;sko.w=function(){var a="_:sko_"+sko.Ea;sko.Ea++;return a};sko.h={};sko.R={};sko.Q=0;
sko.c=function(a,f,c){if(sko.c[a]!=o)c(a);else{var b=""+sko.Q;sko.Q++;a==o&&(a=sko.w());if(typeof a==="string"){var e=a;sko.k.L(sko.j(e),function(a,f){if(a){sko.log("FOUND RESOURCE: "+e);sko.log(f);sko.log(" FOR "+sko.j(e));sko.log(" ------------\> "+b+" : "+e);sko.h[b]=new sko.G(b,e,f);sko.c[b]=p.n(e);var g=sko.c[b].D(function(a){sko.log("*** OBSERVING NODE ABOT ID:"+b+" new value -> "+a);a==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.w());sko.k.L(sko.j(a),function(e,c){if(e){var f=
c.t()[0].da.valueOf();sko.log(" ------------\> "+b+" : "+f+" 2");sko.h[b].c(f)}else sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : "+a+" 3"),sko.h[b].c(a)})});sko.R[b]=g}c(b)})}else sko.c[b]=p.l({Ra:function(){var e=a();sko.log("*** OBSERVABLE READING DEPENDING NODE ABOT ID:"+b+" new value -> "+e);e==o&&(sko.log(" ** URI IS BLANK -> GEN BLANK LABEL"),e=sko.w());return e},write:function(e){sko.log("*** OBSERVABLE WRITING DEPENDING NODE ABOT ID:"+b+" new value -> "+e);e==o&&
(sko.log(" ** URI IS BLANK -> GEN BLANK LABEL"),e=sko.w());a(e)},Pa:f}),sko.k.L(sko.j(sko.c[b]()),function(a,e){if(a){sko.log(" ------------\> "+b+" : "+e+" 4");sko.h[b]=new sko.G(b,sko.c[b](),e);var f=sko.c[b].D(function(a){sko.log("*** OBSERVING NODE ABOT ID:"+b+" new value -> "+a);a!=o?sko.k.L(sko.j(a),function(e,c){if(e)if(c.t().length>0){var f=c.t()[0].da.e();sko.log(" ------------\> "+b+" : "+f+" 5");sko.h[b].c(f)}else sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : "+
a+" 6"),sko.h[b].c(a);else sko.log("Error updating 3 resource for URI:"+a+" in SKO about node observer"),sko.log("*** NO RESOURCE FOR URI:"+a+" NEXT ID:"+b),sko.log(" ------------\> "+b+" : "+a+" 7"),sko.h[b].c(a)}):(sko.log("*** NO RESOURCE FOR URI:"+a),sko.log(" ------------\> "+b+" : NEW BLANK  8"),sko.h[b].c(sko.w()))});sko.R[b]=f}c(b)})}};
sko.rel=function(a,f,c,b){var e=""+sko.Q,i=o;sko.Q++;if(typeof a==="string"){var h=sko.F(a),i=h;sko.c[e]=p.l({Ra:function(){sko.log("*** OBSERVABLE READING RELATED  DEPENDING NODE ABOT ID:"+e);var a=sko.M(jQuery(f).parent().t()[0]);sko.log(a);if(a!=o)if(sko.log(" ** about:"+a.c()),sko.log("*** Found parent resource: "+a.c()),a[h]){var b=a[h]();if(b!=o&&!sko.Na(a[h]()))return b=sko.F(b),sko.h[e]==o||sko.h[e].c()!=b?(sko.log("*** found related resource: "+b),sko.k.L(sko.j(b),function(a,c){sko.log("CREATED NODE FOR ID "+
e+" AND URI: "+sko.j(b));sko.log(c);sko.log(" ------------\> "+e+" : "+b+" 8b");sko.h[e]=new sko.G(e,b,c)})):sko.log("*** Related resource hasn't changed"),b;else{if(b==o){sko.log("*** related resource is null");sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL");var c=sko.w();sko.log(" ** setting parent node related resource to "+c);a[h](c)}else sko.h[e]?(sko.log("*** setting new value for related resource "+c),sko.log(" ------------\> "+e+" : "+c+" 9"),sko.h[e].c(c)):sko.log("!! Should I create the new blank node?");
return c}}else sko.log("!!! parent resource doest not link to the related resource");else sko.log("!!! impossible to find parent resource")},write:function(a){a==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.w());a=sko.F(a);sko.log("*** OBSERVABLE WRITING RELATED DEPENDING NODE ABOT ID:"+e+" URI -> "+a);var b=sko.M(jQuery(f).parent().t()[0]);b!=o?(sko.log("*** Found parent resource: "+b.c()),b[i]?(sko.log("*** Setting new related resource in parent resource found: "+a),b[i](a)):sko.log("!!! parent resource doest not link to the related resource")):
sko.log("!!! impossible to find parent resource")},Pa:c});c=sko.c[e].D(function(a){sko.log("*** OBSERVING RELATED NODE ABOT ID:"+e+" new value -> "+a);a==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.w());a=sko.F(a);sko.c[e]()!=o?sko.j(a)!==sko.j(sko.c[e]())&&sko.k.L(sko.j(a),function(b,c){b?(c.t(),sko.log(" ------------\> "+e+" : "+h+" 10"),sko.h[e].c(h)):sko.log("Error updating 1 resource for URI:"+a+" in SKO about related node observer")}):sko.log("!! this resource is now null, should be removed from list of resources?")})}else sko.c[e]=
p.l({Ra:function(){var b=a(),b=sko.F(b);sko.log("*** OBSERVABLE READING RELATED DEPENDING NODE ABOT ID:"+e+" URI -> "+b);b==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),b=sko.w());var c=sko.M(jQuery(f).parent().t()[0]);if(c!=o)if(sko.log("*** Found parent resource: "+c.c()),c[b]){var h=c[b]();sko.log("*** found related resource: "+h);sko.k.L(sko.j(h),function(a,b){sko.log(" ------------\> "+e+" : "+h+" 11");sko.h[e]=new sko.G(e,h,b)});return h}else sko.log("!!! parent resource doest not link to the related resource");
else sko.log("!!! impossible to find parent resource")},write:function(b){var b=sko.F(b),c=sko.M(jQuery(f).parent().t()[0]);sko.log("*** OBSERVABLE WRITING RELATED DEPENDING NODE ABOT ID:"+e+" URI -> "+b);b==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),b=sko.w());c!=o?(sko.log("*** Found parent resource: "+c.c()),c[a()]?(sko.log("*** Setting new related resource in parent resource found: "+b),c[a()](b),a(b)):sko.log("!!! parent resource doest not link to the related resource")):sko.log("!!! impossible to find parent resource")},
Pa:c}),c=sko.c[e].D(function(a){a=sko.F(a);sko.log("*** OBSERVING RELATED NODE (F) ABOT ID:"+e+" new value -> "+a);a==o&&(sko.log(" ** NEXT URI IS NULL, GEN BLANK LABEL"),a=sko.w());sko.j(a)!=sko.j(sko.c[e]())?sko.k.L(sko.j(a),function(b,c){if(b){var f=c.t()[0].da.valueOf();sko.log(" ------------\> "+e+" : "+f+" 12");sko.h[e].c(f)}else sko.log("Error updating  2 resource for URI:"+a+" in SKO about related node observer")}):sko.log("*** Related about resource hasn't changed")});sko.R[e]=c;b(e)};
sko.j=function(a){if(a[0]==="<"&&a[a.length-1]==">")return a.slice(1,a.length-1);else if(a.match(/\[[^,;"\]\}\{\[\.:]+:[^,;"\}\]\{\[\.:]+\]/)!=o)if(a=a.slice(1,a.length-1),resolved=sko.W.Jb.Ob(a),resolved==o)d("The CURIE "+a+" cannot be resolved");else return resolved;else return a};
sko.Ia=function(a){if(a==o)return o;else if(a.$&&a.$==="Literal")if(a.s=="http://www.w3.org/2001/XMLSchema#integer"||a.s=="http://www.w3.org/2001/XMLSchema#decimal"||a.s=="http://www.w3.org/2001/XMLSchema#double"||a.s=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||a.s=="http://www.w3.org/2001/XMLSchema#negativeInteger"||a.s=="http://www.w3.org/2001/XMLSchema#long"||a.s=="http://www.w3.org/2001/XMLSchema#int"||a.s=="http://www.w3.org/2001/XMLSchema#short"||a.s=="http://www.w3.org/2001/XMLSchema#byte"||
a.s=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||a.s=="http://www.w3.org/2001/XMLSchema#unsignedLong"||a.s=="http://www.w3.org/2001/XMLSchema#unsignedInt"||a.s=="http://www.w3.org/2001/XMLSchema#unsignedShort"||a.s=="http://www.w3.org/2001/XMLSchema#unsignedByte"||a.s=="http://www.w3.org/2001/XMLSchema#positiveInteger")return parseFloat(a.valueOf());else if(a.type==="http://www.w3.org/2001/XMLSchema#boolean")return a.valueOf()==="true"||a.valueOf()===!0||a.valueOf()==="True";else if(a.type===
"http://www.w3.org/2001/XMLSchema#string")return a.valueOf();else if(a.type==="http://www.w3.org/2001/XMLSchema#dateTime")return new Date(a.valueOf());else{if(a.type==o)return a.valueOf()}else return a.valueOf()};sko.N=p.n(o);
sko.G=function(a,f,c){this.za=a;this.i={};this.ea=[];this.C={};var b=this;this.N=p.l(function(){return sko.N()});f=sko.F(f);c.forEach(function(a){sko.log(a);if(a.object.$==="NamedNode")b.i[a.g.e()]=a.object.e(),b[a.g.e()]=p.n(a.object.e());else if(a.object.$==="Literal")if(b.N()!=o){if(b.i[a.g.e()]==o||a.object.language==b.N()){var c=sko.Ia(a.object.valueOf());b.i[a.g.e()]=c;b[a.g.e()]=p.n(c);b[sko.j(a.g.e())]=b[a.g.e()];b.C[a.g.e()]=a.object.language}}else{if(b.i[a.g.e()]==o||a.object.language==
o)c=sko.Ia(a.object.valueOf()),b.i[a.g.e()]=c,b[a.g.e()]=p.n(c),b[sko.j(a.g.e())]=b[a.g.e()],b.C[a.g.e()]=a.object.language}else b.i[a.g.e()]=a.object.valueOf(),b[a.g.e()]=p.n(a.object.valueOf()),b[sko.j(a.g.e())]=b[a.g.e()]});this.c=p.n(f);this["@"]=this.c;this.ca=sko.G.Ub(this);b=this;this.ea.push(this.c.D(function(a){sko.log("SKO Resource new resource:"+a);sko.log("*** STOP OBSERVING NODE STORE");sko.k.Tb(b.ca);if(a!=o&&a.indexOf("_:sko")!=0)sko.log("*** START OBSERVING NODE STORE FOR "+b.c()),
sko.k.Sb(sko.j(a),b.ca);else{sko.log("*** nullifying resources");for(var c in b.i)b.i[c]=o;for(c in b.i)b[c](o)}}));sko.G.Cb(this);sko.k.Sb(sko.j(this.c()),b.ca)};sko.F=function(a){a[0]==="["&&a[a.length-1]==="]"&&(a=a.slice(1,a.length-1),resolved=sko.W.Jb.Ob(a),a==o?d("The CURIE "+a+" cannot be resolved"):a="<"+resolved+">");return a};sko.Na=function(a){return a.indexOf("_:sko")===0};
sko.J=function(a){sko.log("*** CLEANING!");sko.log(a);var f=jQuery(a).r("aboutId"),c=[];f!=o&&c.push(f);c=c.concat(sko.nb(a));for(a=0;a<c.length;a++)if(sko.h[c[a]]!=o){sko.log("*** DISCONNECTING "+c[a]);sko.log(sko.h[c[a]]);f=sko.h[c[a]];sko.log(" ** DISCONNECTING");sko.k.Tb(f.ca);sko.log(" ** disconnected STORE");for(var b=0;b<f.ea.length;b++)sko.log(" ** disconnecting subscription"),f.ea[b].v();sko.log(" ** disconnecting resource map");sko.R[f.za].v();sko.log(" ** deleting");delete sko.h[f.za];
delete sko.c[f.za]}};
sko.G.Cb=function(a){function f(a,c){sko.log("*** subcribing to property "+c);var f=a[c].D(function(f){sko.log("*** received KO notification for property "+c+" -> "+f);if(a.i[c]!=o&&a.i[c]!==f&&!sko.Na(f)){var g='"'+a.i[c]+'"',f='"'+f+'"';a.C[c]!=o&&(g=g+"@"+a.C[c],f=f+"@"+a.C[c]);var i="DELETE { "+a.c()+" "+c+" "+g+" }",i=i+" INSERT { "+a.c()+" "+c+" "+f+" }",i=i+" WHERE { "+a.c()+" "+c+" "+g+" }",i=i.replace(/"</g,"<").replace(/>"/g,">");a.i[c]=f;sko.log("*** updating STORE: \n  "+i);sko.k.execute(i)}});
a.ea.push(f)}for(var c in a.i)f(a,c)};
sko.G.Ub=function(a){return function(f){sko.log("*** received notification change from STORE in resource "+a.c());if(a.c().indexOf("_:sko")!==0){var c={},b={};sko.log("*** triples in STORE resource -> "+f.t().length);f.forEach(function(e){if(e.object.$==="NamedNode")sko.log(" "+e.g.e()+" -> "+e.object.e()),c[e.g.e()]=e.object.e();else if(a.N()!=o){if(c[e.g.e()]==o||e.object.language==a.N())sko.log(" "+e.g.e()+" -> "+e.object.valueOf()),c[e.g.e()]=e.object.valueOf(),b[e.g.e()]=e.object.language}else if(c[e.g.e()]==
o||e.object.language==o)sko.log(" "+e.g.e()+" -> "+e.object.valueOf()),c[e.g.e()]=e.object.valueOf(),b[e.g.e()]=e.object.language});var e={},f=[],i=[],h=[],g;for(g in a.i)if(c[g]!=o){if(e[g]=c[g],a.i[g]!==c[g]&&(i.push(g),b[g]!=o||a.C[g]!=o))a.C[g]=b[g]}else f.push(g),delete a.C[g];for(g in c)a.i[g]==o&&(h.push(g),e[g]=c[g],a.C[g]=b[g]);a.i=e;for(g=0;g<f.length;g++)sko.log("*** setting value to null "+f[g]+" -> NULL"),a[f[g]](o);for(g=0;g<i.length;g++)sko.log("*** updating value "+i[g]+" -> "+a.i[i[g]]),
a[i[g]](a.i[i[g]]);for(g=0;g<h.length;g++)sko.log("*** new value "+h[g]+" -> "+a.i[h[g]]),a[h[g]]=p.n(a.i[h[g]]),a[sko.j(h[g])]=a[h[g]];sko.log("*** END MODIFICATION")}}};
sko.ab=function(a,f,c){function b(a,c){node=e[c.Fa];var g=jQuery(node).r("about");g==o&&(dataBind=jQuery(node).r("data-bind"),dataBind!=o&&dataBind.indexOf("about:")!=-1&&(g=/s*([^ ]+)s*,?/.exec(dataBind.split("about:")[1])[0],g[g.length-1]===","&&(g=g.slice(0,g.length-1))));g!=o&&g!=""?(typeof g==="string"&&g[0]!=="<"&&g[g.length-1]!==">"&&g[0]!=="["&&g[g.length-1]!=="]"&&(g=f[g]),sko.c(g,f,function(e){jQuery(node).r("aboutId",e);a(b,c)})):a(b,c)}sko.log("** TRACING:");sko.log(a);var e=[];(jQuery(a).r("about")||
jQuery(a).r("data-bind"))&&e.push(a);a=jQuery(a).find("*[about], *[data-bind]").t();e=e.concat(a);Utils.repeat(0,e.length,b,function(){c()})};sko.M=function(a){sko.log("in current resource");sko.log(a);if(a==o)return sko.log("!!! top of DOM tree, About node not found"),o;var f=jQuery(a).r("aboutId");sko.log("about id:"+f);if(f)if(a=sko.c[f](),sko.log("uri:"+a),a!=o)return sko.h[f];else sko.log("!!! current resource is null: "+f);else return sko.log("recurring"),sko.M(jQuery(a).parent().t()[0])};
sko.Ha=function(a){sko.log("in current resource node");sko.log(a);if(a==o)return sko.log("!!! top of DOM tree, About node not found"),o;var f=jQuery(a).r("aboutId");sko.log("about id:"+f);if(f){var c=sko.c[f]();sko.log("uri:"+c);return c!=o?a:(sko.log("!!! current resource is null: "+f),o)}else return sko.log("recurring"),sko.Ha(jQuery(a).parent().t()[0])};sko.nb=function(a){return jQuery(a).find("*[aboutId]").map(function(){return jQuery(this).r("aboutId")})};
sko.$a=function(a,f,c){function b(a,c){node=e[c.Fa];var g=jQuery(node).r("rel");g==o&&(dataBind=jQuery(node).r("data-bind"),dataBind!=o&&dataBind.indexOf("rel:")!=-1&&(g=/s*([^ ]+)s*,?/.exec(dataBind.split("rel:")[1])[0],g[g.length-1]===","&&(g=g.slice(0,g.length-1))));g!=o&&g!=""?(typeof g==="string"&&g[0]!=="<"&&g[g.length-1]!==">"&&g[0]!=="["&&g[g.length-1]!=="]"&&(g=f[g]),jQuery(node).r("aboutId")==o?(sko.log("*** CREATING RELATED NODE"),sko.rel(g,node,f,function(e){jQuery(node).r("aboutId",e);
a(b,c)})):(sko.log("*** NODE IS ALREADY TRACED"),a(b,c))):a(b,c)}sko.log("*** TRACING RELATIONS:");a=sko.Ha(a)||a;sko.log("*** FOUND ROOT NODE TO LOOK FOR RELATIONS:");sko.log(a);var e=[];(jQuery(a).r("rel")||jQuery(a).r("data-bind"))&&e.push(a);a=jQuery(a).find("*[rel], *[data-bind]").t();e=e.concat(a);sko.log(" ** NODES TO LOOK FOR RELATED RESOURCES");sko.log(e);Utils.repeat(0,e.length,b,function(){c()})};sko.ra=0;sko.Z={};
sko.ac=function(a){var a="select ?subject where "+a,f=""+sko.ra;sko.ra++;sko.Z[f]=p.n([]);sko.log("*** WHERE QUERY: "+a);sko.k.Zb(a,function(a){var b=[];sko.log(" ** RESULTS!!!");for(var e=0;e<a.length;e++)sko.log(" ** ADDING VALUE "+a[e].da.value),b.push("<"+a[e].da.value+">");sko.log("** SETTING VALUE");sko.log(b);sko.Z[f](b)});return sko.Z[f]};sko.ia=function(a,f,c){typeof a==="string"&&(a=jQuery(a)[0]);sko.ab(a,f,function(){sko.$a(a,f,function(){p.ia(f,a);c!=o&&c()})})};sko.Yb=function(a){return sko.M(jQuery(a).t()[0])};
})(window);
